(this.webpackJsonproom2=this.webpackJsonproom2||[]).push([[0],{126:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/desert.afb4dc6a.png"},127:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/blossoming-flower.5f78e6a8.png"},128:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/mushroom.6f17f235.png"},129:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/woozy.df9645ec.png"},130:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/teddy-bear.a4c592be.png"},131:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/butterfly.22ba9572.png"},132:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/leaf-in-wind.b5dea42c.png"},133:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/spiral-shell.49e9854a.png"},134:function(e,t,s){"use strict";s.r(t);var n=s(1),i=s.n(n),r=s(45),a=s.n(r),o=s(3),c=s(4),d=s(2),l=s(6),u=s(5),h=(s(52),s(0)),p=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).detectVolumeHover=function(e){var t=e.target,s=Math.trunc((e.clientY-t.getBoundingClientRect().top)/t.offsetHeight*n.state.volumeNotches);n.state.hoverNotch!==s&&(n.setState({hoverNotch:s}),Array.from(document.getElementsByClassName("VolumeHover")).forEach((function(e){e.classList.remove("VolumeHover")})),e.target.childNodes[s].classList.add("VolumeHover"),1===e.buttons&&n.detectVolumeClick(e))},n.detectVolumeClick=function(e){var t=e.target,s=Math.trunc((e.clientY-t.getBoundingClientRect().top)/t.offsetHeight*n.state.volumeNotches);Array.from(document.getElementsByClassName("VolumeNotch")).forEach((function(e,t){t+1>s?e.classList.add("VolumeActive"):e.classList.remove("VolumeActive")}));for(var i=document.getElementsByClassName("MuteLines"),r=3-s/n.state.volumeNotches*3,a=0;a<3;a++)a<r?i[a].classList.add("active"):i[a].classList.remove("active");var o=1-s/n.state.volumeNotches;n.props.changeVolume(o)},n.state={volumeNotches:12,volumeDragging:!1,hoverNotch:null},n}return Object(c.a)(s,[{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{id:"mute-button",onClick:this.props.muteAudio,children:this.props.isMuted?Object(h.jsx)(j,{}):Object(h.jsx)(m,{})}),Object(h.jsx)("div",{id:"volume-wrapper"})]})}},{key:"componentDidMount",value:function(){this.createNotches()}},{key:"createNotches",value:function(){var e=document.getElementById("volume-wrapper");e.addEventListener("mousemove",this.detectVolumeHover),e.addEventListener("mouseenter",this.detectVolumeHover),e.addEventListener("mousedown",this.detectVolumeClick),e.addEventListener("mouseleave",this.exitVolumeWrapper);for(var t=this.state.volumeNotches,s=0;s<t;s++){var n=document.createElement("div");n.classList.add("VolumeNotch"),n.classList.add("VolumeActive"),n.id=t-s,n.style.height=100/t+"%",e.appendChild(n)}}},{key:"exitVolumeWrapper",value:function(){Array.from(document.getElementsByClassName("VolumeHover")).forEach((function(e){e.classList.remove("VolumeHover")}))}}]),s}(n.Component);function m(e){return Object(h.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",transform:"",children:[Object(h.jsx)("path",{id:"mute-speaker",d:" M 10,42\r A 2,2 90 0 1 12,40\r L 15,40 30,15 35,15\r Q 38,50 35,85 \r L 30,85 15,60 12,60\r A 2,2 90 0 1 10,58\r Z              \r "}),Object(h.jsx)("path",{fill:"none",stroke:"black",strokeLinecap:"round",strokeWidth:"6",className:"MuteLines active",d:" M 45,35\r Q 55,50 45,65"}),Object(h.jsx)("path",{fill:"none",stroke:"black",strokeLinecap:"round",strokeWidth:"6",className:"MuteLines active",d:" M 55,22.5\r Q 77.33,50 55,77.5"}),Object(h.jsx)("path",{fill:"none",stroke:"black",strokeLinecap:"round",strokeWidth:"6",className:"MuteLines active",d:" M 65,10\r Q 101.66,50 65,90"})]})}function j(e){return Object(h.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",opacity:"50%",children:[Object(h.jsx)("path",{id:"mute-speaker",d:" M 10,42\r A 2,2 90 0 1 12,40\r L 15,40 30,15 35,15\r Q 38,50 35,85 \r L 30,85 15,60 12,60\r A 2,2 90 0 1 10,58\r Z              \r "}),Object(h.jsx)("path",{fill:"none",stroke:"black",strokeWidth:"6",d:" M 50, 35\r L 80, 65\r "}),Object(h.jsx)("path",{fill:"none",stroke:"black",strokeWidth:"6",d:" M 80, 35\r L 50, 65\r "})]})}var g=s(22),b=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).getCustomCursor=function(){var e='\n          <svg\n            height="'.concat(n.props.brushSize,'"\n            fill="').concat(n.props.brushColour,'"\n            viewBox="0 0 ').concat(2*n.props.brushSize," ").concat(2*n.props.brushSize,'"\n            width="').concat(n.props.brushSize,'"\n            xmlns="http://www.w3.org/2000/svg"\n          >\n            <circle\n              cx="50%"\n              cy="50%"\n              r="').concat(n.props.brushSize,'" \n            />\n          </svg>\n        ');return"url(data:image/svg+xml;base64,".concat(window.btoa(e),") ").concat(n.props.brushSize/2," ").concat(n.props.brushSize/2,", move")},n.state={},n.getCustomCursor=n.getCustomCursor.bind(Object(d.a)(n)),n.updateCanvasDimensions=n.updateCanvasDimensions.bind(Object(d.a)(n)),n}return Object(c.a)(s,[{key:"render",value:function(){return Object(h.jsxs)("div",{id:"drawing-canvas-wrapper",children:[Object(h.jsx)("canvas",{id:"drawing-canvas"}),Object(h.jsx)("svg",{width:"10px",height:"10px",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",id:"drawing-cursor",children:Object(h.jsx)("circle",{r:"5",fill:"white"})})]})}},{key:"componentDidMount",value:function(){this.fabricInit()}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(e){if(e.brushColour!==this.props.brushColour){var t=this.state.canvas;t.freeDrawingBrush.color=this.props.brushColour,t.freeDrawingCursor=this.getCustomCursor()}if(e.brushSize!==this.props.brushSize){var s=this.state.canvas;s.freeDrawingBrush.width=this.props.brushSize,s.freeDrawingCursor=this.getCustomCursor()}}},{key:"fabricInit",value:function(){var e=this,t=new g.fabric.Canvas("drawing-canvas",{isDrawingMode:!0}),s=document.getElementById("drawing-canvas-wrapper");t.setWidth(s.offsetWidth),t.setHeight(s.offsetHeight),t.freeDrawingBrush.color=this.props.brushColour,t.freeDrawingBrush.width=this.props.brushSize,t.freeDrawingCursor=this.getCustomCursor(),t.on("mouse:down",this.props.setIsDrawing),this.setState({canvas:t},(function(){window.addEventListener("resize",e.updateCanvasDimensions)})),this.props.setCanvas(t)}},{key:"updateCanvasDimensions",value:function(){var e=document.getElementById("drawing-canvas-wrapper");e&&(this.state.canvas.setWidth(e.offsetWidth),this.state.canvas.setHeight(e.offsetHeight),this.setState({canvasWidth:e.offsetWidth,canvasHeight:e.offsetHeight}))}}]),s}(n.Component),v=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).drag=function(e){n.state.dragging||(window.requestAnimationFrame((function(){n.setDragPosition(e),n.setState({dragging:!1})})),n.setState({dragging:!0}))},n.state={dragging:!1},n.getMousePosition=n.getMousePosition.bind(Object(d.a)(n)),n.startDrag=n.startDrag.bind(Object(d.a)(n)),n.endDrag=n.endDrag.bind(Object(d.a)(n)),n}return Object(c.a)(s,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"emoji-tri-wrapper",children:Object(h.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",id:"emoji-tri-svg-wrapper",children:[Object(h.jsx)("clipPath",{id:"emoji-tri-clip-path",clipPathUnits:"objectBoundingBox",children:Object(h.jsx)("polygon",{points:"0,0 1,0 0.5,1"})}),Object(h.jsx)("foreignObject",{x:"10",y:"15.36",width:"80",height:"69.28",clipPath:"url(#emoji-tri-clip-path)",children:Object(h.jsx)("div",{id:"emoji-tri-gradients",xmlns:"http://www.w3.org/1999/xhtml"})}),Object(h.jsx)("foreignObject",{x:"0",y:"0",width:"20",height:"20",children:Object(h.jsx)("img",{id:"emoji-1",alt:this.props.emoji1.alt,src:this.props.emoji1.src})}),Object(h.jsx)("foreignObject",{x:"80",y:"0",width:"20",height:"20",children:Object(h.jsx)("img",{id:"emoji-2",alt:this.props.emoji2.alt,src:this.props.emoji2.src})}),Object(h.jsx)("foreignObject",{x:"40",y:"80",width:"20",height:"20",children:Object(h.jsx)("img",{id:"emoji-3",alt:this.props.emoji3.alt,src:this.props.emoji3.src})}),Object(h.jsx)("circle",{id:"selector-circle",className:"Draggable",cx:"0",cy:"0",r:"7",transform:"translate(50 45)",fill:"url(#stroke-gradient)"}),Object(h.jsx)("defs",{children:Object(h.jsxs)("radialGradient",{id:"stroke-gradient",children:[Object(h.jsx)("stop",{offset:"0%",stopColor:"transparent"}),Object(h.jsx)("stop",{offset:"90%",stopColor:"white"}),Object(h.jsx)("stop",{offset:"95%",stopColor:"black"})]})})]})})}},{key:"componentDidMount",value:function(){this.svgWrapper=document.getElementById("emoji-tri-svg-wrapper"),this.svgWrapper.addEventListener("mousedown",this.startDrag),this.svgWrapper.addEventListener("mousedown",this.drag)}},{key:"componentWillUnmount",value:function(){this.svgWrapper.removeEventListener("mousedown",this.startDrag),this.svgWrapper.removeEventListener("mousedown",this.drag)}},{key:"startDrag",value:function(){document.body.classList.add("dragactive"),document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.endDrag)}},{key:"setDragPosition",value:function(e){e.preventDefault();var t=this.getMousePosition(e),s=this.clamp(t.y,15.36,84.64),n=40*this.norm(s,84.64,15.36),i=this.clamp(t.x,50-n,50+n);document.getElementById("selector-circle").transform.baseVal.getItem(0).setTranslate(i,s)}},{key:"endDrag",value:function(){document.body.classList.remove("dragactive"),document.removeEventListener("mousemove",this.drag),document.removeEventListener("mouseup",this.endDrag)}},{key:"getMousePosition",value:function(e){var t=this.svgWrapper.getScreenCTM();return{x:(e.clientX-t.e)/t.a,y:(e.clientY-t.f)/t.d}}},{key:"clamp",value:function(e,t,s){return Math.min(Math.max(e,t),s)}},{key:"norm",value:function(e,t,s){return(e-t)/(s-t)}}]),s}(n.Component),x=Object(h.jsx)("span",{children:"This website was created and is maintained on the unceded territory of the Wurundjeri People of the Eastern Kulin Nation, the Traditional Custodians of the land. We recognise their ongoing legacy of connection to land, waters and culture and pay respect to their Elders past and present. We extend this respect to all other First Nations peoples of this continent, whose stolen land the material pathways that allow our digital connectivity are built upon."}),f=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{children:"room2.fm seeks to create a digital space for collective reflection, sharing, and vulnerability. During the last lockdown season we were lucky to have a range of guest artists who helped facilitate this by contributing sounds, texts and visuals to the space, which was brought together by the active participation in the responses and in the chat by those attending the space on each given weekly event."}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{children:"There is no right or wrong way for you to listen, respond to, or feel a piece of music or sound. We encourage you to trust your ears and intuition and respond sincerely and in whatever way feels true to your experience."}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)("span",{className:"ModalTextSmall",children:["This website has been optimised to run with the window maximised on Chrome and Firefox on a desktop or laptop screen. If you are having issues, please try one of these browsers.",Object(h.jsx)("br",{}),"If you would like a high-contrast version of the response text with no distortion please click 'Focus Mode' button.",Object(h.jsx)("br",{}),"We will be moderating responses that we feel are intentionally disruptive or may make others feel unsafe in the space."]}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{})]}),_=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{children:"You can share your response to the music, prompts and visuals in a number of ways."}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{children:"Periodically, text prompts will come up in the lower middle of the screen. Underneath the prompts you can select to respond via either writing or drawing depending on what you think is most appropriate. Once you are happy with your response you can click the \u2018submit response\u2019 button to share it with others. Above the \u2018submit response\u2019 button, you can select the colour palette you will be able to draw responses with, along with options to change the brush size, use an eraser and undo or redo additions to your drawing."}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{children:"Your responses to these prompts will be completely anonymised and not attributable to you in any way, however during this demonstration we will be capturing a screen recording of the experience."}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{children:"You can also use the chat box on the right of the screen to directly speak to others participating. Select a username and click \u2018Join Room\u2019 to engage. Be yourself, be someone else, be whomever you want to be!"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"ModalTextSmall",children:"room2.fm was created by Patrick Hase and Anuraag Bhatia. We welcome your thoughts, feedback, or questions - please send them through to room2fm@gmail.com"})]}),O=(h.Fragment,function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={modalPages:4,currentPage:0},n.continueClick=n.continueClick.bind(Object(d.a)(n)),n}return Object(c.a)(s,[{key:"render",value:function(){return Object(h.jsxs)("div",{id:"modal-wrapper",children:[w(this.state.currentPage),0!==this.state.currentPage&&Object(h.jsx)("button",{id:"modal-continue-button",onClick:this.continueClick,children:" Continue "})]})}},{key:"continueClick",value:function(){this.state.currentPage<this.state.modalPages-1?this.setState((function(e){return{currentPage:e.currentPage+1}})):this.props.toggleModal()}}]),s}(n.Component));function w(e,t){switch(e){case 0:default:return Object(h.jsx)(y,{});case 1:return Object(h.jsx)(S,{});case 2:return Object(h.jsx)(C,{});case 3:return Object(h.jsx)(k,{})}}function y(e){return Object(h.jsx)("div",{id:"logo-wrapper",children:Object(h.jsx)("div",{id:"text-logo",children:Object(h.jsxs)("pre",{id:"pre-logo-wrapper",children:[Object(h.jsxs)("div",{id:"logo-line-1",children:["__________________________________________________________________",Object(h.jsx)("u",{className:"text-gradient-1",children:"/\\\\\\\\\\\\\\\\\\"}),"_____        ",Object(h.jsx)("br",{})]}),Object(h.jsxs)("div",{id:"logo-line-2",children:["\xa0________________________________________________________________",Object(h.jsx)("u",{className:"text-gradient-2",children:"/\\\\\\///////\\\\\\"}),"___       ",Object(h.jsx)("br",{})]}),Object(h.jsxs)("div",{id:"logo-line-3",children:["\xa0\xa0_______________________________________________________________",Object(h.jsx)("u",{className:"text-gradient-3",children:"\\///"}),"______",Object(h.jsx)("u",{className:"text-gradient-3",children:"\\//\\\\\\"}),"__      ",Object(h.jsx)("br",{})]}),Object(h.jsxs)("div",{id:"logo-line-4",children:["\xa0\xa0\xa0__",Object(h.jsx)("u",{className:"text-gradient-4",children:"/\\\\/\\\\\\\\\\\\\\"}),"______",Object(h.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\\\\\"}),"________",Object(h.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\\\\\"}),"_______",Object(h.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\\\\\"}),"__",Object(h.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\\\\\"}),"_____________",Object(h.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\/"}),"___     ",Object(h.jsx)("br",{})]}),Object(h.jsxs)("div",{id:"logo-line-5",children:["\xa0\xa0\xa0\xa0_",Object(h.jsx)("u",{className:"text-gradient-5",children:"\\/\\\\\\/////\\\\\\"}),"___",Object(h.jsx)("u",{className:"text-gradient-5",children:"/\\\\\\///\\\\\\"}),"____",Object(h.jsx)("u",{className:"text-gradient-5",children:"/\\\\\\///\\\\\\"}),"___",Object(h.jsx)("u",{className:"text-gradient-5",children:"/\\\\\\///\\\\\\\\\\///\\\\\\"}),"________",Object(h.jsx)("u",{className:"text-gradient-5",children:"/\\\\\\//"}),"_____    ",Object(h.jsx)("br",{})]}),Object(h.jsxs)("div",{id:"logo-line-6",children:["\xa0\xa0\xa0\xa0\xa0_",Object(h.jsx)("u",{className:"text-gradient-6",children:"\\/\\\\\\"}),"___",Object(h.jsx)("u",{className:"text-gradient-6",children:"\\///"}),"___",Object(h.jsx)("u",{className:"text-gradient-6",children:"/\\\\\\"}),"__",Object(h.jsx)("u",{className:"text-gradient-6",children:"\\//\\\\\\"}),"__",Object(h.jsx)("u",{className:"text-gradient-6",children:"/\\\\\\"}),"__",Object(h.jsx)("u",{className:"text-gradient-6",children:"\\//\\\\\\"}),"_",Object(h.jsx)("u",{className:"text-gradient-6",children:"\\/\\\\\\"}),"_",Object(h.jsx)("u",{className:"text-gradient-6",children:"\\//\\\\\\"}),"__",Object(h.jsx)("u",{className:"text-gradient-6",children:"\\/\\\\\\"}),"_____",Object(h.jsx)("u",{className:"text-gradient-6",children:"/\\\\\\//"}),"________   ",Object(h.jsx)("br",{})]}),Object(h.jsxs)("div",{id:"logo-line-7",children:["\xa0\xa0\xa0\xa0\xa0\xa0_",Object(h.jsx)("u",{className:"text-gradient-7",children:"\\/\\\\\\"}),"_________",Object(h.jsx)("u",{className:"text-gradient-7",children:"\\//\\\\\\"}),"__",Object(h.jsx)("u",{className:"text-gradient-7",children:"/\\\\\\"}),"__",Object(h.jsx)("u",{className:"text-gradient-7",children:"\\//\\\\\\"}),"__",Object(h.jsx)("u",{className:"text-gradient-7",children:"/\\\\\\"}),"__",Object(h.jsx)("u",{className:"text-gradient-7",children:"\\/\\\\\\"}),"__",Object(h.jsx)("u",{className:"text-gradient-7",children:"\\/\\\\\\"}),"__",Object(h.jsx)("u",{className:"text-gradient-7",children:"\\/\\\\\\"}),"___",Object(h.jsx)("u",{className:"text-gradient-7",children:"/\\\\\\/"}),"___________  ",Object(h.jsx)("br",{})]}),Object(h.jsxs)("div",{id:"logo-line-8",children:["\xa0\xa0\xa0\xa0\xa0\xa0\xa0_",Object(h.jsx)("u",{className:"text-gradient-8",children:"\\/\\\\\\"}),"__________",Object(h.jsx)("u",{className:"text-gradient-8",children:"\\///\\\\\\\\\\/"}),"____",Object(h.jsx)("u",{className:"text-gradient-8",children:"\\///\\\\\\\\\\/"}),"___",Object(h.jsx)("u",{className:"text-gradient-8",children:"\\/\\\\\\"}),"__",Object(h.jsx)("u",{className:"text-gradient-8",children:"\\/\\\\\\"}),"__",Object(h.jsx)("u",{className:"text-gradient-8",children:"\\/\\\\\\"}),"__",Object(h.jsx)("u",{className:"text-gradient-8",children:"/\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"}),"_ ",Object(h.jsx)("br",{})]}),Object(h.jsxs)("div",{id:"logo-line-9",children:["\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0_",Object(h.jsx)("u",{className:"text-gradient-9",children:"\\///"}),"_____________",Object(h.jsx)("u",{className:"text-gradient-9",children:"\\/////"}),"________",Object(h.jsx)("u",{className:"text-gradient-9",children:"\\/////"}),"_____",Object(h.jsx)("u",{className:"text-gradient-9",children:"\\///"}),"___",Object(h.jsx)("u",{className:"text-gradient-9",children:"\\///"}),"___",Object(h.jsx)("u",{className:"text-gradient-9",children:"\\///"}),"__",Object(h.jsx)("u",{className:"text-gradient-9",children:"\\///////////////"}),"__",Object(h.jsx)("br",{})]})]})})})}function S(e){return Object(h.jsx)("div",{id:"modal-text-wrapper",className:"modal-text-wrapper-aoc",children:Object(h.jsx)("div",{id:"modal-text-vert-align",children:Object(h.jsx)("div",{id:"modal-text",className:"modal-text-aoc",children:x})})})}function C(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{id:"modal-title-wrapper",children:Object(h.jsx)("div",{id:"modal-title",children:"Welcome to room2.fm live!"})}),Object(h.jsx)("div",{id:"modal-text-wrapper",children:Object(h.jsx)("div",{id:"modal-text-vert-align",children:Object(h.jsx)("div",{id:"modal-text",children:f})})}),Object(h.jsx)("div",{id:"modal-button-wrapper"})]})}function k(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{id:"modal-title-wrapper",children:Object(h.jsx)("div",{id:"modal-title",children:"Welcome to room2.fm live!"})}),Object(h.jsx)("div",{id:"modal-text-wrapper",children:Object(h.jsx)("div",{id:"modal-text-vert-align",children:Object(h.jsx)("div",{id:"modal-text",children:_})})}),Object(h.jsx)("div",{id:"modal-button-wrapper"})]})}var B=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{id:"top-banner-wrapper",children:[Object(h.jsx)("img",{id:"cd-gif",src:s(60).default,alt:"spinning cd gif"}),Object(h.jsx)("div",{id:"marquee-wrapper",children:Object(h.jsxs)("div",{id:"marquee-text-scroll",children:[Object(h.jsx)("span",{className:"MarqueeEmoji",children:" ~(\u02d8\u25be\u02d8~) "}),"~ ~ ~ room2.fm is live ",Object(h.jsx)("span",{className:"MarqueeEmoji",children:"(~\u02d8\u25be\u02d8)~"})," ","NOW PLAYING: "+this.props.currentArtist," ",Object(h.jsx)("span",{className:"MarqueeEmoji",children:" ~(\u02d8\u25be\u02d8~) "}),"~ ~ ~ room2.fm is live ",Object(h.jsx)("span",{className:"MarqueeEmoji",children:"(~\u02d8\u25be\u02d8)~"})," ","NOW PLAYING: "+this.props.currentArtist," ",Object(h.jsx)("span",{className:"MarqueeEmoji",children:" ~(\u02d8\u25be\u02d8~) "}),"~ ~ ~ room2.fm is live ",Object(h.jsx)("span",{className:"MarqueeEmoji",children:"(~\u02d8\u25be\u02d8)~"})," ","NOW PLAYING: "+this.props.currentArtist]})})]})}}]),n}(n.Component),N=B,I=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={frameColour:"#ffffff88"},n}return Object(c.a)(s,[{key:"render",value:function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{id:"drawing-buttons-wrapper",children:[Object(h.jsxs)("button",{id:"increase-brush-button",className:"RightUIButton",onClick:this.props.changeBrushSize,children:[" BRUSH + ",Object(h.jsx)("div",{id:"brush-up-icon"})]}),Object(h.jsxs)("button",{id:"decrease-brush-button",className:"RightUIButton",onClick:this.props.changeBrushSize,children:[" BRUSH - ",Object(h.jsx)("div",{id:"brush-down-icon"})]}),Object(h.jsxs)("button",{id:"erase-brush-button",className:"RightUIButton",onClick:this.props.toggleEraser,children:[" ERASER ",Object(h.jsx)("div",{id:"eraser-icon"})]}),Object(h.jsxs)("button",{id:"undo-button",className:"RightUIButton",onClick:this.props.undoDrawing,children:[" UNDO ",Object(h.jsx)("div",{id:"undo-icon"})]}),Object(h.jsxs)("button",{id:"redo-button",className:"RightUIButton",onClick:this.props.redoDrawing,children:[" REDO ",Object(h.jsx)("div",{id:"redo-icon"})]})]})})}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){if(e.colours.colour1!==this.props.colours.colour1){var t=this.props.colours.colour1.substring(1),s=parseInt(t,16);.2126*(s>>16&255)+.7152*(s>>8&255)+.0722*(s>>0&255)<40?this.setState({frameColour:"#ffffff88"}):this.setState({frameColour:"#00000088"})}}}]),s}(n.Component);n.Component;var D,E=s(46),R=s(14),M=s(47),L=R.Shaders.create({onecolour:{frag:Object(R.GLSL)(D||(D=Object(E.a)(["\n    // based on Inigo Quilez noise shader https://www.shadertoy.com/view/XdXGW8\n    precision highp float;\n    varying vec2 uv;\n    uniform float width;\n    uniform float height;\n    uniform float timer;\n    const vec3 ycol = vec3(.824,.953,.91);\n    const vec3 lcol = vec3(.961,.652,.266);\n    const vec3 rcol = vec3(.184,.219,.297);\n    \n    vec2 hash( vec2 x ) {\n      const vec2 k = vec2( 0.3183099, 0.3678794 );\n      x = x*k + k.yx;\n      return -1.0 + 2.0*fract( 16.0 * k*fract( x.x*x.y*(x.x+x.y)) );\n    }\n\n    float noise( in vec2 p ) {\n      vec2 i = floor( p );\n      vec2 f = fract( p );\t\n\t    vec2 u = f*f*(3.0-2.0*f);\n      return mix( mix( dot( hash( i + vec2(0.0,0.0) ), f - vec2(0.0,0.0) ), \n                       dot( hash( i + vec2(1.0,0.0) ), f - vec2(1.0,0.0) ), u.x),\n                  mix( dot( hash( i + vec2(0.0,1.0) ), f - vec2(0.0,1.0) ), \n                       dot( hash( i + vec2(1.0,1.0) ), f - vec2(1.0,1.0) ), u.x), u.y);\n    }\n\n    void main() {\n      vec2 res = vec2(width,height);\n      vec2 st = gl_FragCoord.xy / res;\n      vec2 translate = vec2(0.,0.5*timer);\n      if (fract( st.y * 0.5) > 0.4  || fract( st.y * 0.5) < 0.2){\n        st.x += translate.y*0.35; }\n      else {\n        if (fract( st.x * 0.5) > 0.2 || fract( st.x * 0.5) < 0.3){\n          st.x -= timer*0.5; }\n        else {\n          st.x += timer*0.35; }\n      }\n      if (fract( st.y * 0.5) > 0.8 || fract( st.y * 0.5) < 0.6){\n        st.x += translate.y*0.35; }\n      else {\n        if (fract( st.x * 0.5) < 0.4 || fract( st.x * 0.5) > 0.3){\n          st.x -= timer*0.5; }\n        else {\n          st.x += timer*0.35; }\n      }      \n      float f = noise( 2.0*st );\n      f = 1.-(0.6 + 0.2*f);\n      vec3 ycol = ycol * (0.5 * sin(timer));\n\n      gl_FragColor = vec4(min(mix(ycol,mix(rcol,lcol,uv.x-0.2),uv.y+0.2), vec3(f,f,f)), 1.0);\n    }"])))}}),T=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(M.Surface,{width:.75*this.props.width,height:.68*this.props.height,children:Object(h.jsx)(R.NearestCopy,{children:Object(h.jsx)(R.Node,{shader:L.onecolour,ignoreUnusedUniforms:!0,uniforms:{timer:this.props.timer,width:.075*this.props.width,height:.068*this.props.width},width:.075*this.props.width,height:.068*this.props.height})})})})}}]),s}(n.Component),A=T,P=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).randomInt=function(e,t){return Math.floor(Math.random()*(t-e)+e)},n.clamp=function(e,t,s){return Math.min(Math.max(e,t),s)},n.state={waitForNewResponseBox:5e3,textHangTime:15e3,textFadeTime:1500,responseBoundaryArray:[],editingBoundaryArray:!1},n.createResponseTextBox=n.createResponseTextBox.bind(Object(d.a)(n)),n}return Object(c.a)(s,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"response-wrapper"})}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){var e=this;this.props.responsesToDisplay&&document.getElementsByClassName("TextResponseBox").length<9&&setTimeout((function(){var t=e.props.getNextResponse();t&&("image"===t[1]?e.createResponseImageBox(t[0]):e.createResponseTextBox(t[0]))}),this.state.waitForNewResponseBox)}},{key:"responseTest",value:function(){var e=this;setTimeout((function(){e.createResponseTextBox("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Leo urna molestie at elementum eu facilisis. Id eu nisl nunc mi ipsum faucibus. Vel risus commodo viverra maecenas accumsan lacus vel facilisis. Malesuada bibendum arcu vitae elementum."),e.responseTest()}),5e3)}},{key:"createResponseTextBox",value:function(e){var t=this,s=document.getElementById("response-wrapper"),n=document.createElement("span");n.innerHTML=e;var i=this.randomInt(0,75),r=this.randomInt(0,75),a=this.randomInt(25,75-i);n.style.maxWidth=a+"%",n.classList.add("TextResponseBox"),s.appendChild(n),n.style.left=i+"%",n.style.top=r+"%",setTimeout((function(){n.classList.add("FadeIn"),setTimeout((function(){n.classList.add("FadeOut")}),t.state.textHangTime),setTimeout((function(){s.removeChild(n)}),t.state.textFadeTime+t.state.textHangTime+100)}),100)}},{key:"createResponseImageBox",value:function(e){var t=this,s=document.createElement("img");s.addEventListener("load",(function(){var e=Math.random(),n=Math.random(),i=s.naturalWidth/s.naturalHeight,r=t.clamp(s.naturalWidth*e,.25*t.props.width,.75*t.props.width),a=r/i,o=r/(.75*t.props.width)*100,c=a/(.68*t.props.height)*100;s.style.left=(100-o)/2*n+"%",s.style.width=o+"%",s.style.top=(100-c)/2*n+"%",s.style.height=c+"%",s.classList.add("ImageResponseBox"),setTimeout((function(){s.classList.add("FadeIn"),setTimeout((function(){s.classList.add("FadeOut")}),t.state.textHangTime),setTimeout((function(){document.getElementById("response-wrapper").removeChild(s)}),t.state.textFadeTime+t.state.textHangTime+100)}),100),document.getElementById("response-wrapper").appendChild(s)})),s.src="https://humstore.thelongesthum.world/"+e}},{key:"detectCollision",value:function(e,t,s,n){var i={left:e,right:t,top:s,bottom:n},r=t-e,a=n-s;return this.state.responseBoundaryArray.forEach((function(o){for(var c=!0;c;)if(t>o.left){var d=t-o.left;r-d>=25&&(i.right-=d)}else if(e<o.right){var l=o.right-e;r-l>=25&&(i.left-=l)}else if(n>o.top){var u=n-o.top;a-u>=25&&(i.bottom-=u)}else if(s<o.bottom){var h=o.bottom-s;r-h>=25&&(i.top-=h)}else c=!1})),i}},{key:"addBoundary",value:function(e){var t=this;this.state.editingBoundaryArray?setTimeout(this.addBoundary(e),77):this.setState({editingBoundaryArray:!0},(function(){var s=t.state.responseBoundaryArray;s.push(e),t.setState({responseBoundaryArray:s},(function(){t.setState({editingBoundaryArray:!1})}))}))}},{key:"removeBoundary",value:function(){var e=this;this.state.responseBoundaryArray.length>0&&(this.state.editingBoundaryArray?setTimeout(this.removeBoundary(),69):this.setState({editingBoundaryArray:!0},(function(){var t=e.state.responseBoundaryArray.slice(1);e.setState({responseBoundaryArray:t},(function(){e.setState({editingBoundaryArray:!1})}))})))}}]),s}(n.Component),W=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"audio-stream-wrapper",children:Object(h.jsx)("audio",{id:"audio-stream",src:"https://room2interface.xyz/stream",type:"audio/mpg",crossOrigin:"anonymous"})})}},{key:"componentDidMount",value:function(){this.audioInit()}},{key:"audioInit",value:function(){this.audioStream=document.getElementById("audio-stream"),this.props.setStreamPlayer(this.audioStream);var e=window.AudioContext||window.webkitAudioContext||!1;if(e){var t=new e,s=t.createGain();this.props.setGainControl(s),t.createMediaElementSource(this.audioStream).connect(s),s.connect(t.destination),this.audioStream.load(),this.audioStream.play()}else alert("Sorry, but the Web Audio API is not supported by your browser. Please, consider upgrading to the latest version or downloading Google Chrome or Mozilla Firefox")}}]),s}(n.Component),F=W,z=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={},n.click=n.click.bind(Object(d.a)(n)),n}return Object(c.a)(s,[{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{id:"col-swap-button",onClick:this.click,children:Object(h.jsx)(H,{})}),Object(h.jsx)("span",{id:"word-change",children:"CHANGE"}),Object(h.jsx)("span",{id:"word-colour",children:"COLOUR"}),Object(h.jsxs)("div",{id:"col-select-wrapper",children:[Object(h.jsx)("input",{type:"color",id:"col1Select",className:"col-select first",name:"col1Select",defaultValue:this.props.colours.colour1}),Object(h.jsx)("input",{type:"color",id:"col2Select",className:"col-select second",name:"col23Select",defaultValue:this.props.colours.colour2}),Object(h.jsx)("input",{type:"color",id:"col3Select",className:"col-select third",name:"col33Select",defaultValue:this.props.colours.colour3})]})]})}},{key:"componentDidMount",value:function(){document.getElementById("col1Select").addEventListener("input",this.colorInputChange.bind(this),!1),document.getElementById("col2Select").addEventListener("input",this.colorInputChange.bind(this),!1),document.getElementById("col3Select").addEventListener("input",this.colorInputChange.bind(this),!1)}},{key:"click",value:function(){for(var e=document.getElementsByClassName("col-select"),t=0;t<3;t++){var s=e[t].classList;switch(!0){case s.contains("first"):s.remove("first"),s.add("third");break;case s.contains("second"):s.remove("second"),s.add("first");break;case s.contains("third"):s.remove("third"),s.add("second")}}this.props.changeColourOrder()}},{key:"colorInputChange",value:function(e){var t=e.target.id.charAt(3);switch(document.documentElement.style.setProperty("--comp-col-0"+t,e.target.value),e.target.classList[1]){case"first":this.props.changeColours("colour1",e.target.value);break;case"second":this.props.changeColours("colour2",e.target.value);break;case"third":this.props.changeColours("colour3",e.target.value)}}}]),s}(n.Component);function H(){return Object(h.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[Object(h.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"6",refX:"7",refY:"3",orient:"auto",children:Object(h.jsx)("polygon",{points:"0 0, 8 3.5, 0 6"})}),Object(h.jsx)("path",{fill:"none",strokeWidth:"8",markerEnd:"url(#arrowhead)",d:" M 25, 50\r L 0,13.4 100,13.4 50,86.6\r "})]})}var U=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={isMuted:!1,streamPlayer:null,emojiX:.5,emojiY:.5,timer:0,infoOverlay:!0},n.setStreamPlayer=n.setStreamPlayer.bind(Object(d.a)(n)),n.setGainControl=n.setGainControl.bind(Object(d.a)(n)),n}return Object(c.a)(s,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"desktop-wrapper",children:this.props.modalIsOpen?Object(h.jsx)(O,{mobile:this.props.mobile,toggleModal:this.props.toggleModal}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(N,{currentArtist:this.props.currentArtist}),Object(h.jsx)("div",{id:"bg-vis-wrapper",children:Object(h.jsx)(A,{timer:this.state.timer,height:this.props.height,width:this.props.width})}),Object(h.jsx)(P,{getNextResponse:this.props.getNextResponse,responsesToDisplay:this.props.responsesToDisplay,height:this.props.height,width:this.props.width}),Object(h.jsxs)("div",{id:"current-prompt-wrapper",children:[Object(h.jsxs)("div",{id:"prompt-end-timer-wrapper",children:[Object(h.jsx)("div",{id:"prompt-end-timer"}),Object(h.jsx)("div",{id:"prompt-end-timer-overlay"})]}),Object(h.jsx)("div",{id:"current-prompt",children:this.props.currentPrompt}),Object(h.jsx)("div",{id:"input-select-wrapper",children:Object(h.jsxs)("span",{children:["I would like to\xa0",Object(h.jsx)("button",{id:"draw-input-select",className:"InputSelectButton",onClick:this.props.setDrawInput,children:"draw"}),"\xa0/\xa0",Object(h.jsx)("button",{id:"text-input-select",className:"InputSelectButton ActiveInputButton",onClick:this.props.setWriteInput,children:"write"}),"\xa0a response"]})})]}),Object(h.jsx)(v,{height:this.props.height,artistPresets:this.props.artistPresets,emoji1:this.props.emoji1,emoji2:this.props.emoji2,emoji3:this.props.emoji3}),Object(h.jsxs)("div",{id:"input-wrapper",children:[Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("textarea",{id:"text-input",name:"text based prompt response",placeholder:"Please type your response here..."})}),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(b,{brushColour:this.props.colours.colour1,brushSize:this.props.brushSize,setCanvas:this.props.setCanvas,setIsDrawing:this.props.setIsDrawing})})]}),Object(h.jsx)(I,{undoDrawing:this.props.undoDrawing,redoDrawing:this.props.redoDrawing,toggleEraser:this.props.toggleEraser,colours:this.props.colours,changeColourOrder:this.props.changeColourOrder,changeColours:this.props.changeColours,changeBrushSize:this.props.changeBrushSize}),Object(h.jsxs)("div",{id:"right-ui-wrapper",children:[Object(h.jsx)("div",{id:"drawing-tools-wrapper",children:Object(h.jsx)(z,{colours:this.props.colours,changeColourOrder:this.props.changeColourOrder,changeColours:this.props.changeColours})}),Object(h.jsx)("button",{id:"response-submit-button",onClick:this.props.submitResponse,children:Object(h.jsx)("span",{children:"SUBMIT RESPONSE"})}),Object(h.jsx)(p,{muteAudio:this.muteAudio.bind(this),isMuted:this.state.isMuted,changeVolume:this.changeVolume.bind(this)}),Object(h.jsx)(F,{setStreamPlayer:this.setStreamPlayer,setGainControl:this.setGainControl})]}),Object(h.jsx)("iframe",{title:"text chat",id:"chat",src:"https://deadsimplechat.com/34MeFCATo"})]})})}},{key:"componentDidMount",value:function(){this.startTimer()}},{key:"startTimer",value:function(){var e=this;this.myInterval=setInterval((function(){e.setState((function(e){return{timer:e.timer+.01}}))}),50)}},{key:"setStreamPlayer",value:function(e){this.setState({streamPlayer:e})}},{key:"setGainControl",value:function(e){this.setState({gainControl:e})}},{key:"muteAudio",value:function(){var e=this.state.streamPlayer;this.state.isMuted?(this.setState({isMuted:!1}),e.muted=!1):(this.setState({isMuted:!0}),e.muted=!0)}},{key:"changeVolume",value:function(e){this.state.gainControl.gain.setValueAtTime(e,this.state.streamPlayer.currentTime)}},{key:"toggleInfoOverlay",value:function(){this.setState((function(e){return{infoOverlay:!e.infoOverlay}}))}}]),s}(n.Component),V=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(h.jsx)(h.Fragment,{children:this.props.modalIsOpen?Object(h.jsx)(O,{mobile:this.props.mobile,toggleModal:this.props.toggleModal}):Object(h.jsx)(h.Fragment,{})})}}]),s}(n.Component),Y=V,G=[{artistname:"Izabel ~ WORDS BY: Emile Frankel ~ VISUALS BY: Mohamed Chamas",emoji01:s(126).default,emoji01width:"1.6vw",emoji01alt:"desert emoji",emoji02:s(127).default,emoji02width:"1.6vw",emoji02alt:"blooming flower emoji",emoji03:s(128).default,emoji03width:"1.6vw",emoji03alt:"mushroom emoji"},{artistname:"Hani Hanbali ~ WORDS BY: Emile Frankel ~ VISUALS BY: Mohamed Chamas",emoji01:s(21).default,emoji01width:"1.6vw",emoji01alt:"alien face emoji",emoji02:s(129).default,emoji02width:"1.6vw",emoji02alt:"woozy emoji",emoji03:s(130).default,emoji03width:"1.6vw",emoji03alt:"teddy bear emoji"},{artistname:"Hannah Wu ~ WORDS BY: Panda Wong ~ VISUALS BY: Mohamed Chamas",emoji01:s(131).default,emoji01width:"1.6vw",emoji01alt:"butterfly emoji",emoji02:s(132).default,emoji02width:"1.6vw",emoji02alt:"leaf in wind emoji",emoji03:s(133).default,emoji03width:"1.6vw",emoji03alt:"spiral shell emoji"}],J=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).changeBrushSize=function(t){"increase-brush-button"===t.target.id?e.state.brushSize<20&&e.setState((function(e){return{brushSize:e.brushSize+2}})):e.state.brushSize>2&&e.setState((function(e){return{brushSize:e.brushSize-2}}))},e.state={mobile:window.matchMedia("all and (any-hover: none)").matches,width:window.innerWidth,height:window.innerHeight,modalIsOpen:!0,currentArtist:null,currentPrompt:null,promptType:"draw",promptCountdown:!1,emoji1:s(21),emoji2:s(21),emoji3:s(21),scheduleLoopTime:5e3,responsesToDisplay:!1,unseenResponses:[],lastResponseID:0,drawingResponse:!1,maxUndo:10,drawingCanvas:null,redoStack:[],stateStack:[],currentCanvasState:null,colours:{colour1:"#222323",colour2:"#5252ff",colour3:"#b5e877"},brushSize:8,isDrawing:!1,isEraser:!1,savedBrush:null,focusMod:!1},e.setCanvas=e.setCanvas.bind(Object(d.a)(e)),e.saveCanvasState=e.saveCanvasState.bind(Object(d.a)(e)),e.updateWindowDimensions=e.updateWindowDimensions.bind(Object(d.a)(e)),e.toggleModal=e.toggleModal.bind(Object(d.a)(e)),e.updateEmojis=e.updateEmojis.bind(Object(d.a)(e)),e.updateSchedule=e.updateSchedule.bind(Object(d.a)(e)),e.getNextResponse=e.getNextResponse.bind(Object(d.a)(e)),e.submitResponse=e.submitResponse.bind(Object(d.a)(e)),e.setIsDrawing=e.setIsDrawing.bind(Object(d.a)(e)),e.toggleEraser=e.toggleEraser.bind(Object(d.a)(e)),e.undoDrawing=e.undoDrawing.bind(Object(d.a)(e)),e.redoDrawing=e.redoDrawing.bind(Object(d.a)(e)),e.setDrawInput=e.setDrawInput.bind(Object(d.a)(e)),e.setWriteInput=e.setWriteInput.bind(Object(d.a)(e)),e.startPromptCountdown=e.startPromptCountdown.bind(Object(d.a)(e)),e}return Object(c.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"global-wrapper",children:this.state.mobile?Object(h.jsx)(Y,{modalIsOpen:this.state.modalIsOpen,toggleModal:this.toggleModal,mobile:this.state.mobile,currentPrompt:this.state.currentPrompt,drawingInput:this.state.drawingInput}):Object(h.jsx)(U,{modalIsOpen:this.state.modalIsOpen,toggleModal:this.toggleModal,toggleFocus:this.toggleFocus.bind(this),mobile:this.state.mobile,currentPrompt:this.state.currentPrompt,promptType:this.state.promptType,currentArtist:this.state.currentArtist,height:this.state.height,width:this.state.width,artistPresets:G,emoji1:this.state.emoji1,emoji2:this.state.emoji2,emoji3:this.state.emoji3,submitResponse:this.submitResponse,getNextResponse:this.getNextResponse,responsesToDisplay:this.state.responsesToDisplay,setCanvas:this.setCanvas,changeBrushSize:this.changeBrushSize.bind(this),colours:this.state.colours,brushSize:this.state.brushSize,setIsDrawing:this.setIsDrawing,changeColourOrder:this.changeColourOrder.bind(this),changeColours:this.changeColours.bind(this),undoDrawing:this.undoDrawing.bind(this),redoDrawing:this.redoDrawing.bind(this),toggleEraser:this.toggleEraser.bind(this),setDrawInput:this.setDrawInput,setWriteInput:this.setWriteInput,drawingResponse:this.state.drawingResponse})})}},{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions),this.state.mobile}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"toggleModal",value:function(){this.state.modalIsOpen?(this.setState({modalIsOpen:!1}),document.addEventListener("mouseup",this.saveCanvasState)):(this.setState({modalIsOpen:!0}),document.removeEventListener("mouseup",this.saveCanvasState))}},{key:"initSchedule",value:function(){var e=this;fetch("https://room2.fm/api/getScheduleInit",{headers:{"Content-type":"application/json"},method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(t){return e.setStateFromDB(t.data)}))}},{key:"updateSchedule",value:function(){var e=this;fetch("https://room2.fm/api/getScheduleUpdate",{headers:{"Content-type":"application/json"},method:"POST",mode:"cors",body:JSON.stringify({lastResponseID:this.state.lastResponseID})}).then((function(e){return e.json()})).then((function(t){e.setStateFromDB(t.data)})),setTimeout(this.updateSchedule,this.state.scheduleLoopTime)}},{key:"setStateFromDB",value:function(e){var t=e[0][0],s=e[1];if(t.currentArtist!==this.state.currentArtist&&(this.updateEmojis(t.emoji1,t.emoji2,t.emoji3),this.setState({currentArtist:t.currentArtist})),t.currentPrompt!==this.state.currentPrompt&&(document.getElementById("prompt-end-timer-wrapper")?this.startPromptCountdown(t.currentPrompt):this.setState({currentPrompt:t.currentPrompt,promptType:t.promptType})),s.length){var n=[];s.forEach((function(e){return n.push([e.RESPONSE,e.RESPONSE_TYPE])})),this.setState((function(e){return{unseenResponses:e.unseenResponses.concat(n),responsesToDisplay:!0,lastResponseID:s[s.length-1].id}}))}}},{key:"updateEmojis",value:function(e,t,s){var n=this;fetch("https://room2.fm/api/getEmojisUpdate",{headers:{"Content-type":"application/json"},method:"POST",mode:"cors",body:JSON.stringify({emoji1:e,emoji2:t,emoji3:s})}).then((function(e){return e.json()})).then((function(e){n.setState({emoji1:{alt:e.data[0].altText,src:e.data[0].emojiString},emoji2:{alt:e.data[1].altText,src:e.data[1].emojiString},emoji3:{alt:e.data[2].altText,src:e.data[2].emojiString}})}))}},{key:"submitResponse",value:function(){if(this.state.drawingResponse){if(this.state.stateStack.length>0){var e=document.getElementById("drawing-canvas"),t=e.toDataURL({format:"png",left:0,top:0,width:e.width,height:e.height}),s=new FormData,n=this.dataURLtoFile(t,"response.png");this.state.drawingCanvas.clear(),s.append("upload",n,"response.png"),fetch("https://room2.fm/api/insertImageResponse",{method:"PUT",body:s}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e)})).catch((function(e){console.error("Error:",e)})),this.resetUndoStack()}}else{var i=document.getElementById("text-input"),r=i.value;r.length>0&&(i.value="",fetch("https://room2.fm/api/insertTextResponse",{headers:{"Content-type":"application/json"},method:"POST",mode:"cors",body:JSON.stringify({reflectText:r})}).then((function(e){return console.log(e.json())})))}}},{key:"getNextResponse",value:function(){var e=null;if(0===this.state.unseenResponses.length)this.setState({responsesToDisplay:!1});else{var t=this.state.unseenResponses;e=t.shift(),this.setState({unseenResponses:t})}return e}},{key:"setDrawInput",value:function(){this.setState({drawingResponse:!0}),document.getElementById("drawing-canvas-wrapper").style.zIndex="4",document.getElementById("text-input").style.zIndex="3",document.getElementsByClassName("ActiveInputButton")[0].classList.remove("ActiveInputButton"),document.getElementById("draw-input-select").classList.add("ActiveInputButton")}},{key:"setWriteInput",value:function(){this.setState({drawingResponse:!1}),document.getElementById("drawing-canvas-wrapper").style.zIndex="3",document.getElementById("text-input").style.zIndex="4",document.getElementsByClassName("ActiveInputButton")[0].classList.remove("ActiveInputButton"),document.getElementById("text-input-select").classList.add("ActiveInputButton")}},{key:"changeColourOrder",value:function(){var e={colour1:this.state.colours.colour2,colour2:this.state.colours.colour3,colour3:this.state.colours.colour1};this.setState({colours:e})}},{key:"changeColours",value:function(e,t){var s=this.state.colours;s[e]=t,this.setState({colours:s})}},{key:"toggleEraser",value:function(){var e=this,t=this.state.drawingCanvas;this.state.isEraser?(t.freeDrawingBrush=this.state.savedBrush,this.setState({isEraser:!1}),document.getElementById("erase-brush-button").classList.remove("Active")):this.setState({isEraser:!0,savedBrush:t.freeDrawingBrush},(function(){t.freeDrawingBrush=new g.fabric.EraserBrush(t),t.freeDrawingBrush.width=e.state.savedBrush.width,document.getElementById("erase-brush-button").classList.add("Active")}))}},{key:"setCanvas",value:function(e){this.setState({drawingCanvas:e,currentCanvasState:e.toDatalessJSON()})}},{key:"setIsDrawing",value:function(){this.setState({isDrawing:!0})}},{key:"saveCanvasState",value:function(){if(this.state.isDrawing){var e=this.state.stateStack,t=this.state.currentCanvasState;e.length===this.state.maxUndo&&e.shift(),e.push(t),this.setState({currentCanvasState:this.state.drawingCanvas.toDatalessJSON(),stateStack:e,redoStack:[],isDrawing:!1})}}},{key:"undoDrawing",value:function(){if(this.state.stateStack.length>0){var e=this.state.currentCanvasState,t=this.state.drawingCanvas.toDatalessJSON(),s=this.state.redoStack;s.push(t);var n=this.state.stateStack,i=n.pop();this.setState({currentCanvasState:i,redoStack:s,stateStack:n}),this.state.drawingCanvas.loadFromJSON(e)}}},{key:"redoDrawing",value:function(){if(this.state.redoStack.length>0){var e=this.state.redoStack,t=e.pop(),s=this.state.drawingCanvas.toDatalessJSON(),n=this.state.stateStack;n.push(s),this.setState({currentCanvasState:s,redoStack:e,stateStack:n}),this.state.drawingCanvas.loadFromJSON(t)}}},{key:"resetUndoStack",value:function(){this.setState({redoStack:[],stateStack:[]})}},{key:"startPromptCountdown",value:function(e){var t=this;this.state.promptCountdown||this.setState({promptCountdown:!0},(function(){var s=document.getElementById("prompt-end-timer-wrapper").children[0],n=document.getElementById("prompt-end-timer-wrapper").children[1];n.style.transition="60s linear",n.style.width="100%";var i=60;s.innerHTML="this prompt will change in "+i+" seconds...";var r=setInterval((function(){i-=1,s.innerHTML="this prompt will change in "+i+" seconds...",i<1&&(clearInterval(r),n.style.transition="0s linear",n.style.width="0%",s.innerHTML="",t.setState({currentPrompt:e,promptCountdown:!1}))}),1e3)}))}},{key:"toggleFocus",value:function(){this.state.focusMode?(this.setState({focusMode:!1}),this.getCSSRule(".TextResponseBox").style.backgroundColor="",this.getCSSRule(".TextResponseBox").style.border="",this.getCSSRule(".ImageResponseBox").style.backgroundColor="",this.getCSSRule(".ImageResponseBox").style.border=""):(this.setState({focusMode:!0}),this.getCSSRule(".TextResponseBox").style.backgroundColor="rgb(31, 33, 28)",this.getCSSRule(".TextResponseBox").style.border="solid white 1px",this.getCSSRule(".ImageResponseBox").style.backgroundColor="rgb(31, 33, 28)",this.getCSSRule(".ImageResponseBox").style.border="solid white 1px")}},{key:"dataURLtoFile",value:function(e,t){for(var s=e.split(","),n=s[0].match(/:(.*?);/)[1],i=atob(s[1]),r=i.length,a=new Uint8Array(r);r--;)a[r]=i.charCodeAt(r);return new File([a],t,{type:n})}},{key:"getCSSRule",value:function(e){e=e.toLowerCase();var t=null,s=Array.prototype.find;return s.call(document.styleSheets,(function(n){return null!=(t=s.call(n.cssRules,(function(t){return t instanceof CSSStyleRule&&t.selectorText.toLowerCase()===e})))})),t}}]),n}(n.Component);a.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(J,{})}),document.getElementById("root"))},21:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/alien.381f0676.png"},52:function(e,t,s){},57:function(e,t){},58:function(e,t){},59:function(e,t){},60:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/slowdiscpixel.685ade7f.gif"}},[[134,1,2]]]);
//# sourceMappingURL=main.b6fca194.chunk.js.map