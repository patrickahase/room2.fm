(this.webpackJsonproom2=this.webpackJsonproom2||[]).push([[0],{129:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/sade.bd3fb025.mp3"},130:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),i=n(48),c=n.n(i),o=n(20),a=n(2),l=n(23),d=(n(62),n(49)),u=n(0),h=Object(u.jsx)("span",{children:"This website was created and is maintained on the unceded territory of the Wurundjeri People of the Eastern Kulin Nation, the Traditional Custodians of the land. We recognise their ongoing legacy of connection to land, waters and culture and pay respect to their Elders past and present. We extend this respect to all other First Nations peoples of this continent, whose stolen land the material pathways that allow our digital connectivity are built upon."}),j=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:"room2.fm seeks to create a digital space for collective reflection, sharing, and vulnerability. During the last lockdown season we were lucky to have a range of guest artists who helped facilitate this by contributing sounds, texts and visuals to the space, which was brought together by the active participation in the responses and in the chat by those attending the space on each given weekly event."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"There is no right or wrong way for you to listen, respond to, or feel a piece of music or sound. We encourage you to trust your ears and intuition and respond sincerely and in whatever way feels true to your experience."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]}),Object(u.jsxs)("span",{className:"ModalTextSmall",children:["This website has been optimised to run with the window maximised on Chrome and Firefox on a desktop or laptop screen. If you are having issues, please try one of these browsers.",Object(u.jsx)("br",{}),"If you would like a high-contrast version of the response text with no distortion please click 'Focus Mode' button.",Object(u.jsx)("br",{}),"We will be moderating responses that we feel are intentionally disruptive or may make others feel unsafe in the space."]})]}),b=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:"You can share your response to the music, prompts and visuals in a number of ways."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"Periodically, text prompts will come up in the lower middle of the screen. Underneath the prompts you can select to respond via either writing or drawing depending on what you think is most appropriate. Once you are happy with your response you can click the \u2018submit response\u2019 button to share it with others. Above the \u2018submit response\u2019 button, you can select the colour palette you will be able to draw responses with, along with options to change the brush size, use an eraser and undo or redo additions to your drawing."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"Your responses to these prompts will be completely anonymised and not attributable to you in any way, however during this demonstration we will be capturing a screen recording of the experience."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"You can also use the chat box on the right of the screen to directly speak to others participating. Select a username and click \u2018Join Room\u2019 to engage. Be yourself, be someone else, be whomever you want to be!"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]}),Object(u.jsx)("span",{className:"ModalTextSmall",children:"room2.fm was created by Patrick Hase and Anuraag Bhatia. We welcome your thoughts, feedback, or questions - please send them through to room2fm@gmail.com"})]}),p=(u.Fragment,n(25)),m=n.n(p),_=new Date;_.getUTCHours()+10>24&&_.setDate(_.getUTCDate()+1);var g=(new Date).setDate(_.getDate()+3),x=-37.803193437556054,O=144.94984320919224,f=m.a.getTimes(_,x,O),v=[function(e){e>24?e-=24:e=e;return e}(f.sunrise.getUTCHours()+10),f.sunrise.getMinutes()],w=m.a.getMoonIllumination(_,x,O).phase,y=3.6*(w=Math.round(100*w)),C={transform:"rotate3d(0, 1, 0, "+y+"deg)"},N=m.a.getMoonIllumination(g,x,O).phase,k=3.6*(N=Math.round(100*N)),S={transform:"rotate3d(0, 1, 0, "+k+"deg)"};var B=Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("p",{children:["The track changes at sunrise. Today, the sun rose at ",v[0],":",v[1],"am."]})}),E=Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{class:"moonsphere",children:[Object(u.jsx)("div",{class:y>180?"moondark hemisphere":"moonlight hemisphere"}),Object(u.jsx)("div",{class:y>180?"moonlight hemisphere":"moondark hemisphere"}),Object(u.jsx)("div",{class:"moondivider",style:C})]})}),I=Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{class:"moonsphere",children:[Object(u.jsx)("div",{class:k>180?"moondark hemisphere":"moonlight hemisphere"}),Object(u.jsx)("div",{class:k>180?"moonlight hemisphere":"moondark hemisphere"}),Object(u.jsx)("div",{class:"moondivider",style:S})]})});function D(e){var t=Object(s.useState)(1),n=Object(a.a)(t,2),r=n[0],i=n[1];Object(s.useEffect)((function(){var e=document.getElementById("AOC-modal");new d.a(e).show()}),[]);var c=[Object(u.jsx)("div",{id:"logo-wrapper",children:Object(u.jsx)("div",{id:"text-logo",children:Object(u.jsxs)("pre",{id:"pre-logo-wrapper",children:[Object(u.jsxs)("div",{id:"logo-line-1",children:["__________________________________________________________________",Object(u.jsx)("u",{className:"text-gradient-1",children:"/\\\\\\\\\\\\\\\\\\"}),"_____        ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-2",children:["\xa0________________________________________________________________",Object(u.jsx)("u",{className:"text-gradient-2",children:"/\\\\\\///////\\\\\\"}),"___       ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-3",children:["\xa0\xa0_______________________________________________________________",Object(u.jsx)("u",{className:"text-gradient-3",children:"\\///"}),"______",Object(u.jsx)("u",{className:"text-gradient-3",children:"\\//\\\\\\"}),"__      ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-4",children:["\xa0\xa0\xa0__",Object(u.jsx)("u",{className:"text-gradient-4",children:"/\\\\/\\\\\\\\\\\\\\"}),"______",Object(u.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\\\\\"}),"________",Object(u.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\\\\\"}),"_______",Object(u.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\\\\\"}),"_____________",Object(u.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\/"}),"___     ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-5",children:["\xa0\xa0\xa0\xa0_",Object(u.jsx)("u",{className:"text-gradient-5",children:"\\/\\\\\\/////\\\\\\"}),"___",Object(u.jsx)("u",{className:"text-gradient-5",children:"/\\\\\\///\\\\\\"}),"____",Object(u.jsx)("u",{className:"text-gradient-5",children:"/\\\\\\///\\\\\\"}),"___",Object(u.jsx)("u",{className:"text-gradient-5",children:"/\\\\\\///\\\\\\\\\\///\\\\\\"}),"________",Object(u.jsx)("u",{className:"text-gradient-5",children:"/\\\\\\//"}),"_____    ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-6",children:["\xa0\xa0\xa0\xa0\xa0_",Object(u.jsx)("u",{className:"text-gradient-6",children:"\\/\\\\\\"}),"___",Object(u.jsx)("u",{className:"text-gradient-6",children:"\\///"}),"___",Object(u.jsx)("u",{className:"text-gradient-6",children:"/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-6",children:"\\//\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-6",children:"/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-6",children:"\\//\\\\\\"}),"_",Object(u.jsx)("u",{className:"text-gradient-6",children:"\\/\\\\\\"}),"_",Object(u.jsx)("u",{className:"text-gradient-6",children:"\\//\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-6",children:"\\/\\\\\\"}),"_____",Object(u.jsx)("u",{className:"text-gradient-6",children:"/\\\\\\//"}),"________   ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-7",children:["\xa0\xa0\xa0\xa0\xa0\xa0_",Object(u.jsx)("u",{className:"text-gradient-7",children:"\\/\\\\\\"}),"_________",Object(u.jsx)("u",{className:"text-gradient-7",children:"\\//\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-7",children:"/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-7",children:"\\//\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-7",children:"/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-7",children:"\\/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-7",children:"\\/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-7",children:"\\/\\\\\\"}),"___",Object(u.jsx)("u",{className:"text-gradient-7",children:"/\\\\\\/"}),"___________  ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-8",children:["\xa0\xa0\xa0\xa0\xa0\xa0\xa0_",Object(u.jsx)("u",{className:"text-gradient-8",children:"\\/\\\\\\"}),"__________",Object(u.jsx)("u",{className:"text-gradient-8",children:"\\///\\\\\\\\\\/"}),"____",Object(u.jsx)("u",{className:"text-gradient-8",children:"\\///\\\\\\\\\\/"}),"___",Object(u.jsx)("u",{className:"text-gradient-8",children:"\\/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-8",children:"\\/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-8",children:"\\/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-8",children:"/\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"}),"_ ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-9",children:["\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0_",Object(u.jsx)("u",{className:"text-gradient-9",children:"\\///"}),"_____________",Object(u.jsx)("u",{className:"text-gradient-9",children:"\\/////"}),"________",Object(u.jsx)("u",{className:"text-gradient-9",children:"\\/////"}),"_____",Object(u.jsx)("u",{className:"text-gradient-9",children:"\\///"}),"___",Object(u.jsx)("u",{className:"text-gradient-9",children:"\\///"}),"___",Object(u.jsx)("u",{className:"text-gradient-9",children:"\\///"}),"__",Object(u.jsx)("u",{className:"text-gradient-9",children:"\\///////////////"}),"__",Object(u.jsx)("br",{})]})]})})}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{id:"modal-text-wrapper",className:"modal-text-wrapper-aoc",children:Object(u.jsx)("div",{id:"modal-text",style:{fontSize:"2.5rem",justifyContent:"space-around"},children:h})}),Object(u.jsx)("button",{id:"modal-continue-button",onClick:function(){return i(r+1)},children:" Continue "})]}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{id:"modal-title-wrapper",children:Object(u.jsx)("div",{id:"modal-title",children:"Welcome to room2.fm live!"})}),Object(u.jsx)("div",{id:"modal-text-wrapper",children:Object(u.jsx)("div",{id:"modal-text-vert-align",children:Object(u.jsxs)("div",{id:"modal-text",children:[B,E,I]})})}),Object(u.jsx)("button",{id:"modal-continue-button",onClick:function(){return i(r+1)},children:" Continue "})]}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{id:"modal-title-wrapper",children:[Object(u.jsx)("div",{id:"modal-title",children:"Welcome to room2.fm async"}),Object(u.jsx)("hr",{})]}),Object(u.jsx)("div",{id:"modal-text-wrapper",children:Object(u.jsx)("div",{id:"modal-text",children:j})}),Object(u.jsx)("button",{id:"modal-continue-button",onClick:function(){return i(r+1)},children:" Continue "})]}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{id:"modal-title-wrapper",children:[Object(u.jsx)("div",{id:"modal-title",children:"Welcome to room2.fm async"}),Object(u.jsx)("hr",{})]}),Object(u.jsx)("div",{id:"modal-text-wrapper",children:Object(u.jsx)("div",{id:"modal-text",children:b})}),Object(u.jsx)("button",{id:"modal-continue-button",onClick:function(){return e.toggleModal()},children:" Continue "})]})];return Object(u.jsxs)("div",{id:"AOC-modal",className:"ModalWrapper","aria-labelledby":"modal-title","aria-hidden":"false",children:[Object(u.jsx)("div",{"data-a11y-dialog-hide":!0,className:"ModalOverlay"}),Object(u.jsx)("div",{role:"document",className:"ModalBox",children:c[r]})]})}var L,M=n(8),R=n(9),A=n(11),T=n(10),W=n(50),z=n(15),F=n(51),P=z.Shaders.create({onecolour:{frag:Object(z.GLSL)(L||(L=Object(W.a)(["\n    // based on Inigo Quilez noise shader https://www.shadertoy.com/view/XdXGW8\n    precision highp float;\n    varying vec2 uv;\n    uniform float width;\n    uniform float height;\n    uniform float timer;\n    const vec3 ycol = vec3(.824,.953,.91);\n    const vec3 lcol = vec3(.961,.652,.266);\n    const vec3 rcol = vec3(.184,.219,.297);\n    \n    vec2 hash( vec2 x ) {\n      const vec2 k = vec2( 0.3183099, 0.3678794 );\n      x = x*k + k.yx;\n      return -1.0 + 2.0*fract( 16.0 * k*fract( x.x*x.y*(x.x+x.y)) );\n    }\n\n    float noise( in vec2 p ) {\n      vec2 i = floor( p );\n      vec2 f = fract( p );\t\n\t    vec2 u = f*f*(3.0-2.0*f);\n      return mix( mix( dot( hash( i + vec2(0.0,0.0) ), f - vec2(0.0,0.0) ), \n                       dot( hash( i + vec2(1.0,0.0) ), f - vec2(1.0,0.0) ), u.x),\n                  mix( dot( hash( i + vec2(0.0,1.0) ), f - vec2(0.0,1.0) ), \n                       dot( hash( i + vec2(1.0,1.0) ), f - vec2(1.0,1.0) ), u.x), u.y);\n    }\n\n    void main() {\n      vec2 res = vec2(width,height);\n      vec2 st = gl_FragCoord.xy / res;\n      vec2 translate = vec2(0.,0.5*timer);\n      if (fract( st.y * 0.5) > 0.4  || fract( st.y * 0.5) < 0.2){\n        st.x += translate.y*0.35; }\n      else {\n        if (fract( st.x * 0.5) > 0.2 || fract( st.x * 0.5) < 0.3){\n          st.x -= timer*0.5; }\n        else {\n          st.x += timer*0.35; }\n      }\n      if (fract( st.y * 0.5) > 0.8 || fract( st.y * 0.5) < 0.6){\n        st.x += translate.y*0.35; }\n      else {\n        if (fract( st.x * 0.5) < 0.4 || fract( st.x * 0.5) > 0.3){\n          st.x -= timer*0.5; }\n        else {\n          st.x += timer*0.35; }\n      }      \n      float f = noise( 2.0*st );\n      f = 1.-(0.6 + 0.2*f);\n      vec3 ycol = ycol * (0.5 * sin(timer));\n\n      gl_FragColor = vec4(min(mix(ycol,mix(rcol,lcol,uv.x-0.2),uv.y+0.2), vec3(f,f,f)), 1.0);\n    }"])))}}),U=function(e){Object(A.a)(n,e);var t=Object(T.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(R.a)(n,[{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(F.Surface,{width:this.props.width,height:this.props.height,children:Object(u.jsx)(z.NearestCopy,{children:Object(u.jsx)(z.Node,{shader:P.onecolour,ignoreUnusedUniforms:!0,uniforms:{timer:this.props.timer,width:.75*this.props.width,height:.68*this.props.width},width:.75*this.props.width,height:.68*this.props.height})})})})}}]),n}(s.Component),H=U;function J(e){var t=1500,n=Object(s.useState)([]),r=Object(a.a)(n,2),i=r[0],c=r[1],o=Object(s.useRef)(),l=Object(s.useRef)(!1);return Object(s.useEffect)((function(){if(i.length>0&&!l.current){for(var e=0;e<3;e++)setTimeout(d,t*e);l.current=!0}o.current=i}),[i]),Object(s.useEffect)((function(){e.responseData.length>0&&(c(e.responseData),o.current=e.responseData)}),[e.responseData]),Object(u.jsx)("div",{id:"response-wrapper"});function d(){var e=Array.from(o.current),t=e.pop();"image"===t[1]?h(t[0]):j(t[0]),c([t].concat(e))}function h(t){var n=document.createElement("img"),s=!1;n.classList.add("ImageResponseBox");var r=Math.random(),i=Math.random();n.addEventListener("load",(function(c){document.getElementById("response-wrapper").appendChild(n);var o=n.getBoundingClientRect();n.style.left=80*r+"%",n.style.top=(100-e.height/o.height)*i+"%";for(var a=Array.from(document.getElementsByClassName("Collider")),l=0;l<a.length;l++)G(n.getBoundingClientRect(),a[l].getBoundingClientRect())&&!s&&(s=!0);s?(n.remove(),window.requestAnimationFrame((function(){return h(t)})),console.log("loop")):(n.classList.add("Collider"),b(n))})),n.src="https://humstore.thelongesthum.world/"+t}function j(t){var n=document.createElement("p"),s=!1;n.innerHTML=t,n.classList.add("TextResponseBox");var r=Math.random(),i=Math.random();document.getElementById("response-wrapper").appendChild(n);var c=n.getBoundingClientRect();n.style.left=80*r+"%",n.style.top=(100-e.height/c.height)*i+"%";for(var o=Array.from(document.getElementsByClassName("Collider")),a=0;a<o.length;a++)G(n.getBoundingClientRect(),o[a].getBoundingClientRect())&&!s&&(s=!0);s?(n.remove(),window.requestAnimationFrame((function(){return j(t)}))):(n.classList.add("Collider"),b(n))}function b(e){e.style.transition="1500ms",setTimeout((function(){e.style.opacity=1,setTimeout((function(){e.style.opacity=0}),15e3),setTimeout((function(){e.remove(),d()}),16600)}),100)}}function G(e,t){var n=!1;return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top&&(n=!0,console.log("hit")),n}function V(e){var t=Object(s.useState)(!1),r=Object(a.a)(t,2),i=r[0],c=r[1],o=Object(s.useState)(!1),l=Object(a.a)(o,2),d=l[0],h=l[1],j=Object(s.useState)(null),b=Object(a.a)(j,2),p=b[0],m=b[1];return Object(s.useEffect)((function(){var t=document.getElementById("audio-source");m(t),e.setAudioSourceRef(t);var n=document.getElementById("timeline");t.addEventListener("waiting",(function(){n.className="",n.className="timelineloading"})),t.addEventListener("playing",(function(){n.className="",n.className="timelineloaded"})),t.addEventListener("timeupdate",(function(){n.firstChild.style.width=100*t.currentTime/t.duration+"%"})),n.addEventListener("click",(function(e){var s=(e.clientX-n.getBoundingClientRect().left)/n.offsetWidth;n.firstChild.style.width=100*s+"%",t.currentTime=t.duration*s}))}),[]),Object(u.jsxs)("div",{id:"audio-player-wrapper",className:"Collider",children:[Object(u.jsx)("audio",{src:n(129).default,id:"audio-source"}),Object(u.jsx)("button",{id:"play-pause-button",className:"AudioPlayerButton",onClick:function(){p.paused?(p.play(),c(!0),e.startTimer(),e.setAskResponse(!0)):(p.pause(),c(!1),e.pauseTimer())},children:i?Object(u.jsx)(K,{}):Object(u.jsx)(Z,{})}),Object(u.jsx)("button",{className:"AudioPlayerButton",onClick:function(){p.currentTime=0,e.restartTimer()},children:Object(u.jsx)($,{})}),Object(u.jsx)("div",{id:"timeline",className:"timelineloaded",children:Object(u.jsx)("div",{id:"playhead"})}),Object(u.jsxs)("div",{id:"volume-section-wrapper",children:[Object(u.jsx)("button",{className:"AudioPlayerButton",id:"mute-button",onClick:function(){p.muted=!p.muted,h(!d)},children:d?Object(u.jsx)(te,{}):Object(u.jsx)(ee,{})}),Object(u.jsx)("div",{id:"volume-wrapper",children:Y})]})]})}var Q=Array(12).fill(""),Y=Q.map((function(e,t){return Object(u.jsx)("div",{className:"VolumeNotch VolumeActive",id:t,onMouseDown:q,onMouseEnter:function(e){X&&q(e)},style:{height:100/Q.length+"%"}})})),X=!1;function q(e){e.stopPropagation(),X=!0;var t,n=parseInt(e.target.id),s=document.getElementsByClassName("VolumeNotch"),r=Object(o.a)(s);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.id<n?i.classList.remove("VolumeActive"):i.classList.add("VolumeActive")}}catch(a){r.e(a)}finally{r.f()}var c=1-1/12*n;document.getElementById("audio-source").volume=c}function Z(){return Object(u.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",transform:"",children:Object(u.jsx)("g",{transform:"scale(.8) translate(15)",style:{transformOrigin:"center"},className:"AudioPlayerIcon",children:Object(u.jsx)("polygon",{points:"10,10 73,55 10,100",strokeLinejoin:"round",strokeWidth:"20"})})})}function K(){return Object(u.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",transform:"",children:Object(u.jsxs)("g",{transform:"scale(.8) translate(15)",style:{transformOrigin:"center"},className:"AudioPlayerIcon",children:[Object(u.jsx)("path",{strokeLinecap:"round",strokeWidth:"30",d:" M 67.5,15\r L 67.5,95"}),Object(u.jsx)("path",{strokeLinecap:"round",strokeWidth:"30",d:" M 15,15\r L 15,95"})]})})}function $(){return Object(u.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",transform:"",children:Object(u.jsxs)("g",{transform:"scale(.8)",style:{transformOrigin:"center"},className:"AudioPlayerIcon",children:[Object(u.jsx)("polygon",{points:"10,10 73,55 10,100",strokeLinejoin:"round",strokeWidth:"20",transform:"translate(-25) rotate(180, 55, 55)"}),Object(u.jsx)("path",{fill:"none",strokeLinecap:"round",strokeWidth:"20",d:" M 100,10\r L 100,100"})]})})}function ee(){return Object(u.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",transform:"",className:"AudioPlayerIcon",children:[Object(u.jsx)("path",{id:"mute-speaker",d:" M 10,42\r A 2,2 90 0 1 12,40\r L 15,40 30,15 35,15\r Q 38,50 35,85 \r L 30,85 15,60 12,60\r A 2,2 90 0 1 10,58\r Z              \r "}),Object(u.jsx)("path",{fill:"none",strokeLinecap:"round",strokeWidth:"6",className:"MuteLines active",d:" M 45,35\r Q 55,50 45,65"}),Object(u.jsx)("path",{fill:"none",strokeLinecap:"round",strokeWidth:"6",className:"MuteLines active",d:" M 55,22.5\r Q 77.33,50 55,77.5"}),Object(u.jsx)("path",{fill:"none",strokeLinecap:"round",strokeWidth:"6",className:"MuteLines active",d:" M 65,10\r Q 101.66,50 65,90"})]})}function te(){return Object(u.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",opacity:"50%",className:"AudioPlayerIcon",children:[Object(u.jsx)("path",{id:"mute-speaker",d:" M 10,42\r A 2,2 90 0 1 12,40\r L 15,40 30,15 35,15\r Q 38,50 35,85 \r L 30,85 15,60 12,60\r A 2,2 90 0 1 10,58\r Z              \r "}),Object(u.jsx)("path",{fill:"none",strokeWidth:"6",d:" M 50, 35\r L 80, 65\r "}),Object(u.jsx)("path",{fill:"none",strokeWidth:"6",d:" M 80, 35\r L 50, 65\r "})]})}document.addEventListener("mouseup",(function(){X=!1}));var ne=function(e){Object(A.a)(n,e);var t=Object(T.a)(n);function n(e){var s;return Object(M.a)(this,n),(s=t.call(this,e)).state={frameColour:"#ffffff88"},s}return Object(R.a)(n,[{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{id:"drawing-buttons-wrapper",children:[Object(u.jsxs)("button",{id:"increase-brush-button",className:"RightUIButton",children:[" BRUSH + ",Object(u.jsx)("div",{id:"brush-up-icon"})]}),Object(u.jsxs)("button",{id:"decrease-brush-button",className:"RightUIButton",children:[" BRUSH - ",Object(u.jsx)("div",{id:"brush-down-icon"})]}),Object(u.jsxs)("button",{id:"erase-brush-button",className:"RightUIButton",onClick:this.props.toggleEraser,children:[" ERASER ",Object(u.jsx)("div",{id:"eraser-icon"})]}),Object(u.jsxs)("button",{id:"undo-button",className:"RightUIButton",onClick:this.props.undoDrawing,children:[" UNDO ",Object(u.jsx)("div",{id:"undo-icon"})]}),Object(u.jsxs)("button",{id:"redo-button",className:"RightUIButton",onClick:this.props.redoDrawing,children:[" REDO ",Object(u.jsx)("div",{id:"redo-icon"})]})]})})}},{key:"componentDidMount",value:function(){var e=this;document.getElementById("increase-brush-button").addEventListener("click",(function(){e.props.brushSize<20&&e.props.setBrushSize(e.props.brushSize+2)})),document.getElementById("decrease-brush-button").addEventListener("click",(function(){e.props.brushSize>2&&e.props.setBrushSize(e.props.brushSize-2)}))}},{key:"componentDidUpdate",value:function(e){if(e.colours[0]!==this.props.colours[0]){var t=this.props.colours[0].substring(1),n=parseInt(t,16);.2126*(n>>16&255)+.7152*(n>>8&255)+.0722*(n>>0&255)<40?this.setState({frameColour:"#ffffff88"}):this.setState({frameColour:"#00000088"})}}}]),n}(s.Component),se=n(13),re=function(e){Object(A.a)(n,e);var t=Object(T.a)(n);function n(e){var s;return Object(M.a)(this,n),(s=t.call(this,e)).getCustomCursor=function(){var e='\n          <svg\n            height="'.concat(s.props.brushSize,'"\n            fill="').concat(s.props.brushColour,'"\n            viewBox="0 0 ').concat(2*s.props.brushSize," ").concat(2*s.props.brushSize,'"\n            width="').concat(s.props.brushSize,'"\n            xmlns="http://www.w3.org/2000/svg"\n          >\n            <circle\n              cx="50%"\n              cy="50%"\n              r="').concat(s.props.brushSize,'" \n            />\n          </svg>\n        ');return"url(data:image/svg+xml;base64,".concat(window.btoa(e),") ").concat(s.props.brushSize/2," ").concat(s.props.brushSize/2,", move")},s.state={},s.getCustomCursor=s.getCustomCursor.bind(Object(se.a)(s)),s.updateCanvasDimensions=s.updateCanvasDimensions.bind(Object(se.a)(s)),s}return Object(R.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{id:"drawing-canvas-wrapper",children:[Object(u.jsx)("canvas",{id:"drawing-canvas"}),Object(u.jsx)("svg",{width:"10px",height:"10px",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",id:"drawing-cursor",children:Object(u.jsx)("circle",{r:"5",fill:"white"})})]})}},{key:"componentDidMount",value:function(){this.fabricInit()}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(e){if(e.brushColour!==this.props.brushColour){var t=this.state.canvas;t.freeDrawingBrush.color=this.props.brushColour,t.freeDrawingCursor=this.getCustomCursor()}if(e.brushSize!==this.props.brushSize){var n=this.state.canvas;n.freeDrawingBrush.width=this.props.brushSize,n.freeDrawingCursor=this.getCustomCursor()}}},{key:"fabricInit",value:function(){var e=this,t=new l.fabric.Canvas("drawing-canvas",{isDrawingMode:!0}),n=document.getElementById("drawing-canvas-wrapper");t.setWidth(n.offsetWidth),t.setHeight(n.offsetHeight),t.freeDrawingBrush.color=this.props.brushColour,t.freeDrawingBrush.width=this.props.brushSize,t.freeDrawingCursor=this.getCustomCursor(),t.on("mouse:down",(function(){return e.setDrawing()})),this.setState({canvas:t},(function(){window.addEventListener("resize",e.updateCanvasDimensions)})),this.props.setDrawingCanvas(t),this.props.setCurrentCanvasState(t.toDatalessJSON())}},{key:"updateCanvasDimensions",value:function(){var e=document.getElementById("drawing-canvas-wrapper");e&&(this.state.canvas.setWidth(e.offsetWidth),this.state.canvas.setHeight(e.offsetHeight),this.setState({canvasWidth:e.offsetWidth,canvasHeight:e.offsetHeight}))}},{key:"setDrawing",value:function(){this.props.setIsDrawing(!0)}}]),n}(s.Component),ie=function(e){Object(A.a)(n,e);var t=Object(T.a)(n);function n(e){var s;return Object(M.a)(this,n),(s=t.call(this,e)).state={},s.click=s.click.bind(Object(se.a)(s)),s}return Object(R.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{id:"drawing-tools-wrapper",children:[Object(u.jsx)("button",{id:"col-swap-button",onClick:this.click,children:Object(u.jsx)(ce,{})}),Object(u.jsx)("span",{id:"word-change",children:"CHANGE"}),Object(u.jsx)("span",{id:"word-colour",children:"COLOUR"}),Object(u.jsxs)("div",{id:"col-select-wrapper",children:[Object(u.jsx)("input",{type:"color",id:"col1Select",className:"col-select first",name:"col1Select",defaultValue:this.props.colours[0]}),Object(u.jsx)("input",{type:"color",id:"col2Select",className:"col-select second",name:"col23Select",defaultValue:this.props.colours[1]}),Object(u.jsx)("input",{type:"color",id:"col3Select",className:"col-select third",name:"col33Select",defaultValue:this.props.colours[2]})]})]})}},{key:"componentDidMount",value:function(){document.getElementById("col1Select").addEventListener("input",this.colorInputChange.bind(this),!1),document.getElementById("col2Select").addEventListener("input",this.colorInputChange.bind(this),!1),document.getElementById("col3Select").addEventListener("input",this.colorInputChange.bind(this),!1)}},{key:"click",value:function(){for(var e=document.getElementsByClassName("col-select"),t=0;t<3;t++){var n=e[t].classList;switch(!0){case n.contains("first"):n.remove("first"),n.add("third");break;case n.contains("second"):n.remove("second"),n.add("first");break;case n.contains("third"):n.remove("third"),n.add("second")}}this.props.setCurrentColours([this.props.colours[1],this.props.colours[2],this.props.colours[0]])}},{key:"colorInputChange",value:function(e){var t=e.target.id.charAt(3);switch(document.documentElement.style.setProperty("--comp-col-0"+t,e.target.value),e.target.classList[1]){case"first":this.props.setCurrentColours(this.props.colours.splice(0,1,e.target.value));break;case"second":this.props.setCurrentColours(this.props.colours.splice(1,1,e.target.value));break;case"third":this.props.setCurrentColours(this.props.colours.splice(2,1,e.target.value))}}}]),n}(s.Component);function ce(){return Object(u.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[Object(u.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"6",refX:"7",refY:"3",orient:"auto",children:Object(u.jsx)("polygon",{points:"0 0, 8 3.5, 0 6"})}),Object(u.jsx)("path",{fill:"none",strokeWidth:"8",markerEnd:"url(#arrowhead)",d:" M 25, 50\r L 0,13.4 100,13.4 50,86.6\r "})]})}function oe(e){return Object(u.jsxs)("div",{id:"settings-menu-wrapper",className:"Collider",children:[Object(u.jsx)("button",{id:"settings-menu-button",children:"MENU"}),Object(u.jsxs)("div",{id:"settings-dropdown",children:[Object(u.jsx)("button",{id:"settings-info-button",children:"INFO"}),Object(u.jsx)("button",{id:"settings-graphics-button",children:"GRAPHICS"}),Object(u.jsxs)("div",{id:"graphics-dropdown",children:[Object(u.jsx)("button",{className:"GraphicsButton",children:"LOW"}),Object(u.jsx)("button",{className:"GraphicsButton",children:"MEDIUM"}),Object(u.jsx)("button",{className:"GraphicsButton",children:"HIGH"})]}),Object(u.jsx)("button",{id:"settings-focus-button",onClick:e.toggleFocus,children:"FOCUS"})]})]})}function ae(e){var t=Object(s.useState)(!1),n=Object(a.a)(t,2),r=n[0],i=n[1],c=Object(s.useState)(!1),o=Object(a.a)(c,2),l=o[0],d=o[1],h=Object(s.useState)(0),j=Object(a.a)(h,2),b=j[0],p=j[1],m=Object(s.useState)(0),_=Object(a.a)(m,2),g=_[0],x=_[1],O=Object(s.useState)(null),f=Object(a.a)(O,2),v=f[0],w=f[1];return Object(u.jsx)("div",{id:"desktop-wrapper",children:e.modalIsOpen?Object(u.jsx)(D,{mobile:e.mobile,toggleModal:e.toggleModal}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(oe,{toggleFocus:e.toggleFocus}),Object(u.jsx)("div",{id:"current-prompt-wrapper",className:"Collider",children:Object(u.jsxs)("div",{id:"current-prompt",children:["Take a deep breath. As you exhale, what feelings linger for you?",Object(u.jsx)("br",{}),"Share as much or as little as you\u2019d like."]})}),Object(u.jsx)(V,{setAudioSourceRef:w,startTimer:function(){x(setInterval((function(){p(100*v.currentTime/v.duration)}),50))},pauseTimer:function(){clearInterval(g)},restartTimer:function(){p(0)},setAskResponse:i}),r&&Object(u.jsx)("button",{id:"ready-submission-button",onClick:function(){d(!0),i(!1)},children:" i'm ready to respond "}),l&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{id:"input-wrapper",children:[Object(u.jsx)("div",{id:"input-select-wrapper",children:Object(u.jsxs)("span",{id:"input-select",children:["I would like to\xa0",Object(u.jsx)("button",{id:"draw-input-select",className:"InputSelectButton",onClick:function(){return e.setInput(!0)},children:"draw"}),"\xa0/\xa0",Object(u.jsx)("button",{id:"text-input-select",className:"InputSelectButton ActiveInputButton",onClick:function(){return e.setInput(!1)},children:"write"}),"\xa0a response"]})}),Object(u.jsxs)("div",{id:"input-area",children:[Object(u.jsx)("textarea",{id:"text-input",name:"text based prompt response",placeholder:"Please type your response here..."}),Object(u.jsx)(ne,{undoDrawing:e.undoDrawing,redoDrawing:e.redoDrawing,toggleEraser:e.toggleEraser,colours:e.colours,brushSize:e.brushSize,setBrushSize:e.setBrushSize}),Object(u.jsx)(re,{brushColour:e.colours[0],brushSize:e.brushSize,setDrawingCanvas:e.setDrawingCanvas,setCurrentCanvasState:e.setCurrentCanvasState,setIsDrawing:e.setIsDrawing}),Object(u.jsx)(ie,{colours:e.colours,setCurrentColours:e.setCurrentColours}),Object(u.jsx)("button",{onClick:function(){e.submitResponse(),d(!1)},children:"submit"})]})]})}),Object(u.jsx)(J,{responseData:e.responseData,height:e.height,width:e.width}),Object(u.jsx)("div",{id:"bg-vis-wrapper",children:Object(u.jsx)(H,{timer:b,height:e.height,width:e.width})})]})})}var le=[{introStatement:"if you're seeing this the server is having some trouble",prompt:"if you're seeing this the server is having some trouble",trackDetails:"if you're seeing this the server is having some trouble",trackLink:"",artistLink:"",trackSrc:"",shaderName:"",dbTable:"",colours:["#222323","#5252ff","#b5e877"]}];function de(){var e=window.matchMedia("all and (any-hover: none)").matches,t=Object(s.useState)([window.innerWidth,window.innerHeight]),n=Object(a.a)(t,2),r=n[0],i=n[1],c=Object(s.useState)(!0),d=Object(a.a)(c,2),h=d[0],j=d[1],b=Object(s.useState)(!1),p=Object(a.a)(b,2),m=p[0],_=p[1],g=Object(s.useState)([]),x=Object(a.a)(g,2),O=x[0],f=x[1],v=Object(s.useState)(le[0].colours),w=Object(a.a)(v,2),y=w[0],C=w[1],N=Object(s.useState)(8),k=Object(a.a)(N,2),S=k[0],B=k[1],E=Object(s.useState)(!1),I=Object(a.a)(E,2),D=I[0],L=I[1],M=Object(s.useRef)(D),R=Object(s.useState)(!1),A=Object(a.a)(R,2),T=A[0],W=A[1],z=Object(s.useState)(null),F=Object(a.a)(z,2),P=F[0],U=F[1],H=Object(s.useState)(null),J=Object(a.a)(H,2),G=J[0],V=J[1],Q=Object(s.useRef)(G),Y=Object(s.useState)(null),X=Object(a.a)(Y,2),q=X[0],Z=X[1],K=Object(s.useRef)(q),$=Object(s.useState)([]),ee=Object(a.a)($,2),te=ee[0],ne=ee[1],se=Object(s.useState)([]),re=Object(a.a)(se,2),ie=re[0],ce=re[1],oe=Object(s.useRef)(te),de=Object(s.useRef)(ie),ue=Object(s.useState)(!1),he=Object(a.a)(ue,2),je=he[0],be=he[1];return Object(s.useEffect)((function(){i([window.innerWidth,window.innerHeight]),window.addEventListener("resize",(function(){i([window.innerWidth,window.innerHeight])}))}),[]),Object(s.useEffect)((function(){M.current=D}),[D]),Object(s.useEffect)((function(){Q.current=G}),[G]),Object(s.useEffect)((function(){K.current=q}),[q]),Object(s.useEffect)((function(){oe.current=te}),[te]),Object(s.useEffect)((function(){de.current=ie}),[ie]),Object(u.jsx)("div",{id:"global-wrapper",children:e?Object(u.jsx)("div",{children:"I'm on Mobile"}):Object(u.jsx)(ae,{width:r[0],height:r[1],modalIsOpen:h,toggleModal:function(){h?document.addEventListener("mouseup",pe):document.removeEventListener("mouseup",pe);j(!h)},setIsDrawing:L,cyclePreset:le[0],setInput:function(e){e?(_(!0),document.getElementById("drawing-canvas-wrapper").style.zIndex="6",document.getElementById("draw-input-select").classList.add("ActiveInputButton"),document.getElementById("drawing-tools-wrapper").style.right="-25vh",document.getElementById("drawing-buttons-wrapper").style.left="-15vh",document.getElementById("text-input-select").classList.remove("ActiveInputButton")):(_(!1),document.getElementById("drawing-canvas-wrapper").style.zIndex="4",document.getElementById("draw-input-select").classList.remove("ActiveInputButton"),document.getElementById("drawing-tools-wrapper").style.right="",document.getElementById("drawing-buttons-wrapper").style.left="",document.getElementById("text-input-select").classList.add("ActiveInputButton"))},colours:y,setCurrentColours:C,brushSize:S,setBrushSize:B,toggleEraser:function(){T?(G.freeDrawingBrush=P,document.getElementById("erase-brush-button").classList.remove("Active")):(U(G.freeDrawingBrush),G.freeDrawingBrush=new l.fabric.EraserBrush(G),G.freeDrawingBrush.width=S,document.getElementById("erase-brush-button").classList.add("Active"));W(!T)},setDrawingCanvas:V,setCurrentCanvasState:Z,undoDrawing:function(){if(te.length>0){var e=q,t=de.current;t.splice(t.length,0,Q.current.toDatalessJSON()),ce(t);var n=oe.current,s=n.pop();Z(s),ne(n),G.loadFromJSON(e)}},redoDrawing:function(){if(ie.length>0){var e=de.current,t=e.pop(),n=oe.current;n.push(K.current),ne(n),Z(G.toDatalessJSON()),ce(e),G.loadFromJSON(t)}},submitResponse:function(){var e=[];if(m){var t=document.getElementById("drawing-canvas"),n=t.toDataURL({format:"png",left:0,top:0,width:t.width,height:t.height}),s=new FormData,r=function(e,t){var n=e.split(","),s=n[0].match(/:(.*?);/)[1],r=atob(n[1]),i=r.length,c=new Uint8Array(i);for(;i--;)c[i]=r.charCodeAt(i);return new File([c],t,{type:s})}(n,"response.png");G.clear(),s.append("upload",r,"cycle_1_response.png"),fetch("http://localhost:33061/api/insertImageReflectionGetResponses",{method:"PUT",body:s}).then((function(e){return e.json()})).then((function(t){try{var n,s=Object(o.a)(t.data);try{for(s.s();!(n=s.n()).done;){var r=n.value;e.push([r.RESPONSE,r.RESPONSE_TYPE])}}catch(i){s.e(i)}finally{s.f()}f(e)}catch(c){console.log(c)}}))}else{var i=document.getElementById("text-input"),c=i.value;c.length>0&&(i.value="",fetch("http://localhost:33061/api/testLookup",{headers:{"Content-type":"application/json"},method:"POST",mode:"cors",body:JSON.stringify({reflection:c,cycleTable:1})}).then((function(e){return e.json()})).then((function(t){try{var n,s=Object(o.a)(t.data);try{for(s.s();!(n=s.n()).done;){var r=n.value;e.push([r.RESPONSE,r.RESPONSE_TYPE])}}catch(i){s.e(i)}finally{s.f()}f(e)}catch(c){console.log(c)}})))}},responseData:O,toggleFocus:function(){var e=me(".TextResponseBox"),t=me(".ImageResponseBox");je?(be(!1),e.style.backgroundColor="",e.style.border="",t.style.backgroundColor="",t.style.border=""):(be(!0),e.style.backgroundColor="rgb(31, 33, 28)",e.style.border="solid white 1px",t.style.backgroundColor="white",t.style.border="solid rgb(31, 33, 28) 1px")}})});function pe(){if(M.current){var e=oe.current;10===e.length&&e.shift(),e.push(K.current),Z(Q.current.toDatalessJSON()),ne(e),ce([]),L(!1)}}function me(e){e=e.toLowerCase();var t=null,n=Array.prototype.find;return n.call(document.styleSheets,(function(s){return null!=(t=n.call(s.cssRules,(function(t){return t instanceof CSSStyleRule&&t.selectorText.toLowerCase()===e})))})),t}}c.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(de,{})}),document.getElementById("root"))},59:function(e,t){},60:function(e,t){},61:function(e,t){},62:function(e,t,n){}},[[130,1,2]]]);
//# sourceMappingURL=main.cd74956d.chunk.js.map