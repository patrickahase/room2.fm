{"version":3,"sources":["content/emojis/desert.png","content/emojis/blossoming-flower.png","content/emojis/mushroom.png","content/emojis/woozy.png","content/emojis/teddy-bear.png","content/emojis/butterfly.png","content/emojis/leaf-in-wind.png","content/emojis/spiral-shell.png","components/audioControls.js","components/drawingCanvas.js","components/emojiTri.js","content/modalText.js","components/introModal.js","components/marquee.js","components/colourPicker.js","components/drawingTools.js","components/glVis.js","components/responseDisplay.js","components/audioStreamPlayer.js","components/desktopApp.js","components/mobileApp.js","content/preloadArrays.js","App.js","index.js","content/emojis/alien.png","content/media/slowdiscpixel.gif"],"names":["AudioControls","props","detectVolumeHover","e","volumeWrapper","target","mousePos","Math","trunc","clientY","getBoundingClientRect","top","offsetHeight","state","volumeNotches","hoverNotch","setState","Array","from","document","getElementsByClassName","forEach","element","classList","remove","childNodes","add","buttons","detectVolumeClick","index","iconLines","lineCutoff","j","newVolume","changeVolume","volumeDragging","id","onClick","this","muteAudio","isMuted","MuteIconOff","MuteIconOn","createNotches","getElementById","addEventListener","exitVolumeWrapper","notches","i","newDiv","createElement","style","height","appendChild","Component","width","viewBox","xmlns","transform","d","fill","stroke","strokeLinecap","strokeWidth","className","opacity","DrawingCanvas","getCustomCursor","circle","brushSize","brushColour","window","btoa","bind","updateCanvasDimensions","r","fabricInit","prevProps","newCanvasSetting","canvas","freeDrawingBrush","color","freeDrawingCursor","fabric","Canvas","isDrawingMode","canvasWrapperRef","setWidth","offsetWidth","setHeight","on","setIsDrawing","setCanvas","canvasWidth","canvasHeight","EmojiTri","drag","dragging","requestAnimationFrame","setDragPosition","getMousePosition","startDrag","endDrag","preserveAspectRatio","clipPathUnits","points","x","y","clipPath","alt","emoji1","src","emoji2","emoji3","cx","cy","offset","stopColor","svgWrapper","removeEventListener","body","preventDefault","coord","clampY","clamp","offsetX","norm","clampX","baseVal","getItem","setTranslate","CTM","getScreenCTM","clientX","a","f","num","min","max","acknowledgementOfCountryText","introText","instructionsText","IntroModal","modalPages","currentPage","continueClick","modalContentSelector","prevState","toggleModal","string","Closed","Acknowledgement","Intro","Instructions","Marquee","require","default","currentArtist","ColourPicker","click","SwapIcon","type","name","defaultValue","colours","colour1","colour2","colour3","colorInputChange","selectors","cl","contains","changeColourOrder","colNum","charAt","documentElement","setProperty","value","markerWidth","markerHeight","refX","refY","orient","markerEnd","DrawingTools","frameColour","changeBrushSize","toggleEraser","undoDrawing","redoDrawing","c","substring","rgb","parseInt","shaders","Shaders","create","onecolour","frag","GLSL","GLVis","shader","ignoreUnusedUniforms","uniforms","timer","ResponseDisplay","randomInt","floor","random","waitForNewResponseBox","textHangTime","textFadeTime","responseBoundaryArray","editingBoundaryArray","createResponseTextBox","responsesToDisplay","length","setTimeout","nextResponse","getNextResponse","startsWith","createResponseImageBox","responseTest","textResponse","responseWrapper","newResponseBox","innerHTML","xRoll","yRoll","wRoll","maxWidth","left","removeChild","imageResponse","ratio","naturalWidth","naturalHeight","boxWidth","boxHeight","widthPerc","heightPerc","leftEdge","rightEdge","topEdge","bottomEdge","newResponseBoundary","right","bottom","responseBox","isColliding","rightOverlap","leftOverlap","bottomOverlap","topOverlap","addBoundary","newBoundaryArray","push","removeBoundary","slice","AudioStreamPlayer","crossOrigin","audioInit","audioStream","setStreamPlayer","AudioContext","webkitAudioContext","audioContext","gainNode","createGain","setGainControl","createMediaElementSource","connect","destination","load","play","alert","DesktopApp","streamPlayer","emojiX","emojiY","infoOverlay","modalIsOpen","mobile","currentPrompt","setDrawInput","setWriteInput","artistPresets","placeholder","submitResponse","title","startTimer","myInterval","setInterval","gainControl","muted","gain","setValueAtTime","currentTime","MobileApp","App","matchMedia","matches","innerWidth","innerHeight","promptType","promptCountdown","scheduleLoopTime","unseenResponses","lastResponseID","drawingResponse","maxUndo","drawingCanvas","redoStack","stateStack","currentCanvasState","isDrawing","isEraser","savedBrush","saveCanvasState","updateWindowDimensions","updateEmojis","updateSchedule","startPromptCountdown","drawingInput","initSchedule","fetch","headers","method","mode","then","res","json","setStateFromDB","data","JSON","stringify","scheduleData","responseData","console","log","newResponses","response","RESPONSE","concat","altText","emojiString","imageInput","dataURL","toDataURL","format","formData","FormData","imageFile","dataURLtoFile","clear","append","result","catch","error","textInput","responseText","reflectText","oldestResponse","updatedResponseArray","shift","zIndex","newColourOrder","newSize","EraserBrush","toDatalessJSON","newStateStack","newCanvasState","newRedoStack","newState","pop","loadFromJSON","newPrompt","promptTimer","children","promptTimerOverlay","transition","countdown","clearInterval","dataurl","filename","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.2e88ec68.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/desert.afb4dc6a.png\";","export default __webpack_public_path__ + \"static/media/blossoming-flower.5f78e6a8.png\";","export default __webpack_public_path__ + \"static/media/mushroom.6f17f235.png\";","export default __webpack_public_path__ + \"static/media/woozy.df9645ec.png\";","export default __webpack_public_path__ + \"static/media/teddy-bear.a4c592be.png\";","export default __webpack_public_path__ + \"static/media/butterfly.22ba9572.png\";","export default __webpack_public_path__ + \"static/media/leaf-in-wind.b5dea42c.png\";","export default __webpack_public_path__ + \"static/media/spiral-shell.49e9854a.png\";","import React, { Component } from 'react';\r\n\r\nexport class AudioControls extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      volumeNotches: 12,\r\n      volumeDragging: false,\r\n      hoverNotch: null\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <>              \r\n        <button id=\"mute-button\" onClick={this.props.muteAudio}>\r\n          {this.props.isMuted\r\n            ? <MuteIconOff />\r\n            : <MuteIconOn />\r\n          }          \r\n          </button>\r\n        <div id=\"volume-wrapper\">\r\n        </div>\r\n      </> \r\n    )\r\n  }\r\n  componentDidMount() { \r\n    this.createNotches();\r\n  }\r\n  createNotches(){\r\n    let volumeWrapper = document.getElementById('volume-wrapper');\r\n    volumeWrapper.addEventListener('mousemove', this.detectVolumeHover);\r\n    volumeWrapper.addEventListener('mouseenter', this.detectVolumeHover);\r\n    volumeWrapper.addEventListener('mousedown', this.detectVolumeClick);\r\n    volumeWrapper.addEventListener('mouseleave', this.exitVolumeWrapper);\r\n    let notches = this.state.volumeNotches;\r\n    for(let i = 0; i < notches; i++){\r\n      let newDiv = document.createElement('div');\r\n      newDiv.classList.add('VolumeNotch');\r\n      newDiv.classList.add('VolumeActive');     \r\n      newDiv.id = notches - i;\r\n      newDiv.style.height = 100/notches + \"%\";\r\n      volumeWrapper.appendChild(newDiv);\r\n    }\r\n  }\r\n  exitVolumeWrapper(){\r\n    Array.from(document.getElementsByClassName('VolumeHover')).forEach(function (element) {\r\n      element.classList.remove('VolumeHover');\r\n    });    \r\n  }\r\n  detectVolumeHover = (e) => {\r\n    let volumeWrapper = e.target;\r\n    let mousePos = Math.trunc((e.clientY - volumeWrapper.getBoundingClientRect().top) / volumeWrapper.offsetHeight * this.state.volumeNotches);\r\n    if(this.state.hoverNotch !== mousePos){ \r\n      this.setState({ hoverNotch: mousePos });\r\n      Array.from(document.getElementsByClassName('VolumeHover')).forEach(function (element) {\r\n        element.classList.remove('VolumeHover');\r\n      });      \r\n      e.target.childNodes[mousePos].classList.add('VolumeHover');\r\n      if(e.buttons === 1) {\r\n        this.detectVolumeClick(e);\r\n      }\r\n    }\r\n  }\r\n  // can this be streamlined?? possibly get a normal value from mouse pos then do other maths to it\r\n  detectVolumeClick = (e) => {\r\n    let volumeWrapper = e.target;\r\n    let mousePos = Math.trunc((e.clientY - volumeWrapper.getBoundingClientRect().top) / volumeWrapper.offsetHeight * this.state.volumeNotches);\r\n    Array.from(document.getElementsByClassName('VolumeNotch')).forEach(function (element, index) {\r\n      if(index+1 > mousePos){ element.classList.add('VolumeActive') }\r\n      else{ element.classList.remove('VolumeActive') }\r\n    });\r\n    let iconLines = document.getElementsByClassName('MuteLines');\r\n    let lineCutoff = 3 - (mousePos/this.state.volumeNotches*3);\r\n    for (let j = 0; j < 3; j ++){\r\n      if(j<lineCutoff){\r\n        iconLines[j].classList.add('active');\r\n      } else {\r\n        iconLines[j].classList.remove('active');\r\n      }\r\n    }\r\n    let newVolume = 1 - mousePos / this.state.volumeNotches;\r\n    this.props.changeVolume(newVolume);\r\n  }\r\n}\r\n\r\nexport default AudioControls\r\n\r\nfunction MuteIconOn(props){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      transform=\"\">\r\n        {/* Speaker */}\r\n        <path id=\"mute-speaker\"\r\n              d=\" M 10,42\r\n              A 2,2 90 0 1 12,40\r\n              L 15,40 30,15 35,15\r\n              Q 38,50 35,85 \r\n              L 30,85 15,60 12,60\r\n              A 2,2 90 0 1 10,58\r\n              Z              \r\n        \" />\r\n        {/* Volume Lines */}\r\n        <path fill=\"none\" stroke=\"black\" strokeLinecap=\"round\" strokeWidth=\"6\" className=\"MuteLines active\"\r\n              d=\" M 45,35\r\n                  Q 55,50 45,65\" />\r\n        <path fill=\"none\" stroke=\"black\" strokeLinecap=\"round\" strokeWidth=\"6\" className=\"MuteLines active\"\r\n              d=\" M 55,22.5\r\n                  Q 77.33,50 55,77.5\" />\r\n        <path fill=\"none\" stroke=\"black\" strokeLinecap=\"round\" strokeWidth=\"6\" className=\"MuteLines active\"\r\n              d=\" M 65,10\r\n                  Q 101.66,50 65,90\" />\r\n    </svg>\r\n  )\r\n}\r\nfunction MuteIconOff(props){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      opacity=\"50%\">\r\n        {/* Speaker */}\r\n        <path id=\"mute-speaker\"\r\n              d=\" M 10,42\r\n              A 2,2 90 0 1 12,40\r\n              L 15,40 30,15 35,15\r\n              Q 38,50 35,85 \r\n              L 30,85 15,60 12,60\r\n              A 2,2 90 0 1 10,58\r\n              Z              \r\n        \" />\r\n        <path fill=\"none\" stroke=\"black\" strokeWidth=\"6\"\r\n              d=\" M 50, 35\r\n                  L 80, 65\r\n              \" />\r\n        <path fill=\"none\" stroke=\"black\" strokeWidth=\"6\" \r\n              d=\" M 80, 35\r\n                  L 50, 65\r\n              \" />\r\n    </svg>\r\n  )\r\n}\r\n","import React, { Component } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nexport class DrawingCanvas extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n    }\r\n    this.getCustomCursor = this.getCustomCursor.bind(this);\r\n    this.updateCanvasDimensions = this.updateCanvasDimensions.bind(this);\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"drawing-canvas-wrapper\">\r\n        <canvas id=\"drawing-canvas\" />\r\n        <svg\r\n          width=\"10px\"\r\n          height=\"10px\"\r\n          viewBox=\"0 0 10 10\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          id=\"drawing-cursor\">\r\n          <circle  r=\"5\" fill=\"white\"/>\r\n        </svg>\r\n      </div>\r\n    )\r\n  }\r\n  componentDidMount() { \r\n    this.fabricInit();\r\n   }\r\n   \r\n  componentWillUnmount() {  }\r\n  componentDidUpdate(prevProps) {\r\n    /* update brush colour */\r\n    if (prevProps.brushColour !== this.props.brushColour) {\r\n      let newCanvasSetting = this.state.canvas;\r\n      newCanvasSetting.freeDrawingBrush.color = this.props.brushColour;\r\n      newCanvasSetting.freeDrawingCursor = this.getCustomCursor();\r\n    }\r\n    /* update brush size */\r\n    if (prevProps.brushSize !== this.props.brushSize) {\r\n      let newCanvasSetting = this.state.canvas;\r\n      newCanvasSetting.freeDrawingBrush.width = this.props.brushSize;\r\n      newCanvasSetting.freeDrawingCursor = this.getCustomCursor();\r\n    }  \r\n  }\r\n  fabricInit(){\r\n    let canvas = new fabric.Canvas('drawing-canvas', { isDrawingMode: true });\r\n    let canvasWrapperRef = document.getElementById(\"drawing-canvas-wrapper\"); \r\n    canvas.setWidth(canvasWrapperRef.offsetWidth);\r\n    canvas.setHeight(canvasWrapperRef.offsetHeight);\r\n    canvas.freeDrawingBrush.color = this.props.brushColour;    \r\n    canvas.freeDrawingBrush.width = this.props.brushSize;\r\n    canvas.freeDrawingCursor = this.getCustomCursor();\r\n    canvas.on('mouse:down', this.props.setIsDrawing);\r\n    this.setState({ canvas: canvas },\r\n      () => { window.addEventListener('resize', this.updateCanvasDimensions); });\r\n    this.props.setCanvas(canvas);\r\n  }\r\n  updateCanvasDimensions() {\r\n    let canvasWrapperRef = document.getElementById(\"drawing-canvas-wrapper\");\r\n    if(canvasWrapperRef){\r\n      this.state.canvas.setWidth(canvasWrapperRef.offsetWidth);\r\n      this.state.canvas.setHeight(canvasWrapperRef.offsetHeight);\r\n      this.setState({ canvasWidth: canvasWrapperRef.offsetWidth, \r\n        canvasHeight: canvasWrapperRef.offsetHeight });\r\n    }       \r\n  }\r\n  /* Custom Cursor - Curtis Jurgensen - https://codepen.io/curtisj44/pen/yGxJNX*/\r\n  getCustomCursor = () => {\r\n    const circle = `\r\n          <svg\r\n            height=\"${ this.props.brushSize }\"\r\n            fill=\"${ this.props.brushColour }\"\r\n            viewBox=\"0 0 ${ this.props.brushSize * 2 } ${ this.props.brushSize * 2 }\"\r\n            width=\"${ this.props.brushSize }\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <circle\r\n              cx=\"50%\"\r\n              cy=\"50%\"\r\n              r=\"${ this.props.brushSize }\" \r\n            />\r\n          </svg>\r\n        `;\r\n        \r\n        return `url(data:image/svg+xml;base64,${ window.btoa(circle) }) ${ this.props.brushSize / 2 } ${ this.props.brushSize / 2 }, move`;\r\n      };\r\n}\r\n\r\nexport default DrawingCanvas\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\n\r\nexport class EmojiTri extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      dragging: false,\r\n    }\r\n    this.getMousePosition = this.getMousePosition.bind(this);\r\n    this.startDrag = this.startDrag.bind(this);\r\n    this.endDrag = this.endDrag.bind(this);\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"emoji-tri-wrapper\">\r\n        <svg\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n          viewBox=\"0 0 100 100\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          preserveAspectRatio=\"none\"\r\n          id=\"emoji-tri-svg-wrapper\"\r\n        >\r\n          {/* Emoji Triangle gradient background - uses triangle clip path on div with css gradients stacked */}\r\n          <clipPath id=\"emoji-tri-clip-path\" clipPathUnits=\"objectBoundingBox\">\r\n            {/* Gradient Triangle - height = width * 0.866 */}\r\n            <polygon points=\"0,0 1,0 0.5,1\" />\r\n          </clipPath>\r\n          <foreignObject x=\"10\" y=\"15.36\" width=\"80\" height=\"69.28\" clipPath=\"url(#emoji-tri-clip-path)\">\r\n            <div id=\"emoji-tri-gradients\" xmlns=\"http://www.w3.org/1999/xhtml\" />\r\n          </foreignObject>\r\n          {/* 1.6vw */}\r\n          <foreignObject x=\"0\" y=\"0\" width=\"20\" height=\"20\">\r\n            <img id=\"emoji-1\" alt={this.props.emoji1.alt} src={this.props.emoji1.src} />\r\n          </foreignObject>\r\n          <foreignObject x=\"80\" y=\"0\" width=\"20\" height=\"20\">\r\n            <img id=\"emoji-2\" alt={this.props.emoji2.alt} src={this.props.emoji2.src} />\r\n          </foreignObject>\r\n          <foreignObject x=\"40\" y=\"80\" width=\"20\" height=\"20\">\r\n            <img id=\"emoji-3\" alt={this.props.emoji3.alt} src={this.props.emoji3.src} />\r\n          </foreignObject>\r\n          {/* Selector */}\r\n          <circle  id=\"selector-circle\" className=\"Draggable\" cx=\"0\" cy=\"0\" r=\"7\" transform={\"translate(50 45)\"} fill=\"url(#stroke-gradient)\" />\r\n          <defs>\r\n            {/* Gradient for the selector */}\r\n            <radialGradient id=\"stroke-gradient\">\r\n              <stop offset=\"0%\" stopColor=\"transparent\" />\r\n              <stop offset=\"90%\" stopColor=\"white\" />\r\n              <stop offset=\"95%\" stopColor=\"black\" />\r\n            </radialGradient>\r\n          </defs>\r\n        </svg>              \r\n      </div>\r\n    )\r\n  }\r\n  componentDidMount() {\r\n    this.svgWrapper = document.getElementById('emoji-tri-svg-wrapper');\r\n    this.svgWrapper.addEventListener('mousedown', this.startDrag);\r\n    this.svgWrapper.addEventListener('mousedown', this.drag);\r\n  }\r\n  componentWillUnmount() {\r\n    this.svgWrapper.removeEventListener('mousedown', this.startDrag);\r\n    this.svgWrapper.removeEventListener('mousedown', this.drag);\r\n  }\r\n  startDrag() {\r\n    // set new cursor \r\n    document.body.classList.add(\"dragactive\");\r\n    document.addEventListener('mousemove', this.drag);\r\n    document.addEventListener('mouseup', this.endDrag);\r\n  }\r\n  drag = (e) => {\r\n    if (!this.state.dragging){\r\n      window.requestAnimationFrame(() => {\r\n        this.setDragPosition(e);\r\n        this.setState({dragging: false});\r\n      })\r\n      this.setState({dragging: true});\r\n    }    \r\n  }\r\n  setDragPosition(e){\r\n    e.preventDefault();\r\n    var coord = this.getMousePosition(e);\r\n    // set Y border                \r\n    let clampY = this.clamp(coord.y, 15.36, 84.64);\r\n    // set X border based on Y pos\r\n    let offsetX = 40 * this.norm(clampY, 84.64, 15.36);\r\n    let clampX = this.clamp(coord.x, 50 - offsetX, 50 + offsetX);            \r\n    document.getElementById('selector-circle').transform.baseVal.getItem(0).setTranslate(clampX, clampY);\r\n  }\r\n  endDrag() {\r\n    document.body.classList.remove(\"dragactive\");\r\n    document.removeEventListener('mousemove', this.drag);\r\n    document.removeEventListener('mouseup', this.endDrag); \r\n  }\r\n  getMousePosition(e) {\r\n    var CTM = this.svgWrapper.getScreenCTM();\r\n    return {\r\n      x: (e.clientX - CTM.e) / CTM.a,\r\n      y: (e.clientY - CTM.f) / CTM.d\r\n    };\r\n  }\r\n  clamp(num, min, max){\r\n    return Math.min(Math.max(num, min), max)\r\n  }\r\n  norm(num, min, max){\r\n    return (num - min) / (max - min)\r\n  }\r\n}\r\n\r\nexport default EmojiTri\r\n","export const acknowledgementOfCountryText = <span>\r\n  This website was created and is maintained on the unceded territory of the Wurundjeri people of the Kulin Nations, \r\n  the Traditional Custodians of the land. We recognise their ongoing legacy of connection to land, waters and culture \r\n  and pay respect to their Elders past, present and emerging. We extend this respect to those of the wider Kulin Nations \r\n  along with all other First Nations peoples of this continent, whose stolen land the material pathways that allow our \r\n  digital connectivity are built upon.\r\n</span>\r\n\r\nexport const introText = <>\r\n  <span>\r\n    room2.fm seeks to create a digital space for collective reflection, sharing, and vulnerability. Izabel, Hani Hanbali and \r\n    Hannah Wu will be selecting sounds tonight and are joined by Emile Frankel and Panda Wong taking over the prompts and Mohamed \r\n    Chamas taking over the visuals.\r\n    <br />\r\n    8pm =&gt; 10pm (AEST)\r\n  </span>\r\n  <br />  \r\n  <br />\r\n  <span>\r\n    There is no right or wrong way for you to listen, respond to, or feel a piece of music or sound. We encourage you to \r\n    trust your ears and intuition and respond sincerely and in whatever way feels true to your experience.\r\n  </span>\r\n  <br />\r\n  <br />\r\n  <span className=\"ModalTextSmall\">\r\n    This website has been optimised to run with the window maximised on Chrome and Firefox on a desktop or laptop screen. \r\n    If you are having issues, please try one of these browsers.\r\n    <br />\r\n    If you would like a high-contrast version of the website's text with no distortion please click 'Focus Mode' button.\r\n    <br />    \r\n    We will be moderating responses that we feel are intentionally disruptive or may make others feel unsafe in the space.\r\n  </span>\r\n  <br />\r\n  <br />\r\n</>\r\n\r\nexport const instructionsText = <>\r\n  <span>\r\n    You can share your response to the music in a number of ways.\r\n  </span>\r\n  <br />\r\n  <br />\r\n  <span>\r\n    You are encouraged to use the emoji triangle in the bottom left of the screen to convey what you are feeling about the \r\n    sounds you are receiving. Click and drag the circle to any of the points of the triangle or somewhere between them. The \r\n    collective selection of everyone participating in the stream will be reflected in the main visuals.\r\n  </span>\r\n  <br />\r\n  <br />\r\n  <span>\r\n    Periodically, prompts will come up in the lower middle of the screen. Some of these will request a written response, \r\n    some a drawn response. You can write or draw your response in the white box at the bottom of the screen before clicking \r\n    the submit response button to share it with others. Your responses to these prompts will be completely anonymised and \r\n    not attributable to you in any way. Above the submit response button, you can select the colour palette you will be \r\n    able to draw responses with.\r\n  </span>\r\n  <br />\r\n  <br />\r\n  <span>\r\n    You can use the chat box on the right of the screen to directly speak to others participating. Select a username and \r\n    click Join Room to engage. Be yourself, be someone else, be whomever you want to be!\r\n  </span>\r\n  <br />\r\n  <br />\r\n  <span className=\"ModalTextSmall\">\r\n    room2.fm was created by Patrick Hase and Anuraag Bhatia. We welcome your thoughts, feedback, or questions - please send them through to room2fm@gmail.com\r\n  </span>            \r\n</>\r\n\r\nexport const warningText = <>\r\n\r\n</>","import React, { Component } from 'react';\r\n\r\nimport { acknowledgementOfCountryText, introText, instructionsText, /* warningText */ } from '../content/modalText';\r\n\r\nexport class IntroModal extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)    \r\n    this.state = {\r\n      modalPages: 4,\r\n      currentPage: 1,\r\n    }\r\n    this.continueClick = this.continueClick.bind(this);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"modal-wrapper\">\r\n\r\n        {modalContentSelector(this.state.currentPage)}\r\n\r\n        {this.state.currentPage !== 0 &&\r\n          <button id=\"modal-continue-button\" onClick={this.continueClick}> Continue </button>\r\n        }\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n  continueClick(){\r\n    // if still pages left to view - else close modal\r\n    if(this.state.currentPage < this.state.modalPages-1){\r\n      this.setState(prevState => ({\r\n        currentPage: prevState.currentPage + 1\r\n      }))\r\n    } else {\r\n      this.props.toggleModal();\r\n    }    \r\n  }\r\n}\r\nexport default IntroModal\r\n\r\n/* Select from modal content based on currentPage state */\r\nfunction modalContentSelector(currentPage, string){\r\n  switch(currentPage){\r\n    // 0 - closed\r\n    case 0:\r\n      return <Closed />;\r\n    // 1 - Acknowledgement of Country\r\n    case 1:\r\n      return <Acknowledgement />;\r\n    // 2 - Introduction Text\r\n    case 2:\r\n      return <Intro />;\r\n    // 3 - Instruction Text\r\n    case 3:\r\n      return <Instructions />;\r\n    default:\r\n      return <Closed />;\r\n  }\r\n}\r\n\r\n//0\r\nfunction Closed(props) {\r\n  return (\r\n    <div id=\"logo-wrapper\">\r\n      <div id=\"text-logo\">\r\n        <pre id=\"pre-logo-wrapper\">\r\n          <div id=\"logo-line-1\">__________________________________________________________________<u className=\"text-gradient-1\">/\\\\\\\\\\\\\\\\\\</u>_____        <br/></div>\r\n          <div id=\"logo-line-2\">&nbsp;________________________________________________________________<u className=\"text-gradient-2\">/\\\\\\///////\\\\\\</u>___       <br/></div>\r\n          <div id=\"logo-line-3\">&nbsp;&nbsp;_______________________________________________________________<u className=\"text-gradient-3\">\\///</u>______<u className=\"text-gradient-3\">\\//\\\\\\</u>__      <br/></div>\r\n          <div id=\"logo-line-4\">&nbsp;&nbsp;&nbsp;__<u className=\"text-gradient-4\">/\\\\/\\\\\\\\\\\\\\</u>______<u className=\"text-gradient-4\">/\\\\\\\\\\</u>________<u className=\"text-gradient-4\">/\\\\\\\\\\</u>_______<u className=\"text-gradient-4\">/\\\\\\\\\\</u>__<u className=\"text-gradient-4\">/\\\\\\\\\\</u>_____________<u className=\"text-gradient-4\">/\\\\\\/</u>___     <br/></div>\r\n          <div id=\"logo-line-5\">&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-5\">\\/\\\\\\/////\\\\\\</u>___<u className=\"text-gradient-5\">/\\\\\\///\\\\\\</u>____<u className=\"text-gradient-5\">/\\\\\\///\\\\\\</u>___<u className=\"text-gradient-5\">/\\\\\\///\\\\\\\\\\///\\\\\\</u>________<u className=\"text-gradient-5\">/\\\\\\//</u>_____    <br/></div>\r\n          <div id=\"logo-line-6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-6\">\\/\\\\\\</u>___<u className=\"text-gradient-6\">\\///</u>___<u className=\"text-gradient-6\">/\\\\\\</u>__<u className=\"text-gradient-6\">\\//\\\\\\</u>__<u className=\"text-gradient-6\">/\\\\\\</u>__<u className=\"text-gradient-6\">\\//\\\\\\</u>_<u className=\"text-gradient-6\">\\/\\\\\\</u>_<u className=\"text-gradient-6\">\\//\\\\\\</u>__<u className=\"text-gradient-6\">\\/\\\\\\</u>_____<u className=\"text-gradient-6\">/\\\\\\//</u>________   <br/></div>\r\n          <div id=\"logo-line-7\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-7\">\\/\\\\\\</u>_________<u className=\"text-gradient-7\">\\//\\\\\\</u>__<u className=\"text-gradient-7\">/\\\\\\</u>__<u className=\"text-gradient-7\">\\//\\\\\\</u>__<u className=\"text-gradient-7\">/\\\\\\</u>__<u className=\"text-gradient-7\">\\/\\\\\\</u>__<u className=\"text-gradient-7\">\\/\\\\\\</u>__<u className=\"text-gradient-7\">\\/\\\\\\</u>___<u className=\"text-gradient-7\">/\\\\\\/</u>___________  <br/></div>\r\n          <div id=\"logo-line-8\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-8\">\\/\\\\\\</u>__________<u className=\"text-gradient-8\">\\///\\\\\\\\\\/</u>____<u className=\"text-gradient-8\">\\///\\\\\\\\\\/</u>___<u className=\"text-gradient-8\">\\/\\\\\\</u>__<u className=\"text-gradient-8\">\\/\\\\\\</u>__<u className=\"text-gradient-8\">\\/\\\\\\</u>__<u className=\"text-gradient-8\">/\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\</u>_ <br/></div>\r\n          <div id=\"logo-line-9\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-9\">\\///</u>_____________<u className=\"text-gradient-9\">\\/////</u>________<u className=\"text-gradient-9\">\\/////</u>_____<u className=\"text-gradient-9\">\\///</u>___<u className=\"text-gradient-9\">\\///</u>___<u className=\"text-gradient-9\">\\///</u>__<u className=\"text-gradient-9\">\\///////////////</u>__<br/></div>\r\n        </pre>            \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n//1\r\nfunction Acknowledgement(props) {\r\n  return (\r\n    <div id=\"modal-text-wrapper\" className=\"modal-text-wrapper-aoc\">\r\n      <div id=\"modal-text-vert-align\">\r\n        <div id=\"modal-text\" className=\"modal-text-aoc\">\r\n          {acknowledgementOfCountryText}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n//2\r\nfunction Intro(props) {\r\n  return (<>\r\n    <div id=\"modal-title-wrapper\">\r\n      <div id=\"modal-title\">\r\n        Welcome to room2.fm live!\r\n      </div>\r\n    </div>\r\n    <div id=\"modal-text-wrapper\">\r\n      <div id=\"modal-text-vert-align\">\r\n        <div id=\"modal-text\">\r\n          {introText}\r\n        </div>\r\n      </div>\r\n    </div>        \r\n    <div id=\"modal-button-wrapper\"></div>\r\n  </>\r\n  )\r\n}\r\n\r\n//3\r\nfunction Instructions(props) {\r\n  return (<>\r\n    <div id=\"modal-title-wrapper\">\r\n      <div id=\"modal-title\">\r\n        Welcome to room2.fm live!\r\n      </div>\r\n    </div>\r\n    <div id=\"modal-text-wrapper\">\r\n      <div id=\"modal-text-vert-align\">\r\n        <div id=\"modal-text\">\r\n          {instructionsText}\r\n        </div>\r\n      </div>\r\n    </div>        \r\n    <div id=\"modal-button-wrapper\"></div>\r\n  </>\r\n  )\r\n}\r\n//Warning not currently assigned\r\n/* function Warning(props) {\r\n  return (\r\n    <div> aoc </div>\r\n  )\r\n} */","import React, { Component } from 'react';\r\n\r\nexport class Marquee extends Component {\r\n  render() {\r\n    return (\r\n      <div id=\"top-banner-wrapper\">\r\n        <img id=\"cd-gif\" src={require('../content/media/slowdiscpixel.gif').default} alt=\"spinning cd gif\" />  \r\n        <div id=\"marquee-wrapper\">\r\n            <div id=\"marquee-text-scroll\"><span className=\"MarqueeEmoji\"> ~(~) </span>~ ~ ~ room2.fm is live <span className=\"MarqueeEmoji\">(~)~</span> {\"NOW PLAYING: \" + this.props.currentArtist} <span className=\"MarqueeEmoji\"> ~(~) </span>~ ~ ~ room2.fm is live <span className=\"MarqueeEmoji\">(~)~</span> {\"NOW PLAYING: \" + this.props.currentArtist} <span className=\"MarqueeEmoji\"> ~(~) </span>~ ~ ~ room2.fm is live <span className=\"MarqueeEmoji\">(~)~</span> {\"NOW PLAYING: \" + this.props.currentArtist}</div>\r\n        </div>            \r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Marquee","import React, { Component } from 'react'\r\n\r\nexport class ColourPicker extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n    }\r\n    this.click = this.click.bind(this);\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n      <button id=\"col-swap-button\" onClick={this.click}>\r\n        <SwapIcon />\r\n      </button>\r\n      <span id=\"word-change\">CHANGE\\</span>\r\n      <span id=\"word-colour\">/COLOUR</span>\r\n      <div id=\"col-select-wrapper\">\r\n        <input type=\"color\" id=\"col1Select\" className=\"col-select first\" name=\"col1Select\" defaultValue={this.props.colours.colour1} />\r\n        <input type=\"color\" id=\"col2Select\" className=\"col-select second\" name=\"col23Select\" defaultValue={this.props.colours.colour2} />\r\n        <input type=\"color\" id=\"col3Select\" className=\"col-select third\" name=\"col33Select\" defaultValue={this.props.colours.colour3} />\r\n      </div>\r\n      </>      \r\n    )\r\n  }\r\n  componentDidMount(){\r\n    document.getElementById('col1Select').addEventListener(\"input\", this.colorInputChange.bind(this), false);\r\n    document.getElementById('col2Select').addEventListener(\"input\", this.colorInputChange.bind(this), false);\r\n    document.getElementById('col3Select').addEventListener(\"input\", this.colorInputChange.bind(this), false);\r\n  }\r\n  click(){\r\n    let selectors = document.getElementsByClassName(\"col-select\");\r\n    for (let i = 0; i < 3; i++){\r\n      let cl = selectors[i].classList;\r\n      switch(true){\r\n        case cl.contains('first'):\r\n        cl.remove('first');\r\n        cl.add('second');\r\n        break;\r\n        case cl.contains('second'):\r\n        cl.remove('second');\r\n        cl.add('third');\r\n        break;\r\n        case cl.contains('third'):\r\n        cl.remove('third');\r\n        cl.add('first');\r\n        break;\r\n        default:\r\n        break;\r\n      }\r\n    }\r\n    this.props.changeColourOrder();\r\n  }\r\n  colorInputChange(e){\r\n    let colNum = e.target.id.charAt(3);\r\n    document.documentElement.style.setProperty('--comp-col-0'+colNum, e.target.value);\r\n  }\r\n  \r\n}\r\n\r\nexport default ColourPicker\r\n\r\n/* expecting a 5:1 aspect ratio */\r\nfunction SwapIcon(){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\" >\r\n        {/* Arrow Head */}\r\n        <marker id=\"arrowhead\" markerWidth=\"10\" markerHeight=\"7\"refX=\"7\" refY=\"3.5\" orient=\"auto\">\r\n          <polygon points=\"0 0, 10 3.5, 0 7\" />\r\n        </marker>\r\n        {/* <rect width=\"100%\" height=\"100%\" fill=\"red\" /> */}\r\n        {/* <rect width=\"100%\" height=\"1%\" y=\"50%\" fill=\"blue\" />\r\n        <rect width=\"1%\" height=\"100%\" x=\"25%\" fill=\"blue\" /> */}\r\n        {/* Line */}\r\n        <path fill=\"none\" strokeWidth=\"4\" markerEnd=\"url(#arrowhead)\" \r\n              d=\" M 25, 50\r\n                  L 0,13.4 100,13.4 50,86.6\r\n                  \" />\r\n        {/* <path fill=\"none\" stroke=\"black\" strokeWidth=\"2\" marker-end=\"url(#arrowhead)\"\r\n              d=\" M 35,15\r\n                  L 17.5,15 17.5,5 82.5,5 82.5,15 65,15\" /> */}\r\n    </svg>\r\n  )\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport ColourPicker from './colourPicker';\r\n\r\nexport class DrawingTools extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n    frameColour: \"#ffffff88\"\r\n    }\r\n    \r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"drawing-tools-wrapper\">                \r\n                <ColourPicker \r\n                  colours={this.props.colours}\r\n                  changeColourOrder={this.props.changeColourOrder}\r\n                />\r\n                <div id=\"but1\" />\r\n                <div id=\"but2\" />\r\n                <div id=\"but3\" />\r\n                <div id=\"but4\" />\r\n                <div id=\"but5\" />\r\n                <div id=\"but6\" />\r\n                <button id=\"increase-brush-button\" className=\"RightUIButton\" onClick={this.props.changeBrushSize}> {/* <IncreaseBrushSize colour1={this.props.colours.colour1} colour2={this.state.frameColour} /> */} </button>\r\n                <button id=\"decrease-brush-button\" className=\"RightUIButton\" onClick={this.props.changeBrushSize}> {/* <DecreaseBrushSize colour1={this.props.colours.colour1} colour2={this.state.frameColour} /> */} </button>\r\n                <button id=\"erase-brush-button\" className=\"RightUIButton\" onClick={this.props.toggleEraser}>\r\n                {/*   E */}\r\n                </button>\r\n                <button id=\"undo-button\" className=\"RightUIButton\" onClick={this.props.undoDrawing}>\r\n                \r\n                </button>\r\n                <button id=\"redo-button\" className=\"RightUIButton\" onClick={this.props.redoDrawing}>\r\n                \r\n                </button>\r\n              </div>\r\n    )\r\n  }\r\n  componentDidMount() {\r\n    \r\n  }\r\n  componentDidUpdate(prevProps){\r\n    if (prevProps.colours.colour1 !== this.props.colours.colour1) {\r\n      var c = this.props.colours.colour1.substring(1);      // strip #\r\n      var rgb = parseInt(c, 16);   // convert rrggbb to decimal\r\n      var r = (rgb >> 16) & 0xff;  // extract red\r\n      var g = (rgb >>  8) & 0xff;  // extract green\r\n      var b = (rgb >>  0) & 0xff;  // extract blue\r\n      \r\n      var luma = 0.2126 * r + 0.7152 * g + 0.0722 * b; // per ITU-R BT.709\r\n      \r\n      if (luma < 40) {\r\n          this.setState({ frameColour: \"#ffffff88\" })\r\n      } else {\r\n          this.setState({ frameColour: \"#00000088\" })\r\n      }\r\n    }\r\n  }\r\n\r\n  /* getCSSRule(ruleName) {\r\n    ruleName = ruleName.toLowerCase();\r\n    var result = null;\r\n    var find = Array.prototype.find;\r\n\r\n    find.call(document.styleSheets, styleSheet => {\r\n        result = find.call(styleSheet.cssRules, cssRule => {\r\n            return cssRule instanceof CSSStyleRule \r\n                && cssRule.selectorText.toLowerCase() === ruleName;\r\n        });\r\n        return result != null;\r\n    });\r\n    return result;\r\n  } */\r\n}\r\n\r\nexport default DrawingTools\r\n\r\n/* expecting a 1:1 aspect ratio */\r\nfunction IncreaseBrushSize(props){\r\n  return (<>\r\n  <svg\r\n      width=\"83%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\" >\r\n        <rect id=\"increase-brush-circle\" width=\"100%\" height=\"100%\" x=\"0\" y=\"0\" fill=\"url(#increase-brush-gradient\" />\r\n        <defs>\r\n          <radialGradient id=\"increase-brush-gradient\">\r\n            <stop offset=\"60%\" stopColor={props.colour1} />\r\n            <stop offset=\"60%\" stopColor={props.colour1} />\r\n            <stop offset=\"65%\" stopColor={props.colour2} />\r\n            <stop offset=\"85%\" stopColor=\"transparent\" />            \r\n          </radialGradient>\r\n        </defs>        \r\n    </svg>\r\n  <svg\r\n      width=\"17%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 20 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\" >\r\n        {/* <rect id=\"increase-brush-circle\" width=\"100%\" height=\"100%\" x=\"0\" y=\"0\" cX=\"50%\" cY=\"50%\" fill=\"url(#increase-brush-gradient\" /> */}\r\n        <polyline points=\"10,20 10,80\" fill=\"none\" stroke=\"black\" strokeWidth=\"4\" />   \r\n        <polyline points=\"0,30 10,20 20,30\" fill=\"none\" stroke=\"black\" strokeWidth=\"4\" />   \r\n    </svg>  \r\n  </>    \r\n  )\r\n}\r\n/* expecting a 1:1 aspect ratio */\r\nfunction DecreaseBrushSize(props){\r\n  return (<>\r\n    <svg\r\n      width=\"83%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\" >\r\n        <rect id=\"decrease-brush-circle\" width=\"100%\" height=\"100%\" x=\"0\" y=\"0\" cx=\"50%\" cy=\"50%\" fill=\"url(#decrease-brush-gradient)\">\r\n        </rect>\r\n        <defs>\r\n          <radialGradient id=\"decrease-brush-gradient\">\r\n            <stop offset=\"30%\" stopColor={props.colour1} />\r\n            <stop offset=\"30%\" stopColor={props.colour1} />\r\n            <stop offset=\"35%\" stopColor={props.colour2} />\r\n            <stop offset=\"55%\" stopColor=\"transparent\" />            \r\n          </radialGradient>\r\n        </defs>\r\n        \r\n    </svg>\r\n    <svg\r\n      width=\"17%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 20 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\" >\r\n        {/* <rect id=\"increase-brush-circle\" width=\"100%\" height=\"100%\" x=\"0\" y=\"0\" cX=\"50%\" cY=\"50%\" fill=\"url(#increase-brush-gradient\" /> */}\r\n        <polyline points=\"10,20 10,80\" fill=\"none\" stroke=\"black\" strokeWidth=\"4\" />   \r\n        <polyline points=\"0,70 10,80 20,70\" fill=\"none\" stroke=\"black\" strokeWidth=\"4\" />   \r\n    </svg>  \r\n  </>\r\n  )\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Shaders, Node, GLSL, NearestCopy} from \"gl-react\";\r\nimport { Surface } from \"gl-react-dom\";\r\n\r\nexport const shaders = Shaders.create({\r\n  onecolour: {\r\n    frag: GLSL`\r\n    // based on Inigo Quilez noise shader https://www.shadertoy.com/view/XdXGW8\r\n    precision highp float;\r\n    varying vec2 uv;\r\n    uniform float width;\r\n    uniform float height;\r\n    uniform float timer;\r\n    const vec3 ycol = vec3(.824,.953,.91);\r\n    const vec3 lcol = vec3(.961,.652,.266);\r\n    const vec3 rcol = vec3(.184,.219,.297);\r\n    \r\n    vec2 hash( vec2 x ) {\r\n      const vec2 k = vec2( 0.3183099, 0.3678794 );\r\n      x = x*k + k.yx;\r\n      return -1.0 + 2.0*fract( 16.0 * k*fract( x.x*x.y*(x.x+x.y)) );\r\n    }\r\n\r\n    float noise( in vec2 p ) {\r\n      vec2 i = floor( p );\r\n      vec2 f = fract( p );\t\r\n\t    vec2 u = f*f*(3.0-2.0*f);\r\n      return mix( mix( dot( hash( i + vec2(0.0,0.0) ), f - vec2(0.0,0.0) ), \r\n                       dot( hash( i + vec2(1.0,0.0) ), f - vec2(1.0,0.0) ), u.x),\r\n                  mix( dot( hash( i + vec2(0.0,1.0) ), f - vec2(0.0,1.0) ), \r\n                       dot( hash( i + vec2(1.0,1.0) ), f - vec2(1.0,1.0) ), u.x), u.y);\r\n    }\r\n\r\n    void main() {\r\n      vec2 res = vec2(width,height);\r\n      vec2 st = gl_FragCoord.xy / res;\r\n      vec2 translate = vec2(0.,0.5*timer);\r\n      if (fract( st.y * 0.5) > 0.4  || fract( st.y * 0.5) < 0.2){\r\n        st.x += translate.y*0.35; }\r\n      else {\r\n        if (fract( st.x * 0.5) > 0.2 || fract( st.x * 0.5) < 0.3){\r\n          st.x -= timer*0.5; }\r\n        else {\r\n          st.x += timer*0.35; }\r\n      }\r\n      if (fract( st.y * 0.5) > 0.8 || fract( st.y * 0.5) < 0.6){\r\n        st.x += translate.y*0.35; }\r\n      else {\r\n        if (fract( st.x * 0.5) < 0.4 || fract( st.x * 0.5) > 0.3){\r\n          st.x -= timer*0.5; }\r\n        else {\r\n          st.x += timer*0.35; }\r\n      }      \r\n      float f = noise( 2.0*st );\r\n      f = 1.-(0.6 + 0.2*f);\r\n      vec3 ycol = ycol * (0.5 * sin(timer));\r\n\r\n      gl_FragColor = vec4(min(mix(ycol,mix(rcol,lcol,uv.x-0.2),uv.y+0.2), vec3(f,f,f)), 1.0);\r\n    }`\r\n}});\r\n\r\nexport class GLVis extends Component {\r\n  render() {\r\n    return <>\r\n    <Surface width={this.props.width*0.75} height={this.props.height*0.68}>\r\n\r\n      <NearestCopy>\r\n        <Node shader={shaders.onecolour} ignoreUnusedUniforms uniforms={{timer: this.props.timer, width: this.props.width*0.075, height: this.props.width*0.068}} width={this.props.width*0.075} height={this.props.height*0.068} /> \r\n      </NearestCopy>\r\n                              \r\n    </Surface>\r\n    </>;\r\n  }\r\n}\r\n\r\nexport default GLVis;\r\n","import React, { Component } from 'react';\r\n\r\nexport class ResponseDisplay extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      waitForNewResponseBox: 5000,\r\n      textHangTime: 15000,\r\n      textFadeTime: 1500,\r\n      responseBoundaryArray: [],\r\n      editingBoundaryArray: false\r\n    }\r\n    this.createResponseTextBox = this.createResponseTextBox.bind(this);\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"response-wrapper\">              \r\n              \r\n      </div>\r\n    )\r\n  }\r\n  componentDidMount(){\r\n    /* this.responseTest(); */\r\n  }\r\n  componentDidUpdate() {\r\n    if (this.props.responsesToDisplay) {\r\n      // if less than 10 present - otherwise we just wait to spawn on 10th deletion (!! -1)\r\n      if (document.getElementsByClassName('TextResponseBox').length < 9){\r\n        setTimeout(() => {\r\n          let nextResponse = this.props.getNextResponse();\r\n          if (nextResponse) {\r\n            if(nextResponse.startsWith('room2-image-responses')){\r\n              this.createResponseImageBox(nextResponse);\r\n            } else {\r\n              this.createResponseTextBox(nextResponse);\r\n            } \r\n          }\r\n                   \r\n        }, this.state.waitForNewResponseBox);\r\n      }      \r\n    }\r\n  }\r\n  responseTest(){\r\n    setTimeout(() => {\r\n      this.createResponseTextBox(\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Leo urna molestie at elementum eu facilisis. Id eu nisl nunc mi ipsum faucibus. Vel risus commodo viverra maecenas accumsan lacus vel facilisis. Malesuada bibendum arcu vitae elementum.\")\r\n      this.responseTest();\r\n    }, 5000);\r\n  }\r\n  createResponseTextBox(textResponse){\r\n    let responseWrapper = document.getElementById('response-wrapper');\r\n    let newResponseBox = document.createElement('span');\r\n    newResponseBox.innerHTML = textResponse;\r\n    let xRoll = this.randomInt(0, 75);\r\n    let yRoll = this.randomInt(0, 75);\r\n    let wRoll = this.randomInt(25, 75-xRoll);\r\n    /* let hRoll = this.randomInt(25, 75-yRoll); */\r\n    // this should have min width/height of 25%\r\n    newResponseBox.style.maxWidth = wRoll + '%';\r\n    /* newResponseBox.style.maxHeight = hRoll + '%'; */\r\n    /* newResponseBox.style.visibility = 'hidden'; */\r\n    newResponseBox.classList.add('TextResponseBox');\r\n    responseWrapper.appendChild(newResponseBox);\r\n    // check for collision and return object with boundaries\r\n    /* let updatedBoundaries = this.detectCollision(xRoll, xRoll + (newResponseBox.offsetWidth/responseWrapper.offsetWidth)*100, yRoll, yRoll + (newResponseBox.offsetHeight/responseWrapper.offsetHeight)*100); */\r\n    // update position and width/height\r\n    newResponseBox.style.left = xRoll + \"%\";\r\n    newResponseBox.style.top = yRoll + \"%\";\r\n    /* newResponseBox.style.maxWidth = (updatedBoundaries.right - updatedBoundaries.left) + '%';\r\n    newResponseBox.style.maxHeight = (updatedBoundaries.bottom - updatedBoundaries.top) + '%';\r\n    newResponseBox.style.visibility = ''; */\r\n    // add fade in/out\r\n    setTimeout(() => {\r\n      newResponseBox.classList.add('FadeIn');\r\n      setTimeout(() => {\r\n      newResponseBox.classList.add('FadeOut');\r\n      /* this.removeBoundary(); */\r\n      }, this.state.textHangTime)\r\n      setTimeout(() => {\r\n        responseWrapper.removeChild(newResponseBox);\r\n        if (this.props.responsesToDisplay) { this.createResponseTextBox(this.props.getNextResponse()); }\r\n      }, this.state.textFadeTime + this.state.textHangTime + 100)\r\n    }, 100);\r\n      \r\n      // we actually want to do this as a percentage which means converting the width and height?\r\n      // but we can leave the top and left\r\n      \r\n  }\r\n  createResponseImageBox(imageResponse){\r\n      let newResponseBox = document.createElement('img');\r\n      newResponseBox.addEventListener(\"load\", () => {\r\n        let xRoll = Math.random();\r\n        let yRoll = Math.random();\r\n        let ratio = newResponseBox.naturalWidth/newResponseBox.naturalHeight;\r\n        let boxWidth = this.clamp(newResponseBox.naturalWidth*xRoll, this.props.width*0.25, this.props.width*0.75);\r\n        let boxHeight = boxWidth/ratio;\r\n        let widthPerc = boxWidth/(this.props.width*0.75)*100;\r\n        let heightPerc = boxHeight/(this.props.height*0.68)*100;\r\n        newResponseBox.style.left = (100-widthPerc)/2*yRoll + '%';\r\n        newResponseBox.style.width = widthPerc + '%';\r\n        newResponseBox.style.top = (100-heightPerc)/2*yRoll + '%';\r\n        newResponseBox.style.height = heightPerc + '%';\r\n        newResponseBox.classList.add('ImageResponseBox');\r\n        // add fade in/out\r\n        setTimeout(() => {\r\n          newResponseBox.classList.add('FadeIn');\r\n          setTimeout(() => {\r\n          newResponseBox.classList.add('FadeOut');\r\n          /* this.removeBoundary(); */\r\n          }, this.state.textHangTime)\r\n          setTimeout(() => {\r\n            document.getElementById('response-wrapper').removeChild(newResponseBox);\r\n            if (this.props.responsesToDisplay) { this.createResponseTextBox(this.props.getNextResponse()); }\r\n          }, this.state.textFadeTime + this.state.textHangTime + 100)\r\n        }, 100);\r\n        document.getElementById('response-wrapper').appendChild(newResponseBox);\r\n      });\r\n      newResponseBox.src = 'https://humstore.thelongesthum.world/'+imageResponse;\r\n      \r\n  }\r\n  // this is based on percentages\r\n  detectCollision(leftEdge, rightEdge, topEdge, bottomEdge){\r\n    let newResponseBoundary = {\r\n      left: leftEdge,\r\n      right: rightEdge,\r\n      top: topEdge,\r\n      bottom: bottomEdge\r\n    }\r\n    let width = rightEdge - leftEdge;\r\n    let height = bottomEdge - topEdge;    \r\n    let oldBoundaryArray = this.state.responseBoundaryArray;\r\n    //needs to go again if changed\r\n    oldBoundaryArray.forEach(responseBox => {\r\n      let isColliding = true;\r\n      while(isColliding){\r\n        // if right side overlaps\r\n        if(rightEdge > responseBox.left){\r\n          //what is overlap amount\r\n          let rightOverlap = rightEdge - responseBox.left;\r\n          // can i make this side shorter?\r\n          if(width - rightOverlap >= 25 ){\r\n            //yes then let's do it\r\n            newResponseBoundary.right -= rightOverlap;\r\n          } else {\r\n            // can't make it smaller\r\n          }\r\n        } else {\r\n          // if left side overlaps\r\n          if(leftEdge < responseBox.right){\r\n            //what is overlap amount\r\n            let leftOverlap = responseBox.right - leftEdge;\r\n            // can i make this side shorter?\r\n            if(width - leftOverlap >= 25 ){\r\n              //yes then let's do it\r\n              newResponseBoundary.left -= leftOverlap;\r\n            } else {\r\n              // can't make it smaller\r\n            }\r\n          } else {\r\n            // if bottom side overlaps\r\n            if(bottomEdge > responseBox.top){\r\n              //what is overlap amount\r\n              let bottomOverlap = bottomEdge - responseBox.top;\r\n              // can i make this side shorter?\r\n              if(height - bottomOverlap >= 25 ){\r\n                //yes then let's do it\r\n                newResponseBoundary.bottom -= bottomOverlap;\r\n              } else {\r\n                // can't make it smaller\r\n              }\r\n            } else {\r\n              // if topside overlaps\r\n              if(topEdge < responseBox.bottom){\r\n                //what is overlap amount\r\n                let topOverlap = responseBox.bottom - topEdge;\r\n                // can i make this side shorter?\r\n                if(width - topOverlap >= 25 ){\r\n                  //yes then let's do it\r\n                  newResponseBoundary.top -= topOverlap;\r\n                } else {\r\n                  // can't make it smaller\r\n                }\r\n              } else {\r\n                // NO HIT!!\r\n                isColliding = false\r\n              }\r\n            }\r\n          }\r\n      }\r\n\r\n      }\r\n      \r\n      \r\n      // return true if new response overlaps old ones\r\n      /* if(responseBox.right > leftEdge && responseBox.left < rightEdge && responseBox.bottom > topEdge && responseBox.top < bottomEdge){\r\n        console.log(\"hit\");\r\n      } */\r\n    });\r\n    return newResponseBoundary\r\n    /* this.addBoundary(newResponseBoundary);\r\n    this.setState({responseBoundaryArray: oldBoundaryArray}) */\r\n  }\r\n  addBoundary(newResponseBoundary){\r\n    if(!this.state.editingBoundaryArray){\r\n      this.setState({ editingBoundaryArray: true }, () => {\r\n        let newBoundaryArray = this.state.responseBoundaryArray;\r\n        newBoundaryArray.push(newResponseBoundary)\r\n        this.setState({ responseBoundaryArray: newBoundaryArray }, () =>{\r\n          this.setState({ editingBoundaryArray: false })\r\n        })\r\n      })\r\n    } else { setTimeout(this.addBoundary(newResponseBoundary), 77); }\r\n  }\r\n  removeBoundary(){\r\n    if(this.state.responseBoundaryArray.length > 0){\r\n      if(!this.state.editingBoundaryArray){\r\n        this.setState({ editingBoundaryArray: true }, () => {\r\n          let newBoundaryArray = this.state.responseBoundaryArray.slice(1);\r\n          this.setState({ responseBoundaryArray: newBoundaryArray }, () =>{\r\n            this.setState({ editingBoundaryArray: false });\r\n          })\r\n        })\r\n      } else { setTimeout(this.removeBoundary(), 69); }\r\n    }    \r\n  }\r\n  randomInt = (min, max) => Math.floor(Math.random() * (max - min) + min);\r\n  clamp = (num, min, max) => Math.min(Math.max(num, min), max);\r\n}\r\n\r\nexport default ResponseDisplay\r\n","import React, { Component } from 'react'\r\n\r\nexport class AudioStreamPlayer extends Component {\r\n  render() {\r\n    return (\r\n      <div id=\"audio-stream-wrapper\">\r\n        <audio \r\n          id=\"audio-stream\"\r\n          src=\"https://room2interface.xyz/stream\"\r\n          type=\"audio/mpg\"\r\n          crossOrigin=\"anonymous\" />        \r\n      </div>\r\n    )\r\n  }\r\n  componentDidMount() {    \r\n    this.audioInit();\r\n   }\r\n  audioInit(){\r\n    this.audioStream = document.getElementById('audio-stream');\r\n    this.props.setStreamPlayer(this.audioStream);\r\n    //set up gain\r\n    var AudioContext = window.AudioContext // Default\r\n      || window.webkitAudioContext // Safari and old versions of Chrome\r\n      || false;\r\n    if (AudioContext) {\r\n        var audioContext = new AudioContext();\r\n        const gainNode = audioContext.createGain();\r\n        this.props.setGainControl(gainNode);\r\n        const source = audioContext.createMediaElementSource(this.audioStream);\r\n        source.connect(gainNode);\r\n        gainNode.connect(audioContext.destination);\r\n        this.audioStream.load();\r\n        this.audioStream.play();\r\n    } else {\r\n        // Web Audio API is not supported\r\n        alert(\"Sorry, but the Web Audio API is not supported by your browser. Please, consider upgrading to the latest version or downloading Google Chrome or Mozilla Firefox\");\r\n    } \r\n    \r\n  }\r\n}\r\n\r\nexport default AudioStreamPlayer\r\n","import React, { Component } from 'react';\r\nimport AudioControls from './audioControls';\r\nimport DrawingCanvas from './drawingCanvas';\r\nimport EmojiTri from './emojiTri';\r\nimport IntroModal from './introModal';\r\nimport Marquee from './marquee';\r\nimport DrawingTools from './drawingTools';\r\n/* import SettingsMenu from './settingsMenu'; */\r\nimport GLVis from './glVis';\r\nimport ResponseDisplay from './responseDisplay';\r\nimport AudioStreamPlayer from './audioStreamPlayer';\r\nimport { InfoOverlay } from './infoOverlay';\r\n\r\nexport class DesktopApp extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      \r\n      isMuted: false,\r\n\r\n      //video stream player\r\n      streamPlayer: null,\r\n\r\n      // emoji triangle values\r\n      emojiX: 0.5,\r\n      emojiY: 0.5,\r\n\r\n      timer: 0.,\r\n\r\n      infoOverlay: true\r\n\r\n    }\r\n    this.setStreamPlayer = this.setStreamPlayer.bind(this);\r\n    this.setGainControl = this.setGainControl.bind(this);\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"desktop-wrapper\">\r\n        {this.props.modalIsOpen\r\n          ? <IntroModal \r\n              mobile={this.props.mobile}\r\n              toggleModal={this.props.toggleModal} />\r\n          : <>\r\n            {/* Top Banner */}\r\n            <Marquee\r\n              currentArtist={this.props.currentArtist} />  \r\n            {/* Background Visuals */}          \r\n            <div id=\"bg-vis-wrapper\">              \r\n              {/* <BGVis /> */}\r\n              <GLVis\r\n                timer={this.state.timer}\r\n                height={this.props.height}\r\n                width={this.props.width} />\r\n              {/* <VideoStreamPlayer\r\n                setStreamPlayer={this.setStreamPlayer} />  */}               \r\n            </div>\r\n            {/* Response Overlay */}\r\n            <ResponseDisplay \r\n              getNextResponse={this.props.getNextResponse}\r\n              responsesToDisplay={this.props.responsesToDisplay}\r\n              height={this.props.height}\r\n              width={this.props.width} /> \r\n            {/* Menu Overlay */}\r\n            {/* <SettingsMenu /> */}\r\n            {/* Info Overlay */}\r\n            {/* {this.state.infoOverlay &&\r\n              <InfoOverlay overlayToggle={this.toggleInfoOverlay.bind(this)} /> } */}\r\n            {/* Prompt and Input Selection Overlay */}\r\n            <div id=\"current-prompt-wrapper\">\r\n              <div id=\"prompt-end-timer-wrapper\">\r\n                <div id=\"prompt-end-timer\" />\r\n                <div id=\"prompt-end-timer-overlay\" />\r\n              </div>           \r\n              <div id=\"current-prompt\">\r\n                {this.props.currentPrompt}\r\n              </div>           \r\n              <div id=\"input-select-wrapper\">\r\n                <span>I would like to&nbsp;\r\n                <button id=\"draw-input-select\" className=\"InputSelectButton\" onClick={this.props.setDrawInput}>draw</button>&nbsp;/&nbsp;\r\n                <button id=\"text-input-select\" className=\"InputSelectButton ActiveInputButton\" onClick={this.props.setWriteInput}>write</button>\r\n                &nbsp;a response</span>\r\n              </div>           \r\n            </div>           \r\n            {/* Emoji Triangle */}\r\n            <EmojiTri \r\n              height={this.props.height}\r\n              artistPresets={this.props.artistPresets}\r\n              emoji1={this.props.emoji1}\r\n              emoji2={this.props.emoji2}\r\n              emoji3={this.props.emoji3}\r\n            />            \r\n            {/* Input Selection */}\r\n            \r\n            {/* Input Section */}\r\n            <div id=\"input-wrapper\">              \r\n              <>\r\n                <textarea id=\"text-input\" name=\"text based prompt response\" placeholder=\"Please type your response here...\" />\r\n              </>\r\n              <>{/* Drawing Input */}\r\n                <DrawingCanvas \r\n                  brushColour={this.props.colours.colour1}\r\n                  brushSize={this.props.brushSize}\r\n                  setCanvas={this.props.setCanvas}\r\n                  setIsDrawing={this.props.setIsDrawing}\r\n                  />\r\n              </>\r\n                \r\n            </div>\r\n            {/* Right UI Panel */}\r\n            <div id=\"right-ui-wrapper\">\r\n              <DrawingTools\r\n                undoDrawing={this.props.undoDrawing}\r\n                redoDrawing={this.props.redoDrawing}\r\n                toggleEraser={this.props.toggleEraser}\r\n                colours={this.props.colours}\r\n                changeColourOrder={this.props.changeColourOrder}\r\n                changeBrushSize={this.props.changeBrushSize} />              \r\n              <button id=\"response-submit-button\" onClick={this.props.submitResponse}>\r\n                <span>SUBMIT RESPONSE</span>                \r\n              </button>\r\n              {/* Audio Settings */}\r\n              <AudioControls\r\n                muteAudio={this.muteAudio.bind(this)}\r\n                isMuted={this.state.isMuted}\r\n                changeVolume={this.changeVolume.bind(this)}\r\n                />\r\n              <AudioStreamPlayer\r\n                setStreamPlayer={this.setStreamPlayer}\r\n                setGainControl={this.setGainControl} />             \r\n            </div> \r\n            {/* dead simple text chat */}\r\n            <iframe title=\"text chat\" id=\"chat\" src='https://deadsimplechat.com/34MeFCATo'></iframe>\r\n          </>}\r\n      </div>\r\n    )\r\n  }\r\n  componentDidMount() {  \r\n    // update css style sheet\r\n    this.startTimer();\r\n  }\r\n  startTimer() {\r\n    this.myInterval = setInterval(() => {\r\n      this.setState(prevState =>({\r\n        timer: prevState.timer + 0.01\r\n      }))\r\n    }, 50)     \r\n  }\r\n  setStreamPlayer(streamPlayer){\r\n    this.setState({ streamPlayer: streamPlayer })\r\n  }\r\n  setGainControl(gainControl){\r\n    this.setState({ gainControl: gainControl })\r\n  }\r\n  muteAudio(){\r\n    let streamPlayer = this.state.streamPlayer;\r\n    if(this.state.isMuted){\r\n      this.setState({ isMuted: false });\r\n      streamPlayer.muted = false;\r\n    } else {\r\n      this.setState({ isMuted: true });\r\n      streamPlayer.muted = true;\r\n    }    \r\n  }\r\n  changeVolume(newVolume){\r\n    /* this.state.streamPlayer.volume(newVolume); */\r\n    this.state.gainControl.gain.setValueAtTime(newVolume, this.state.streamPlayer.currentTime);\r\n  }\r\n  toggleInfoOverlay(){\r\n    this.setState(prevState => ({infoOverlay: !prevState.infoOverlay}))\r\n  }\r\n  \r\n}\r\n\r\nexport default DesktopApp\r\n","import React, { Component } from 'react';\r\nimport IntroModal from './introModal';\r\n\r\nexport class MobileApp extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.modalIsOpen\r\n          ? <IntroModal mobile={this.props.mobile} toggleModal={this.props.toggleModal} />\r\n          : <>\r\n          </>}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MobileApp\r\n","//What food would pair well with this track\r\nexport const artistPresets = [\r\n  { \"artistname\": \"Izabel ~ WORDS BY: Emile Frankel ~ VISUALS BY: Mohamed Chamas\",\r\n    \"emoji01\": require(\"./emojis/desert.png\").default,\r\n    \"emoji01width\": \"1.6vw\",\r\n    \"emoji01alt\": \"desert emoji\",\r\n    \"emoji02\": require(\"./emojis/blossoming-flower.png\").default,\r\n    \"emoji02width\": \"1.6vw\",    \r\n    \"emoji02alt\": \"blooming flower emoji\",\r\n    \"emoji03\": require(\"./emojis/mushroom.png\").default,\r\n    \"emoji03width\": \"1.6vw\",\r\n    \"emoji03alt\": \"mushroom emoji\" \r\n  },\r\n  { \"artistname\": \"Hani Hanbali ~ WORDS BY: Emile Frankel ~ VISUALS BY: Mohamed Chamas\",\r\n    \"emoji01\": require(\"./emojis/alien.png\").default,\r\n    \"emoji01width\": \"1.6vw\",\r\n    \"emoji01alt\": \"alien face emoji\",\r\n    \"emoji02\": require(\"./emojis/woozy.png\").default,\r\n    \"emoji02width\": \"1.6vw\",\r\n    \"emoji02alt\": \"woozy emoji\",\r\n    \"emoji03\": require(\"./emojis/teddy-bear.png\").default,\r\n    \"emoji03width\": \"1.6vw\",    \r\n    \"emoji03alt\": \"teddy bear emoji\"   \r\n  },\r\n  { \"artistname\": \"Hannah Wu ~ WORDS BY: Panda Wong ~ VISUALS BY: Mohamed Chamas\",\r\n    \"emoji01\": require(\"./emojis/butterfly.png\").default,\r\n    \"emoji01width\": \"1.6vw\",\r\n    \"emoji01alt\": \"butterfly emoji\",\r\n    \"emoji02\": require(\"./emojis/leaf-in-wind.png\").default,\r\n    \"emoji02width\": \"1.6vw\",\r\n    \"emoji02alt\": \"leaf in wind emoji\",\r\n    \"emoji03\": require(\"./emojis/spiral-shell.png\").default,\r\n    \"emoji03width\": \"1.6vw\",    \r\n    \"emoji03alt\": \"spiral shell emoji\" \r\n  },\r\n]","import './App.css';\r\nimport React, { Component } from 'react';\r\nimport DesktopApp from './components/desktopApp';\r\nimport MobileApp from './components/mobileApp';\r\nimport {artistPresets} from './content/preloadArrays.js';\r\nimport { fabric } from 'fabric';\r\n\r\nexport class App extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      // is on mobile\r\n      mobile: window.matchMedia('all and (any-hover: none)').matches,\r\n\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n\r\n      // turn on/off different layers\r\n      modalIsOpen: true,\r\n\r\n      // schedule data\r\n      currentArtist: null,\r\n      currentPrompt: null,\r\n      promptType: 'draw',\r\n      promptCountdown: false,\r\n      emoji1: require(\"./content/emojis/alien.png\"),\r\n      emoji2: require(\"./content/emojis/alien.png\"),\r\n      emoji3: require(\"./content/emojis/alien.png\"),\r\n      // how often it updates\r\n      // let's start at 5 sec\r\n      scheduleLoopTime: 5000,\r\n\r\n      // Response Data\r\n      responsesToDisplay: false,\r\n      unseenResponses: [],\r\n      lastResponseID: 0,\r\n      drawingResponse: true,\r\n\r\n      // undo/redo settings\r\n      maxUndo: 10,\r\n      drawingCanvas: null,\r\n      redoStack: [],\r\n      stateStack: [],\r\n      currentCanvasState: null,\r\n\r\n      // ui & painter palette\r\n      colours: {\r\n        colour1: \"#222323\",\r\n        colour2: \"#5252ff\",\r\n        colour3: \"#b5e877\"},      \r\n      \r\n      // drawing settings\r\n      brushSize: 8,\r\n\r\n      isDrawing: false,\r\n      isEraser: false,\r\n      savedBrush: null,\r\n    }\r\n    // bind func's to this\r\n    this.setCanvas = this.setCanvas.bind(this);\r\n    this.saveCanvasState = this.saveCanvasState.bind(this);\r\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\r\n    this.toggleModal = this.toggleModal.bind(this);\r\n    this.updateEmojis = this.updateEmojis.bind(this);\r\n    this.updateSchedule = this.updateSchedule.bind(this);\r\n    this.getNextResponse = this.getNextResponse.bind(this);\r\n    this.submitResponse = this.submitResponse.bind(this);\r\n    this.setIsDrawing = this.setIsDrawing.bind(this);\r\n    this.toggleEraser = this.toggleEraser.bind(this);\r\n    this.undoDrawing = this.undoDrawing.bind(this);\r\n    this.redoDrawing = this.redoDrawing.bind(this);\r\n    this.setDrawInput = this.setDrawInput.bind(this);\r\n    this.setWriteInput = this.setWriteInput.bind(this);\r\n    this.startPromptCountdown = this.startPromptCountdown.bind(this);\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"global-wrapper\">\r\n        {this.state.mobile\r\n        ? <MobileApp\r\n            modalIsOpen={this.state.modalIsOpen}\r\n            toggleModal={this.toggleModal}\r\n            mobile={this.state.mobile}\r\n            currentPrompt={this.state.currentPrompt}\r\n            drawingInput={this.state.drawingInput}\r\n          />\r\n        : <DesktopApp \r\n            modalIsOpen={this.state.modalIsOpen}\r\n            toggleModal={this.toggleModal}\r\n            mobile={this.state.mobile}\r\n            currentPrompt={this.state.currentPrompt}\r\n            promptType={this.state.promptType}\r\n            currentArtist={this.state.currentArtist}\r\n            height={this.state.height}\r\n            width={this.state.width}\r\n            artistPresets={artistPresets}\r\n            emoji1={this.state.emoji1}\r\n            emoji2={this.state.emoji2}\r\n            emoji3={this.state.emoji3}\r\n            submitResponse={this.submitResponse}\r\n            getNextResponse={this.getNextResponse}\r\n            responsesToDisplay={this.state.responsesToDisplay}\r\n            setCanvas={this.setCanvas}\r\n            changeBrushSize={this.changeBrushSize.bind(this)}\r\n            colours={this.state.colours}\r\n            brushSize={this.state.brushSize}\r\n            setIsDrawing={this.setIsDrawing}\r\n            changeColourOrder={this.changeColourOrder.bind(this)}\r\n            undoDrawing={this.undoDrawing.bind(this)}\r\n            redoDrawing={this.redoDrawing.bind(this)}\r\n            toggleEraser={this.toggleEraser.bind(this)}\r\n            setDrawInput={this.setDrawInput}\r\n            setWriteInput={this.setWriteInput}\r\n            drawingResponse={this.state.drawingResponse}\r\n          />\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n  componentDidMount() {  \r\n    this.updateWindowDimensions();\r\n    window.addEventListener('resize', this.updateWindowDimensions);\r\n    // run start up processes based on mob/desk\r\n    if (this.state.mobile){\r\n      //MOBILE\r\n    } else {\r\n      //DESKTOP\r\n      this.initSchedule();\r\n    }\r\n  }\r\n  updateWindowDimensions() {\r\n    this.setState({ width: window.innerWidth, height: window.innerHeight });\r\n  }\r\n  toggleModal() {\r\n    if(this.state.modalIsOpen){\r\n      this.setState({ modalIsOpen: false });\r\n      this.updateSchedule();\r\n      document.addEventListener('mouseup', this.saveCanvasState);\r\n    } else {\r\n      this.setState({ modalIsOpen: true });\r\n      document.removeEventListener('mouseup', this.saveCanvasState);\r\n    }\r\n  }\r\n  /* Desktop DB Connections */\r\n  // init db and then triger update loop\r\n  initSchedule(){\r\n    fetch(`https://room2.fm/api/getScheduleInit`, {\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      method: 'GET',\r\n      mode: 'cors'\r\n    })\r\n      .then(res => res.json())\r\n      .then(res => this.setStateFromDB(res.data));\r\n  }\r\n  updateSchedule(){\r\n    fetch(`https://room2.fm/api/getScheduleUpdate`, {\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      method: 'POST',\r\n      mode: 'cors',\r\n      body: JSON.stringify({ lastResponseID: this.state.lastResponseID})\r\n    })\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        this.setStateFromDB(res.data);\r\n      });\r\n    setTimeout(this.updateSchedule, this.state.scheduleLoopTime);\r\n  }\r\n  setStateFromDB(data) {\r\n    /* console.log(data); */\r\n    let scheduleData = data[0][0];\r\n    let responseData = data[1];\r\n    // if new artist\r\n    if(scheduleData.currentArtist !== this.state.currentArtist){\r\n      // if artist changed get new emojis\r\n      this.updateEmojis(scheduleData.emoji1, scheduleData.emoji2, scheduleData.emoji3);\r\n      this.setState({\r\n        currentArtist: scheduleData.currentArtist\r\n      })\r\n    }\r\n    // if new prompt\r\n    if(scheduleData.currentPrompt !== this.state.currentPrompt){\r\n      if(document.getElementById(\"prompt-end-timer-wrapper\")){\r\n        this.startPromptCountdown(scheduleData.currentPrompt);\r\n      } else {\r\n        this.setState({  \r\n          currentPrompt: scheduleData.currentPrompt,\r\n          promptType: scheduleData.promptType\r\n        })\r\n      }     \r\n    }\r\n    // if new responses    \r\n    if (responseData.length){\r\n      console.log(responseData);\r\n      let newResponses = [];\r\n      responseData.forEach(response => newResponses.push(response.RESPONSE));\r\n      console.log(newResponses);\r\n      this.setState(prevState => ({\r\n        unseenResponses: prevState.unseenResponses.concat(newResponses),\r\n        responsesToDisplay: true,\r\n        lastResponseID: responseData[responseData.length-1].id\r\n      }))\r\n    } \r\n  }\r\n  updateEmojis(emoji1, emoji2, emoji3){\r\n    fetch(`https://room2.fm/api/getEmojisUpdate`, {\r\n      headers: { 'Content-type': 'application/json' },\r\n      method: 'POST',\r\n      mode: 'cors',\r\n      body: JSON.stringify({emoji1: emoji1, emoji2: emoji2, emoji3: emoji3})\r\n    })\r\n      .then(res => res.json())\r\n      .then(res => { this.setState({\r\n        emoji1: { alt: res.data[0].altText, src: res.data[0].emojiString },\r\n        emoji2: { alt: res.data[1].altText, src: res.data[1].emojiString },\r\n        emoji3: { alt: res.data[2].altText, src: res.data[2].emojiString }\r\n      }) });\r\n  }\r\n  /* submitTextResponse(){\r\n    let textInput = document.getElementById('text-input');\r\n    let responseText = textInput.value;\r\n    textInput.value = '';\r\n    fetch(`http://localhost:33061/api/insertTextResponse`, {\r\n      headers: { 'Content-type': 'application/json' },\r\n      method: 'POST',\r\n      mode: 'cors',\r\n      body: JSON.stringify({reflectText: responseText})\r\n    })\r\n    .then(response => console.log(response.json()));\r\n  }\r\n  submitImageResponse(){\r\n    let imageInput = document.getElementById('drawing-canvas');\r\n    var dataURL = imageInput.toDataURL({\r\n      format: 'png',\r\n      left: 0,\r\n      top: 0,\r\n      width: imageInput.width,\r\n      height: imageInput.height\r\n    });\r\n    const formData = new FormData();\r\n    let imageFile = this.dataURLtoFile(dataURL, 'response.png');\r\n    this.state.drawingCanvas.clear();\r\n    formData.append('upload', imageFile, 'response.png');\r\n    fetch('http://localhost:33061/api/insertImageResponse', {\r\n      method: 'PUT',\r\n      body: formData\r\n    })\r\n    .then(response => response.json())\r\n    .then(result => { console.log('Success:', result); })\r\n    .catch(error => { console.error('Error:', error); });\r\n  } */\r\n\r\n  submitResponse(){\r\n    if(this.state.drawingResponse){\r\n      let imageInput = document.getElementById('drawing-canvas');\r\n      var dataURL = imageInput.toDataURL({\r\n        format: 'png',\r\n        left: 0,\r\n        top: 0,\r\n        width: imageInput.width,\r\n        height: imageInput.height\r\n      });\r\n      const formData = new FormData();\r\n      let imageFile = this.dataURLtoFile(dataURL, 'response.png');\r\n      this.state.drawingCanvas.clear();\r\n      formData.append('upload', imageFile, 'response.png');\r\n      fetch('https://room2.fm/api/insertImageResponse', {\r\n        method: 'PUT',\r\n        body: formData\r\n      })\r\n      .then(response => response.json())\r\n      .then(result => { console.log('Success:', result); })\r\n      .catch(error => { console.error('Error:', error); });\r\n    } else {\r\n      let textInput = document.getElementById('text-input');\r\n      let responseText = textInput.value;\r\n      textInput.value = '';\r\n      fetch(`https://room2.fm/api/insertTextResponse`, {\r\n        headers: { 'Content-type': 'application/json' },\r\n        method: 'POST',\r\n        mode: 'cors',\r\n        body: JSON.stringify({reflectText: responseText})\r\n      })\r\n      .then(response => console.log(response.json()));\r\n    }    \r\n  }\r\n  getNextResponse(){\r\n    let oldestResponse = null;\r\n    if(this.state.unseenResponses.length === 0){\r\n      this.setState({ responsesToDisplay: false });\r\n    } else {\r\n      let updatedResponseArray = this.state.unseenResponses;\r\n      oldestResponse = updatedResponseArray.shift();\r\n      this.setState({unseenResponses: updatedResponseArray});      \r\n    }\r\n    return oldestResponse;   \r\n  }\r\n  setDrawInput(){\r\n    this.setState({drawingResponse: true});\r\n    document.getElementById(\"drawing-canvas-wrapper\").style.zIndex = \"4\";\r\n    document.getElementById(\"text-input\").style.zIndex = \"3\";\r\n    document.getElementsByClassName(\"ActiveInputButton\")[0].classList.remove(\"ActiveInputButton\");\r\n    document.getElementById(\"draw-input-select\").classList.add(\"ActiveInputButton\");\r\n  }\r\n  setWriteInput(){\r\n    this.setState({drawingResponse: false});\r\n    document.getElementById(\"drawing-canvas-wrapper\").style.zIndex = \"3\";\r\n    document.getElementById(\"text-input\").style.zIndex = \"4\";\r\n    document.getElementsByClassName(\"ActiveInputButton\")[0].classList.remove(\"ActiveInputButton\");\r\n    document.getElementById(\"text-input-select\").classList.add(\"ActiveInputButton\");\r\n  }\r\n  changeColourOrder(){\r\n    let newColourOrder = {\r\n      colour1: this.state.colours.colour3,\r\n      colour2: this.state.colours.colour1,\r\n      colour3: this.state.colours.colour2,\r\n    };\r\n    this.setState({ colours: newColourOrder });\r\n  }\r\n  changeBrushSize(newSize){\r\n    this.setState({ brushSize: newSize });\r\n  }\r\n  changeBrushSize = (e) =>{\r\n    if(e.target.id === \"increase-brush-circle\"){\r\n      if(this.state.brushSize < 20){        \r\n        this.setState(prevState => ({ brushSize: prevState.brushSize + 2}))\r\n      }      \r\n    }  else if(this.state.brushSize > 2) {\r\n        this.setState(prevState => ({ brushSize: prevState.brushSize - 2}))\r\n    } \r\n  }\r\n  toggleEraser(){\r\n    let canvas = this.state.drawingCanvas;\r\n    if(!this.state.isEraser){\r\n      this.setState({ isEraser: true, savedBrush: canvas.freeDrawingBrush }, () => {\r\n        canvas.freeDrawingBrush = new fabric.EraserBrush(canvas);\r\n        canvas.freeDrawingBrush.width = this.state.savedBrush.width;\r\n      });\r\n    } else {\r\n      canvas.freeDrawingBrush = this.state.savedBrush;\r\n      this.setState({ isEraser: false });\r\n    }\r\n  }\r\n  /* undo/redo functions */\r\n  setCanvas(canvas){\r\n    // set canvas reference and save initial state for undo/redo\r\n    this.setState({ drawingCanvas: canvas, currentCanvasState: canvas.toDatalessJSON() });\r\n  }\r\n  setIsDrawing(){\r\n    this.setState({ isDrawing: true });\r\n  }\r\n  saveCanvasState(){\r\n    if(this.state.isDrawing){\r\n      let newStateStack = this.state.stateStack;\r\n      let currentCanvasState = this.state.currentCanvasState;\r\n      if(newStateStack.length === this.state.maxUndo){\r\n        // drop the oldest state if at max undo count\r\n        newStateStack.shift();\r\n      }\r\n      // add current canvas state to stack\r\n      newStateStack.push( currentCanvasState );\r\n      //update current state\r\n      this.setState({ currentCanvasState: this.state.drawingCanvas.toDatalessJSON(), \r\n                      stateStack: newStateStack, \r\n                      redoStack: [],\r\n                      isDrawing: false });\r\n    }    \r\n  }\r\n  undoDrawing(){\r\n    // if states left to undo\r\n    if(this.state.stateStack.length > 0){\r\n      let newCanvasState = this.state.currentCanvasState;\r\n      let currentCanvasState = this.state.drawingCanvas.toDatalessJSON();\r\n      // push current state to redo stack\r\n      let newRedoStack = this.state.redoStack;\r\n      newRedoStack.push(currentCanvasState);\r\n      // pop previous state from state stack\r\n      let newStateStack = this.state.stateStack;\r\n      let newState = newStateStack.pop();\r\n      // update to previous states and both stacks\r\n      this.setState({ currentCanvasState: newState, redoStack: newRedoStack, stateStack: newStateStack});\r\n      // update actual canvas\r\n      this.state.drawingCanvas.loadFromJSON(newCanvasState);      \r\n    }    \r\n  }\r\n  redoDrawing(){\r\n    // if states left to redo\r\n    if(this.state.redoStack.length > 0){\r\n      // pop new state from redo stack\r\n      let newRedoStack = this.state.redoStack;\r\n      let newCanvasState = newRedoStack.pop();\r\n      let currentCanvasState = this.state.drawingCanvas.toDatalessJSON();\r\n      // push current state to undo stack\r\n      let newStateStack = this.state.stateStack;\r\n      newStateStack.push(currentCanvasState);\r\n      // update to previous states and both stacks\r\n      this.setState({ currentCanvasState: currentCanvasState, redoStack: newRedoStack, stateStack: newStateStack});\r\n      // update actual canvas\r\n      this.state.drawingCanvas.loadFromJSON(newCanvasState);      \r\n    }  \r\n  }\r\n  startPromptCountdown(newPrompt){\r\n    if(!this.state.promptCountdown){\r\n      this.setState({promptCountdown: true}, () => {\r\n        let promptTimer = document.getElementById(\"prompt-end-timer-wrapper\").children[0];\r\n        let promptTimerOverlay = document.getElementById(\"prompt-end-timer-wrapper\").children[1];\r\n        promptTimerOverlay.style.transition = \"60s linear\";\r\n        promptTimerOverlay.style.width = \"100%\";\r\n        let countdown = 60;\r\n        promptTimer.innerHTML = \"this prompt will change in \" + countdown + \" seconds...\";\r\n        let x = setInterval(() => {    \r\n          countdown -= 1;\r\n          promptTimer.innerHTML = \"this prompt will change in \" + countdown + \" seconds...\";\r\n          if (countdown < 1) {\r\n            clearInterval(x);\r\n            promptTimerOverlay.style.transition = \"0s linear\";\r\n            promptTimerOverlay.style.width = \"0%\";\r\n            promptTimer.innerHTML = \"\";\r\n            this.setState({currentPrompt: newPrompt, promptCountdown: false})        \r\n          }\r\n        }, 1000);\r\n      })\r\n    }    \r\n  }\r\n\r\n  dataURLtoFile(dataurl, filename){\r\n      var arr = dataurl.split(','),\r\n        mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[1]),\r\n        n = bstr.length,\r\n        u8arr = new Uint8Array(n);\r\n      while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n      }\r\n      return new File([u8arr], filename, {\r\n        type: mime\r\n      });\r\n  }\r\n/*   getCSSRule(ruleName) {\r\n    ruleName = ruleName.toLowerCase();\r\n    var result = null;\r\n    var find = Array.prototype.find;\r\n\r\n    find.call(document.styleSheets, styleSheet => {\r\n        result = find.call(styleSheet.cssRules, cssRule => {\r\n            return cssRule instanceof CSSStyleRule \r\n                && cssRule.selectorText.toLowerCase() === ruleName;\r\n        });\r\n        return result != null;\r\n    });\r\n    return result;\r\n  } */\r\n}\r\n\r\nexport default App\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","export default __webpack_public_path__ + \"static/media/alien.381f0676.png\";","export default __webpack_public_path__ + \"static/media/slowdiscpixel.685ade7f.gif\";"],"sourceRoot":""}