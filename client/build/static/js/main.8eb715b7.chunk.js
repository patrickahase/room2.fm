(this.webpackJsonproom2=this.webpackJsonproom2||[]).push([[0],{132:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(46),s=n.n(a),c=n(16),o=n(2),d=n(19),l=(n(64),n(47)),u=n(0),h=Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("span",{style:{fontSize:"2.5rem",justifyContent:"space-around"},children:["This website was created and is maintained on the unceded territory of the Wurundjeri People of the Eastern Kulin Nation, the Traditional Custodians of the land. We recognise their ongoing legacy of connection to land, waters and culture and pay respect to their Elders past and present. We extend this respect to all other First Nations peoples of this continent, whose stolen land the material pathways that allow our digital connectivity are built upon.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Where are you?",Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})}),p=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:"room2.fm seeks to create a digital space for collective reflection, sharing, and vulnerability. During the last lockdown season we were lucky to have a range of guest artists who helped facilitate this by contributing sounds, texts and visuals to the space, which was brought together by the active participation in the responses and in the chat by those attending the space on each given weekly event."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"There is no right or wrong way for you to listen, respond to, or feel a piece of music or sound. We encourage you to trust your ears and intuition and respond sincerely and in whatever way feels true to your experience."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]}),Object(u.jsxs)("span",{className:"ModalTextSmall",children:["This website has been optimised to run with the window maximised on Chrome and Firefox on a desktop or laptop screen. If you are having issues, please try one of these browsers.",Object(u.jsx)("br",{}),"If you would like a high-contrast version of the response text with no distortion please click 'Focus Mode' button.",Object(u.jsx)("br",{}),"We will be moderating responses that we feel are intentionally disruptive or may make others feel unsafe in the space."]})]}),m=Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:"For four weeks across the course of BLEED, room2 will offer a suite of digital spaces to encourage reflection and encounter works to listen, view, reflect on and respond to."}),Object(u.jsx)("span",{children:"You can share your response to the music, prompts and visuals in a number of ways."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"Periodically, text prompts will come up in the lower middle of the screen. Underneath the prompts you can select to respond via either writing or drawing depending on what you think is most appropriate. Once you are happy with your response you can click the \u2018submit response\u2019 button to share it with others. Above the \u2018submit response\u2019 button, you can select the colour palette you will be able to draw responses with, along with options to change the brush size, use an eraser and undo or redo additions to your drawing."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"Your responses to these prompts will be completely anonymised and not attributable to you in any way, however during this demonstration we will be capturing a screen recording of the experience."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"You can also use the chat box on the right of the screen to directly speak to others participating. Select a username and click \u2018Join Room\u2019 to engage. Be yourself, be someone else, be whomever you want to be!"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"Nine compositions will be presented across the four weeks of room2 async. The music selection will change approximately every three days, while the sun is setting in Narrm \u2014 with times set to 'Australian Eastern Standard Time' or GMT+10."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})}),j=Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("span",{className:"ModalTextSmall",children:"room2.fm was created by Patrick Hase and Anuraag Bhatia. We welcome your thoughts, feedback, or questions - please send them through to room2fm@gmail.com"})}),b=(u.Fragment,n(21)),g=n.n(b),f=[{introStatement:"if you're seeing this the server is having some trouble",prompt:"this is prompt 1",trackDetails:"j - cadence felt between our bodies (with Angelina Nonaj)",trackLink:"https://daisart.bandcamp.com/album/my-seat-and-weep",artistLink:"https://daisart.press/",trackSrc:"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/J.mp3",shaderName:"cycleOne",colours:["#222323","#5252ff","#b5e877"]},{introStatement:"if you're seeing this the server is having some trouble",prompt:"this is prompt 2",trackDetails:"j - cadence felt between our bodies (with Angelina Nonaj)",trackLink:"https://daisart.bandcamp.com/album/my-seat-and-weep",artistLink:"https://daisart.press/",trackSrc:"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/J.mp3",shaderName:"cycleOne",colours:["#222323","#5252ff","#b5e877"]},{introStatement:"if you're seeing this the server is having some trouble",prompt:"this is prompt 3",trackDetails:"j - cadence felt between our bodies (with Angelina Nonaj)",trackLink:"https://daisart.bandcamp.com/album/my-seat-and-weep",artistLink:"",trackSrc:"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/J.mp3",shaderName:"cycleOne",colours:["#222323","#5252ff","#b5e877"]},{introStatement:"if you're seeing this the server is having some trouble",prompt:"this is prompt 4",trackDetails:"Aarti Jadu - IT / THAT",trackLink:"https://aartijadu.bandcamp.com/track/it-that",artistLink:"https://aartijadu.bandcamp.com/",trackSrc:"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/AJ.mp3",shaderName:"cycleTwo",colours:["#222323","#5252ff","#b5e877"]},{introStatement:"if you're seeing this the server is having some trouble",prompt:"this is prompt 5",trackDetails:"j - cadence felt between our bodies (with Angelina Nonaj)",trackLink:"https://daisart.bandcamp.com/album/my-seat-and-weep",artistLink:"https://daisart.press/",trackSrc:"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/J.mp3",shaderName:"cycleOne",colours:["#222323","#5252ff","#b5e877"]},{introStatement:"if you're seeing this the server is having some trouble",prompt:"this is prompt 6",trackDetails:"j - cadence felt between our bodies (with Angelina Nonaj)",trackLink:"https://daisart.bandcamp.com/album/my-seat-and-weep",artistLink:"https://daisart.press/",trackSrc:"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/J.mp3",shaderName:"cycleOne",colours:["#222323","#5252ff","#b5e877"]},{introStatement:"if you're seeing this the server is having some trouble",prompt:"this is prompt 7",trackDetails:"j - cadence felt between our bodies (with Angelina Nonaj)",trackLink:"https://daisart.bandcamp.com/album/my-seat-and-weep",artistLink:"https://daisart.press/",trackSrc:"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/J.mp3",shaderName:"cycleOne",colours:["#222323","#5252ff","#b5e877"]},{introStatement:"if you're seeing this the server is having some trouble",prompt:"this is prompt 8",trackDetails:"j - cadence felt between our bodies (with Angelina Nonaj)",trackLink:"https://daisart.bandcamp.com/album/my-seat-and-weep",artistLink:"https://daisart.press/",trackSrc:"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/J.mp3",shaderName:"cycleOne",colours:["#222323","#5252ff","#b5e877"]},{introStatement:"if you're seeing this the server is having some trouble",prompt:"this is prompt 0",trackDetails:"j - cadence felt between our bodies (with Angelina Nonaj)",trackLink:"https://daisart.bandcamp.com/album/my-seat-and-weep",artistLink:"https://daisart.press/",trackSrc:"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/J.mp3",shaderName:"cycleOne",colours:["#222323","#5252ff","#b5e877"]}],x=[{endTime:Date.parse("2022-08-31T17:58:51+10:00"),tidalData:[{tideEnd:Date.parse("2022-08-29T03:41+10:00"),tideUp:1,tideHeight:.8},{tideEnd:Date.parse("2022-08-29T10:25+10:00"),tideUp:-1,tideHeight:.28},{tideEnd:Date.parse("2022-08-29T16:52+10:00"),tideUp:1,tideHeight:.89},{tideEnd:Date.parse("2022-08-29T23:05+10:00"),tideUp:-1,tideHeight:.42},{tideEnd:Date.parse("2022-08-30T04:33+10:00"),tideUp:1,tideHeight:.83},{tideEnd:Date.parse("2022-08-30T11:05+10:00"),tideUp:-1,tideHeight:.31},{tideEnd:Date.parse("2022-08-30T17:20+10:00"),tideUp:1,tideHeight:.9},{tideEnd:Date.parse("2022-08-30T23:42+10:00"),tideUp:-1,tideHeight:.38},{tideEnd:Date.parse("2022-08-31T05:20+10:00"),tideUp:1,tideHeight:.87},{tideEnd:Date.parse("2022-08-31T11:40+10:00"),tideUp:-1,tideHeight:.34},{tideEnd:Date.parse("2022-08-31T17:46+10:00"),tideUp:1,tideHeight:.92}]},{endTime:Date.parse("2022-09-03T18:01:21+10:00"),tidalData:[{tideEnd:Date.parse("2022-09-01T00:15+10:00"),tideUp:-1,tideHeight:.34},{tideEnd:Date.parse("2022-09-01T06:04+10:00"),tideUp:1,tideHeight:.89},{tideEnd:Date.parse("2022-09-01T12:13+10:00"),tideUp:-1,tideHeight:.37},{tideEnd:Date.parse("2022-09-01T18:15+10:00"),tideUp:1,tideHeight:.93},{tideEnd:Date.parse("2022-09-02T00:52+10:00"),tideUp:-1,tideHeight:.31},{tideEnd:Date.parse("2022-09-02T06:48+10:00"),tideUp:1,tideHeight:.91},{tideEnd:Date.parse("2022-09-02T12:45+10:00"),tideUp:-1,tideHeight:.41},{tideEnd:Date.parse("2022-09-02T18:43+10:00"),tideUp:1,tideHeight:.95},{tideEnd:Date.parse("2022-09-03T01:30+10:00"),tideUp:-1,tideHeight:.29},{tideEnd:Date.parse("2022-09-03T07:34+10:00"),tideUp:1,tideHeight:.91},{tideEnd:Date.parse("2022-09-03T13:20+10:00"),tideUp:-1,tideHeight:.45}]},{endTime:Date.parse("2022-09-06T18:03:50+10:00"),tidalData:[{tideEnd:Date.parse("2022-09-03T19:13+10:00"),tideUp:1,tideHeight:.96},{tideEnd:Date.parse("2022-09-04T02:10+10:00"),tideUp:-1,tideHeight:.27},{tideEnd:Date.parse("2022-09-04T08:22+10:00"),tideUp:1,tideHeight:.89},{tideEnd:Date.parse("2022-09-04T13:57+10:00"),tideUp:-1,tideHeight:.49},{tideEnd:Date.parse("2022-09-04T19:45+10:00"),tideUp:1,tideHeight:.96},{tideEnd:Date.parse("2022-09-05T02:52+10:00"),tideUp:-1,tideHeight:.25},{tideEnd:Date.parse("2022-09-05T09:14+10:00"),tideUp:1,tideHeight:.87},{tideEnd:Date.parse("2022-09-05T14:37+10:00"),tideUp:-1,tideHeight:.52},{tideEnd:Date.parse("2022-09-05T20:20+10:00"),tideUp:1,tideHeight:.95},{tideEnd:Date.parse("2022-09-06T03:37+10:00"),tideUp:-1,tideHeight:.24},{tideEnd:Date.parse("2022-09-06T10:14+10:00"),tideUp:1,tideHeight:.84},{tideEnd:Date.parse("2022-09-06T15:24+10:00"),tideUp:-1,tideHeight:.56}]},{endTime:Date.parse("2022-09-09T18:06:18+10:00"),tidalData:[{tideEnd:Date.parse("2022-09-06T21:04+10:00"),tideUp:1,tideHeight:.94},{tideEnd:Date.parse("2022-09-07T04:30+10:00"),tideUp:-1,tideHeight:.23},{tideEnd:Date.parse("2022-09-07T11:26+10:00"),tideUp:1,tideHeight:.82},{tideEnd:Date.parse("2022-09-07T16:20+10:00"),tideUp:-1,tideHeight:.58},{tideEnd:Date.parse("2022-09-07T22:02+10:00"),tideUp:1,tideHeight:.91},{tideEnd:Date.parse("2022-09-08T05:31+10:00"),tideUp:-1,tideHeight:.23},{tideEnd:Date.parse("2022-09-08T12:41+10:00"),tideUp:1,tideHeight:.81},{tideEnd:Date.parse("2022-09-08T17:37+10:00"),tideUp:-1,tideHeight:.58},{tideEnd:Date.parse("2022-09-08T23:18+10:00"),tideUp:1,tideHeight:.87},{tideEnd:Date.parse("2022-09-09T06:44+10:00"),tideUp:-1,tideHeight:.23},{tideEnd:Date.parse("2022-09-09T13:50+10:00"),tideUp:1,tideHeight:.82}]},{endTime:Date.parse("2022-09-12T18:08:47+10:00"),tidalData:[{tideEnd:Date.parse("2022-09-09T19:12+10:00"),tideUp:-1,tideHeight:.56},{tideEnd:Date.parse("2022-09-10T00:41+10:00"),tideUp:1,tideHeight:.84},{tideEnd:Date.parse("2022-09-10T08:00+10:00"),tideUp:-1,tideHeight:.23},{tideEnd:Date.parse("2022-09-10T14:50+10:00"),tideUp:1,tideHeight:.84},{tideEnd:Date.parse("2022-09-10T20:55+10:00"),tideUp:-1,tideHeight:.49},{tideEnd:Date.parse("2022-09-11T02:11+10:00"),tideUp:1,tideHeight:.84},{tideEnd:Date.parse("2022-09-11T09:15+10:00"),tideUp:-1,tideHeight:.25},{tideEnd:Date.parse("2022-09-11T15:41+10:00"),tideUp:1,tideHeight:.86},{tideEnd:Date.parse("2022-09-11T22:02+10:00"),tideUp:-1,tideHeight:.4},{tideEnd:Date.parse("2022-09-12T03:31+10:00"),tideUp:1,tideHeight:.87},{tideEnd:Date.parse("2022-09-12T10:16+10:00"),tideUp:-1,tideHeight:.27},{tideEnd:Date.parse("2022-09-12T16:23+10:00"),tideUp:1,tideHeight:.89}]},{endTime:Date.parse("2022-09-15T18:11:16+10:00"),tidalData:[{tideEnd:Date.parse("2022-09-12T22:53+10:00"),tideUp:-1,tideHeight:.33},{tideEnd:Date.parse("2022-09-13T04:33+10:00"),tideUp:1,tideHeight:.9},{tideEnd:Date.parse("2022-09-13T11:06+10:00"),tideUp:-1,tideHeight:.3},{tideEnd:Date.parse("2022-09-13T17:01+10:00"),tideUp:1,tideHeight:.91},{tideEnd:Date.parse("2022-09-13T23:37+10:00"),tideUp:-1,tideHeight:.28},{tideEnd:Date.parse("2022-09-14T05:26+10:00"),tideUp:1,tideHeight:.92},{tideEnd:Date.parse("2022-09-14T11:49+10:00"),tideUp:-1,tideHeight:.34},{tideEnd:Date.parse("2022-09-14T17:36+10:00"),tideUp:1,tideHeight:.92},{tideEnd:Date.parse("2022-09-15T00:16+10:00"),tideUp:-1,tideHeight:.26},{tideEnd:Date.parse("2022-09-15T06:15+10:00"),tideUp:1,tideHeight:.93},{tideEnd:Date.parse("2022-09-15T12:28+10:00"),tideUp:-1,tideHeight:.37},{tideEnd:Date.parse("2022-09-15T18:11+10:00"),tideUp:1,tideHeight:.94}]},{endTime:Date.parse("2022-09-18T18:13:45+10:00"),tidalData:[{tideEnd:Date.parse("2022-09-16T00:54+10:00"),tideUp:-1,tideHeight:.25},{tideEnd:Date.parse("2022-09-16T07:00+10:00"),tideUp:1,tideHeight:.93},{tideEnd:Date.parse("2022-09-16T13:04+10:00"),tideUp:-1,tideHeight:.41},{tideEnd:Date.parse("2022-09-16T18:45+10:00"),tideUp:1,tideHeight:.94},{tideEnd:Date.parse("2022-09-17T01:30+10:00"),tideUp:-1,tideHeight:.25},{tideEnd:Date.parse("2022-09-17T07:45+10:00"),tideUp:1,tideHeight:.92},{tideEnd:Date.parse("2022-09-17T13:39+10:00"),tideUp:-1,tideHeight:.44},{tideEnd:Date.parse("2022-09-17T19:16+10:00"),tideUp:1,tideHeight:.94},{tideEnd:Date.parse("2022-09-18T02:05+10:00"),tideUp:-1,tideHeight:.25},{tideEnd:Date.parse("2022-09-18T08:30+10:00"),tideUp:1,tideHeight:.9},{tideEnd:Date.parse("2022-09-18T14:13+10:00"),tideUp:-1,tideHeight:.46}]},{endTime:Date.parse("2022-09-21T18:16:15+10:00"),tidalData:[{tideEnd:Date.parse("2022-09-18T19:48+10:00"),tideUp:1,tideHeight:.92},{tideEnd:Date.parse("2022-09-19T02:42+10:00"),tideUp:-1,tideHeight:.25},{tideEnd:Date.parse("2022-09-19T09:15+10:00"),tideUp:1,tideHeight:.87},{tideEnd:Date.parse("2022-09-19T14:46+10:00"),tideUp:-1,tideHeight:.49},{tideEnd:Date.parse("2022-09-19T20:20+10:00"),tideUp:1,tideHeight:.9},{tideEnd:Date.parse("2022-09-20T03:19+10:00"),tideUp:-1,tideHeight:.26},{tideEnd:Date.parse("2022-09-20T10:02+10:00"),tideUp:1,tideHeight:.84},{tideEnd:Date.parse("2022-09-20T15:22+10:00"),tideUp:-1,tideHeight:.52},{tideEnd:Date.parse("2022-09-20T20:55+10:00"),tideUp:1,tideHeight:.87},{tideEnd:Date.parse("2022-09-21T04:00+10:00"),tideUp:-1,tideHeight:.26},{tideEnd:Date.parse("2022-09-21T10:54+10:00"),tideUp:1,tideHeight:.81},{tideEnd:Date.parse("2022-09-21T16:03+10:00"),tideUp:-1,tideHeight:.54}]},{endTime:Date.parse("2022-09-24T18:18:46+10:00"),tidalData:[{tideEnd:Date.parse("2022-09-21T21:36+10:00"),tideUp:1,tideHeight:.82},{tideEnd:Date.parse("2022-09-22T04:46+10:00"),tideUp:-1,tideHeight:.28},{tideEnd:Date.parse("2022-09-22T11:54+10:00"),tideUp:1,tideHeight:.79},{tideEnd:Date.parse("2022-09-22T16:56+10:00"),tideUp:-1,tideHeight:.56},{tideEnd:Date.parse("2022-09-22T22:31+10:00"),tideUp:1,tideHeight:.77},{tideEnd:Date.parse("2022-09-23T05:45+10:00"),tideUp:-1,tideHeight:.29},{tideEnd:Date.parse("2022-09-23T12:59+10:00"),tideUp:1,tideHeight:.78},{tideEnd:Date.parse("2022-09-23T18:15+10:00"),tideUp:-1,tideHeight:.56},{tideEnd:Date.parse("2022-09-23T23:47+10:00"),tideUp:1,tideHeight:.74},{tideEnd:Date.parse("2022-09-24T06:59+10:00"),tideUp:-1,tideHeight:.31},{tideEnd:Date.parse("2022-09-24T13:58+10:00"),tideUp:1,tideHeight:.79}]}];function O(e){var t=Date.now(),n=x[1].endTime-t,r=Math.round(n/1e3/60/60/24);return r>=3?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("span",{children:"The track will change the day after tomorrow."})}):2==r?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("span",{children:"The track will change tomorrow."})}):r<=1?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("span",{children:"The track will change today."})}):void 0}var v=Date.now(),_=-37.803193437556054,w=144.94984320919224,y=[Date.parse("2022-08-28T17:55+10:00"),Date.parse("2022-08-31T17:58:51+10:00"),Date.parse("2022-09-03T18:01:21+10:00"),Date.parse("2022-09-06T18:03:50+10:00"),Date.parse("2022-09-09T18:06:18+10:00"),Date.parse("2022-09-12T18:08:47+10:00"),Date.parse("2022-09-15T18:11:16+10:00"),Date.parse("2022-09-18T18:13:45+10:00"),Date.parse("2022-09-21T18:16:15+10:00")];function D(e){var t=new Date(e),n=g.a.getMoonIllumination(t,_,w).phase,r=3.6*(n=Math.round(100*n)),i={transform:"rotate3d(0, 1, 0, "+r+"deg)"};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"moonsphere",children:[Object(u.jsx)("div",{className:r>180?"moondark hemisphere":"moonlight hemisphere"}),Object(u.jsx)("div",{className:r>180?"moonlight hemisphere":"moondark hemisphere"}),Object(u.jsx)("div",{className:"moondivider",style:i})]})})}var E=g.a.getTimes(v,_,w);Date.parse(E.sunset),function(e){e>24?e-=24:e=e}(E.sunset.getUTCHours()+10),E.sunset.getMinutes();var T,k,N=D(v),S=y.map((function(e){return D(e)})),C=n(27),H=n.n(C),U=n(28),B=n(48);function L(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1];return Object(r.useEffect)((function(){(function(){return I.apply(this,arguments)})().then((function(e){return i(e)}))}),[]),Object(u.jsx)(u.Fragment,{children:n})}function I(){return(I=Object(B.a)(H.a.mark((function e(){var t,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{children:"We couldn't access your IP, and couldn't find information information about indigenous nations at your location, but this does not mean that there aren't any. Do you know whose land you're on?*"}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{className:"ModalTextSmall",children:[Object(u.jsx)("span",{className:"astrix",children:"*"}),"The information presented here is derived from the maps at ",Object(u.jsx)("a",{href:"https://native-land.ca/",target:"_blank",rel:"noreferrer",children:"Native Land Digital"}),", cross-referenced with data from ",Object(u.jsx)("a",{href:"https://ipinfo.io/",target:"_blank",rel:"noreferrer",children:"ipinfo.io"}),". Note that this is based on your internet service provider's location, and may be incorrect for your actual physical location. This is not authoritative or representative and should be approached critically. Code is adapted from ",Object(u.jsx)("i",{children:"Where Are We"}),", which you can learn more about on ",Object(u.jsx)("a",{href:"https://github.com/e-e-e/where-are-we",target:"_blank",rel:"noreferrer",children:"GitHub"}),"."]})]}));case 5:return e.next=7,A(T,k);case 7:if(1!==(n=e.sent).length){e.next=12;break}return e.abrupt("return",Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("span",{children:["Your IP suggests that you may be on ",Object(u.jsx)("a",{href:n[0].properties.description,target:"_blank",rel:"noreferrer",children:n[0].properties.Name})," country, otherwise known as ",t.commonName,".*"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{className:"ModalTextSmall",children:[Object(u.jsx)("span",{className:"astrix",children:"*"}),"The information presented here is derived from the maps at ",Object(u.jsx)("a",{href:"https://native-land.ca/",target:"_blank",rel:"noreferrer",children:"Native Land Digital"}),", cross-referenced with data from ",Object(u.jsx)("a",{href:"https://ipinfo.io/",target:"_blank",rel:"noreferrer",children:"ipinfo.io"}),". Note that this is based on your internet service provider's location, and may be incorrect for your actual physical location. This is not authoritative or representative and should be approached critically. Code is adapted from ",Object(u.jsx)("i",{children:"Where Are We"}),", which you can learn more about on ",Object(u.jsx)("a",{href:"https://github.com/e-e-e/where-are-we",target:"_blank",rel:"noreferrer",children:"GitHub"}),"."]})]}));case 12:if(!(n.length>1)){e.next=16;break}return e.abrupt("return",Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("span",{children:["Your IP suggests that you may be on ",Object(u.jsxs)("a",{href:n[0].properties.description,target:"_blank",rel:"noreferrer",children:[" ",n[0].properties.Name]})," and/or ",Object(u.jsxs)("a",{href:n[1].properties.description,target:"_blank",rel:"noreferrer",children:[" ",n[1].properties.Name]})," country, otherwise known as ",t.commonName,".*"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{className:"ModalTextSmall",children:[Object(u.jsx)("span",{className:"astrix",children:"*"}),"The information presented here is derived from the maps at ",Object(u.jsx)("a",{href:"https://native-land.ca/",target:"_blank",rel:"noreferrer",children:"Native Land Digital"}),", cross-referenced with data from ",Object(u.jsx)("a",{href:"https://ipinfo.io/",target:"_blank",rel:"noreferrer",children:"ipinfo.io"}),". Note that this is based on your internet service provider's location, and may be incorrect for your actual physical location. This is not authoritative or representative and should be approached critically. Code is adapted from ",Object(u.jsx)("i",{children:"Where Are We"}),", which you can learn more about on ",Object(u.jsx)("a",{href:"https://github.com/e-e-e/where-are-we",target:"_blank",rel:"noreferrer",children:"GitHub"}),"."]})]}));case 16:return e.abrupt("return",Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("span",{children:["Your IP suggests that you may be in ",t.commonName,". We cannot find information about indigenous nations at this location, but this does not mean that there aren't any. Do you know whose land you're on?*"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{className:"ModalTextSmall",children:[Object(u.jsx)("span",{className:"astrix",children:"*"}),"The information presented here is derived from the maps at ",Object(u.jsx)("a",{href:"https://native-land.ca/",target:"_blank",rel:"noreferrer",children:"Native Land Digital"}),", cross-referenced with data from ",Object(u.jsx)("a",{href:"https://ipinfo.io/",target:"_blank",rel:"noreferrer",children:"ipinfo.io"}),". Note that this is based on your internet service provider's location, and may be incorrect for your actual physical location. This is not authoritative or representative and should be approached critically. Code is adapted from ",Object(u.jsx)("i",{children:"Where Are We"}),", which you can learn more about on ",Object(u.jsx)("a",{href:"https://github.com/e-e-e/where-are-we",target:"_blank",rel:"noreferrer",children:"GitHub"}),"."]})]}));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return fetch("https://ipinfo.io/json?token=9f90c3a3f131ff").then((function(e){return e.json()})).then((function(e){var t,n=function(e){if(!e)return null;if(!e.loc||"string"!==typeof e.loc)return null;var t=e.loc.split(",");return 2!==t.length?null:(T=parseFloat(t[0]),k=parseFloat(t[1]),null==T||null==k?null:{youlat:T,youlong:k})}(e);return console.log(n),n?Object(U.a)(Object(U.a)({},n),{},{commonName:null!==(t=R(e))&&void 0!==t?t:""}):null}))}function A(e,t){return fetch("".concat("https://native-land.ca/api/index.php","?maps=territories&position=").concat(e,",").concat(t)).then((function(e){return e.json()})).catch((function(e){return console.error(e),[]}))}function R(e){if(!e)return null;if(!e.city&&!e.region)return null;var t=[];return e.city&&t.push(e.city),e.region&&t.push(e.region),e.country&&t.push(e.country),t.join(", ")}function F(e){Object(r.useEffect)((function(){var t=document.getElementById("AOC-modal");new l.a(t).show(),window.addEventListener("keydown",(function(t){switch(t.key){case"!":e.setCurrentCycle(0),e.setCurrentModalPage(e.currentModalPage+1);break;case"$":e.setCurrentCycle(3),e.setCurrentModalPage(e.currentModalPage+1);break;default:return}}))}),[]);var t=[Object(u.jsx)("div",{id:"logo-wrapper",children:Object(u.jsx)("div",{id:"text-logo",children:Object(u.jsxs)("pre",{id:"pre-logo-wrapper",children:[Object(u.jsxs)("div",{id:"logo-line-1",children:["__________________________________________________________________",Object(u.jsx)("u",{className:"text-gradient-1",children:"/\\\\\\\\\\\\\\\\\\"}),"_____        ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-2",children:["\xa0________________________________________________________________",Object(u.jsx)("u",{className:"text-gradient-2",children:"/\\\\\\///////\\\\\\"}),"___       ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-3",children:["\xa0\xa0_______________________________________________________________",Object(u.jsx)("u",{className:"text-gradient-3",children:"\\///"}),"______",Object(u.jsx)("u",{className:"text-gradient-3",children:"\\//\\\\\\"}),"__      ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-4",children:["\xa0\xa0\xa0__",Object(u.jsx)("u",{className:"text-gradient-4",children:"/\\\\/\\\\\\\\\\\\\\"}),"______",Object(u.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\\\\\"}),"________",Object(u.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\\\\\"}),"_______",Object(u.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\\\\\"}),"_____________",Object(u.jsx)("u",{className:"text-gradient-4",children:"/\\\\\\/"}),"___     ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-5",children:["\xa0\xa0\xa0\xa0_",Object(u.jsx)("u",{className:"text-gradient-5",children:"\\/\\\\\\/////\\\\\\"}),"___",Object(u.jsx)("u",{className:"text-gradient-5",children:"/\\\\\\///\\\\\\"}),"____",Object(u.jsx)("u",{className:"text-gradient-5",children:"/\\\\\\///\\\\\\"}),"___",Object(u.jsx)("u",{className:"text-gradient-5",children:"/\\\\\\///\\\\\\\\\\///\\\\\\"}),"________",Object(u.jsx)("u",{className:"text-gradient-5",children:"/\\\\\\//"}),"_____    ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-6",children:["\xa0\xa0\xa0\xa0\xa0_",Object(u.jsx)("u",{className:"text-gradient-6",children:"\\/\\\\\\"}),"___",Object(u.jsx)("u",{className:"text-gradient-6",children:"\\///"}),"___",Object(u.jsx)("u",{className:"text-gradient-6",children:"/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-6",children:"\\//\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-6",children:"/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-6",children:"\\//\\\\\\"}),"_",Object(u.jsx)("u",{className:"text-gradient-6",children:"\\/\\\\\\"}),"_",Object(u.jsx)("u",{className:"text-gradient-6",children:"\\//\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-6",children:"\\/\\\\\\"}),"_____",Object(u.jsx)("u",{className:"text-gradient-6",children:"/\\\\\\//"}),"________   ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-7",children:["\xa0\xa0\xa0\xa0\xa0\xa0_",Object(u.jsx)("u",{className:"text-gradient-7",children:"\\/\\\\\\"}),"_________",Object(u.jsx)("u",{className:"text-gradient-7",children:"\\//\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-7",children:"/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-7",children:"\\//\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-7",children:"/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-7",children:"\\/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-7",children:"\\/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-7",children:"\\/\\\\\\"}),"___",Object(u.jsx)("u",{className:"text-gradient-7",children:"/\\\\\\/"}),"___________  ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-8",children:["\xa0\xa0\xa0\xa0\xa0\xa0\xa0_",Object(u.jsx)("u",{className:"text-gradient-8",children:"\\/\\\\\\"}),"__________",Object(u.jsx)("u",{className:"text-gradient-8",children:"\\///\\\\\\\\\\/"}),"____",Object(u.jsx)("u",{className:"text-gradient-8",children:"\\///\\\\\\\\\\/"}),"___",Object(u.jsx)("u",{className:"text-gradient-8",children:"\\/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-8",children:"\\/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-8",children:"\\/\\\\\\"}),"__",Object(u.jsx)("u",{className:"text-gradient-8",children:"/\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"}),"_ ",Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{id:"logo-line-9",children:["\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0_",Object(u.jsx)("u",{className:"text-gradient-9",children:"\\///"}),"_____________",Object(u.jsx)("u",{className:"text-gradient-9",children:"\\/////"}),"________",Object(u.jsx)("u",{className:"text-gradient-9",children:"\\/////"}),"_____",Object(u.jsx)("u",{className:"text-gradient-9",children:"\\///"}),"___",Object(u.jsx)("u",{className:"text-gradient-9",children:"\\///"}),"___",Object(u.jsx)("u",{className:"text-gradient-9",children:"\\///"}),"__",Object(u.jsx)("u",{className:"text-gradient-9",children:"\\///////////////"}),"__",Object(u.jsx)("br",{})]})]})})}),Object(u.jsxs)("div",{id:"modal-page-wrapper",children:[Object(u.jsx)("div",{id:"modal-text-wrapper",className:"modal-text-wrapper-aoc",children:Object(u.jsxs)("div",{id:"modal-text",children:[h,Object(u.jsx)(L,{})]})}),Object(u.jsx)("button",{id:"modal-continue-button",onClick:function(){return e.setCurrentModalPage(e.currentModalPage+1)},children:" Continue "})]}),Object(u.jsxs)("div",{id:"modal-page-wrapper",children:[Object(u.jsxs)("div",{id:"modal-title-wrapper",children:[Object(u.jsx)("div",{id:"modal-title",children:"Welcome to room2.fm async"}),Object(u.jsx)("hr",{})]}),Object(u.jsx)("div",{id:"modal-text-wrapper",children:Object(u.jsx)("div",{id:"modal-text",children:p})}),Object(u.jsx)("button",{id:"modal-continue-button",onClick:function(){return e.setCurrentModalPage(e.currentModalPage+1)},children:" Continue "})]}),Object(u.jsxs)("div",{id:"modal-page-wrapper",children:[Object(u.jsxs)("div",{id:"modal-title-wrapper",children:[Object(u.jsx)("div",{id:"modal-title",children:"Welcome to room2.fm async"}),Object(u.jsx)("hr",{})]}),Object(u.jsx)("div",{id:"modal-text-wrapper",children:Object(u.jsxs)("div",{id:"modal-text",children:[e.trackHasUpdated?Object(u.jsx)(z,{}):Object(u.jsx)(O,{currentCycle:e.currentCycle}),m,Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),j]})}),Object(u.jsx)("button",{id:"modal-continue-button",onClick:function(){return e.toggleModal()},children:" Continue "})]})];return Object(u.jsxs)("div",{id:"AOC-modal",className:"ModalWrapper","aria-labelledby":"modal-title","aria-hidden":"false",children:[Object(u.jsx)("div",{"data-a11y-dialog-hide":!0,className:"ModalOverlay"}),Object(u.jsx)("div",{role:"document",className:"ModalBox",children:e.currentModalPage<2?Object(u.jsx)(u.Fragment,{children:t[e.currentModalPage]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(P,{currentCycle:e.currentCycle}),t[e.currentModalPage],Object(u.jsx)(W,{currentCycle:e.currentCycle})]})})]})}function P(e){var t=S.map((function(t,n){return n<e.currentCycle?Object(u.jsx)("div",{className:"MoonSphereWrapper",style:{opacity:.4},children:S[n]},n):n===e.currentCycle?Object(u.jsx)("div",{className:"MoonSphereWrapper",style:{opacity:1},children:S[n]},n):Object(u.jsx)("div",{className:"MoonSphereWrapper",style:{opacity:.6},children:S[n]},n)}));return Object(u.jsx)("div",{id:"nine-cycle-wrapper",children:t})}function W(e){var t=Date.now(),n=80/(x[e.currentCycle].endTime-x[e.currentCycle].endTime)*(t-x[e.currentCycle].endTime),r={marginTop:n+"vh"};return n>=76&&(r={marginTop:(n=76)+"vh",animationName:"pulse"}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{id:"current-cycle-wrapper",children:[Object(u.jsx)("div",{className:"CurrentMoonWrapper",style:r,children:N}),Object(u.jsx)("div",{id:"timeline-gradient"})]})})}function z(){return Object(u.jsx)("p",{style:{marginBottom:"1rem"},children:"The selected track has been updated. Refresh the page to listen and respond to the new music and prompts."})}var G,J,Y,V,Q,X=n(49),q=n(50),Z=n(53),K=n(52),$=n(11),ee=n(8),te=n(51),ne=ee.Shaders.create({onecolour:{frag:Object(ee.GLSL)(G||(G=Object($.a)(["\n    // based on Inigo Quilez noise shader https://www.shadertoy.com/view/XdXGW8\n    precision highp float;\n    varying vec2 uv;\n    uniform float width;\n    uniform float height;\n    uniform float timer;\n    uniform float tideUp;\n    uniform float tideHeight;\n    const vec3 ycol = vec3(.824,.953,.91);\n    const vec3 lcol = vec3(.961,.652,.266);\n    const vec3 rcol = vec3(.184,.219,.297);\n    \n    vec2 hash( vec2 x ) {\n      const vec2 k = vec2( 0.3183099, 0.3678794 );\n      x = x*k + k.yx;\n      return -1.0 + 2.0*fract( 16.0 * k*fract( x.x*x.y*(x.x+x.y)) );\n    }\n\n    float noise( in vec2 p ) {\n      vec2 i = floor( p );\n      vec2 f = fract( p );\t\n\t    vec2 u = f*f*(3.0-2.0*f);\n      return mix( mix( dot( hash( i + vec2(0.0,0.0) ), f - vec2(0.0,0.0) ), \n                       dot( hash( i + vec2(1.0,0.0) ), f - vec2(1.0,0.0) ), u.x),\n                  mix( dot( hash( i + vec2(0.0,1.0) ), f - vec2(0.0,1.0) ), \n                       dot( hash( i + vec2(1.0,1.0) ), f - vec2(1.0,1.0) ), u.x), u.y);\n    }\n\n    void main() {\n      vec2 res = vec2(width,height);\n      vec2 st = gl_FragCoord.xy / res;\n      st.y += tideUp*timer/10.;\n      vec2 translate = vec2(0.,0.5*timer);\n      if (fract( st.y * 0.5) > 0.4  || fract( st.y * 0.5) < 0.2){\n        st.x += translate.y*0.35; }\n      else {\n        if (fract( st.x * 0.5) > 0.2 || fract( st.x * 0.5) < 0.3){\n          st.x -= timer*0.5; }\n        else {\n          st.x += timer*0.35; }\n      }\n      if (fract( st.y * 0.5) > 0.8 || fract( st.y * 0.5) < 0.6){\n        st.x += translate.y*0.35; }\n      else {\n        if (fract( st.x * 0.5) < 0.4 || fract( st.x * 0.5) > 0.3){\n          st.x -= timer*0.5; }\n        else {\n          st.x += timer*0.35; }\n      }      \n      float f = noise( 2.0*st );\n      f = 1.-(0.6 + 0.2*f);\n      vec3 ycol = ycol * (0.5 * sin(timer));\n\n      gl_FragColor = vec4(min(mix(ycol,mix(rcol,lcol,uv.x-0.2),uv.y+0.2), vec3(f,f,f)), 1.0);\n    }"])))},newvis:{frag:Object(ee.GLSL)(J||(J=Object($.a)(["\n    precision highp float;\n    varying vec2 uv;\n    uniform float width;\n    uniform float height;\n    uniform float timer;\n    //const float timer = 15.8;\n    uniform float tideUp;\n    uniform float tideHeight;\n    const float emtriy = 0.7;\n    const float emtrix = 1.5;\n    const vec3 rcol = vec3(0.71,0.91,0.467);\n    const vec3 lcol = vec3(0.322,0.322,1.);\n    const vec3 ycol = vec3(0.937,0.592,0.439);\n   // const vec3 rcol = vec3(0.902,0.733,0.271);\n   // const vec3 lcol = vec3(0.937,0.592,0.439);\n   // const vec3 ycol = vec3(0.835,0.867,0.565);\n\n    float hash( float x ) {\n      return fract(sin(x)*43758.5453);\n    }  \n    float rand(vec2 n) { \n      return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\n    }        \n    float noise(vec2 p){\n      vec2 ip = floor(p);\n      vec2 u = fract(p);\n      u = u*u*(3.0-2.0*u);          \n      float res = mix(\n        mix(rand(ip),rand(ip+vec2(1.0,0.0)),u.x),\n        mix(rand(ip+vec2(0.0,1.0)),rand(ip+vec2(1.0,1.0)),u.x),u.y);\n      return res*res;\n    }\n    mat2 rotate2d(float _angle){\n      return mat2(cos(_angle),-sin(_angle),\n                  sin(_angle),cos(_angle));\n    }\n    void main() {\n      vec2 res = vec2(width,height);\n      vec2 st = (gl_FragCoord.xy/res)- .5;\n      st.x += 0.45;\n      st.y *= st.x;\n      float stimer = timer*.2;\n      vec2 pos = (vec2(0.0)-st)*rotate2d(stimer+(emtrix*4.));\n      float r = length(pos)*2.0*emtriy;\n      float a = atan(pos.y,pos.x);\n      float f = abs(cos(a*2.5))*.3+(.3*emtrix);\n      vec3 flow = mix(vec3(0.), ycol, ((1.-smoothstep(f-0.,f+0.01,r))*1.2));\n      flow -= 1.-smoothstep(0.04,0.05,distance(st,vec2(0.0)));\n      float mixerx = timer + st.y;\n      st.y += stimer;\n      float noisecol = noise(st*8.);\n      if (noisecol < .6+(sin(timer)*.2))\n        noisecol = noisecol/2.;\n      else noisecol = 1.;\n      float bg = ((sin(timer)/2.)+.5)*noisecol;\n      vec3 bgcol = lcol-flow;\n      vec3 comp = mix(bgcol,flow,f);\n      gl_FragColor = vec4(comp, 1.0);\n    }"])))},cycleTwo:{frag:Object(ee.GLSL)(Y||(Y=Object($.a)(["\n    precision highp float;\n    varying vec2 uv;\n    uniform float width;\n    uniform float height;\n    uniform float timer;\n    uniform float tideUp;\n    uniform float tideHeight;\n    const vec3 rcol = vec3(0.925,0.878,0.878);\n    const vec3 lcol = vec3(0.176,0.251,0.278);\n    const vec3 ycol = vec3(0.937,0.592,0.439);\n    const float pi = 3.14159;\n\n    mat2 rotate2d(float _angle){\n      return mat2(cos(_angle),-sin(_angle),\n                  sin(_angle),cos(_angle));\n    }\n\n    float ring(vec2 uv, float radius, float stimer){\n      float width = 1.+radius;\n      float blurTime = abs(sin(timer+radius));\n      if (mod(radius, 2.0)==0.0){\n        uv *= rotate2d(-1.*stimer*(radius/10.));\n      } else {\n        uv *= rotate2d(stimer+(radius/10.));\n      }\n      radius *= radius;\n      float outerRadius = radius + width;\n      float theta = 1.001*(atan(uv.y,uv.x)/pi);\n      return  (smoothstep(radius-(radius*blurTime*.1),\n                        radius+(radius*blurTime*.1),\n                        dot(uv,uv)*3.5) -\n              smoothstep(outerRadius-(outerRadius*blurTime*.1),\n                        outerRadius+(outerRadius*blurTime*.1),\n                        dot(uv,uv)*3.5)) / \n              (1.5 - abs(mod(theta+1.0,45.0)-1.0));\n    }\n\n    void main() {\n      vec2 res = vec2(width,height);\n      vec2 st = (gl_FragCoord.xy/res)-.3;\n      float stimer = timer/20.;\n      st *= 40.*(rotate2d(stimer)*st.x)*stimer;\n      float col = 0.;\n      for (float i = 1.; i < 180. ; i++){\n        col += ring(st,i, stimer);\n      }\n      vec3 comp = mix(rcol,lcol,col*.5);\n      gl_FragColor = vec4(comp, 1.0);\n    }"])))},cycleOne:{frag:Object(ee.GLSL)(V||(V=Object($.a)(["\n    precision highp float;\n    varying vec2 uv;\n    uniform float width;\n    uniform float height;\n    uniform float timer;\n    uniform float tideUp;\n    uniform float tideHeight;\n    const vec3 rcol = vec3(0.8,0.,0.2);\n    const vec3 lcol = vec3(0.,0.502,0.376);\n    const vec3 ycol = vec3(0.1,0.,0.1);\n\n    float cubicPulse( float c, float w, float x )\n    {\n      x = abs(x - c);\n      if( x>w ) return 0.0;\n      x /= w;\n      return 1.0 - x*x*(3.0-2.0*x);\n    }\n\n    void main() {\n      vec2 res = vec2(width,height);\n      vec2 st = (gl_FragCoord.xy/res);\n      float stimer = timer/200.;\n      st.x -= sin(st.y*st.y*timer)*st.y*stimer;\n      vec3 fadeCol = mix(ycol, rcol, ((sin(timer)/2.) +.5)*(sin(st.x-timer-2.5)*stimer)) ;\n      vec3 comp = mix(fadeCol, lcol, cubicPulse(.5,stimer*st.y,st.x));\n      gl_FragColor = vec4(comp, 1.0);\n    }"])))},cycleBlank:{frag:Object(ee.GLSL)(Q||(Q=Object($.a)(["\n    precision highp float;\n    varying vec2 uv;\n    uniform float width;\n    uniform float height;\n    uniform float timer;\n    uniform float tideUp;\n    uniform float tideHeight;\n    const vec3 rcol = vec3(0.71,0.91,0.467);\n    const vec3 lcol = vec3(0.322,0.322,1.);\n    const vec3 ycol = vec3(0.937,0.592,0.439);\n\n    void main() {\n      vec2 res = vec2(width,height);\n      vec2 st = (gl_FragCoord.xy/res);\n      vec3 comp = vec3(1.,1.,1.);\n      gl_FragColor = vec4(comp, 1.0);\n    }"])))}}),re=function(e){Object(Z.a)(n,e);var t=Object(K.a)(n);function n(){return Object(X.a)(this,n),t.apply(this,arguments)}return Object(q.a)(n,[{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(te.Surface,{width:this.props.width,height:this.props.height,children:Object(u.jsx)(ee.NearestCopy,{children:Object(u.jsx)(ee.Node,{shader:ne[this.props.shaderName],ignoreUnusedUniforms:!0,uniforms:{timer:this.props.timer,width:.75*this.props.width/this.props.graphicsSettings,height:.68*this.props.width/this.props.graphicsSettings,tideUp:this.props.tideData.tideUp,tideHeight:this.props.tideData.tideHeight},width:.75*this.props.width/this.props.graphicsSettings,height:.68*this.props.height/this.props.graphicsSettings})})})})}}]),n}(r.Component),ie=re;function ae(e){var t=1500,n=Object(r.useState)([]),i=Object(o.a)(n,2),a=i[0],s=i[1],c=Object(r.useRef)(),d=Object(r.useRef)(!1);return Object(r.useEffect)((function(){if(a.length>0&&!d.current){for(var e=0;e<3;e++)setTimeout(l,t*e);d.current=!0}c.current=a}),[a]),Object(r.useEffect)((function(){e.responseData.length>0&&(s(e.responseData),c.current=e.responseData)}),[e.responseData]),Object(u.jsx)("div",{id:"response-wrapper"});function l(){var e=Array.from(c.current),t=e.pop();"image"===t[1]?h(t[0]):p(t[0]),s([t].concat(e))}function h(t){var n=document.createElement("img"),r=!1;n.classList.add("ImageResponseBox");var i=Math.random(),a=Math.random();n.addEventListener("load",(function(s){document.getElementById("response-wrapper").appendChild(n);var c=n.getBoundingClientRect();n.style.left=80*i+"%",n.style.top=(100-e.height/c.height)*a+"%";for(var o=Array.from(document.getElementsByClassName("Collider")),d=0;d<o.length;d++)se(n.getBoundingClientRect(),o[d].getBoundingClientRect())&&!r&&(r=!0);r?(n.remove(),window.requestAnimationFrame((function(){return h(t)})),console.log("loop")):(n.classList.add("Collider"),m(n))})),n.src="https://humstore.thelongesthum.world/"+t}function p(t){var n=document.createElement("p"),r=!1;n.innerHTML=t,n.classList.add("TextResponseBox");var i=Math.random(),a=Math.random();document.getElementById("response-wrapper").appendChild(n);var s=n.getBoundingClientRect();n.style.left=80*i+"%",n.style.top=(100-e.height/s.height)*a+"%";for(var c=Array.from(document.getElementsByClassName("Collider")),o=0;o<c.length;o++)se(n.getBoundingClientRect(),c[o].getBoundingClientRect())&&!r&&(r=!0);r?(n.remove(),window.requestAnimationFrame((function(){return p(t)}))):(n.classList.add("Collider"),m(n))}function m(e){e.style.transition="1500ms",setTimeout((function(){e.style.opacity=1,setTimeout((function(){e.style.opacity=0}),15e3),setTimeout((function(){e.remove(),l()}),16600)}),100)}}function se(e,t){var n=!1;return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top&&(n=!0,console.log("hit")),n}function ce(e){var t=Object(r.useState)(!1),n=Object(o.a)(t,2),i=n[0],a=n[1],s=Object(r.useState)(!1),c=Object(o.a)(s,2),d=c[0],l=c[1],h=Object(r.useState)(!1),p=Object(o.a)(h,2),m=p[0],j=p[1],b=Object(r.useState)(null),g=Object(o.a)(b,2),f=g[0],x=g[1];return Object(r.useEffect)((function(){var t=document.getElementById("audio-source");x(t),e.setAudioSourceRef(t);var n=document.getElementById("timeline");t.addEventListener("waiting",(function(){n.className="",n.className="timelineloading"})),t.addEventListener("playing",(function(){n.className="",n.className="timelineloaded"})),t.addEventListener("timeupdate",(function(){n.firstChild.style.width=100*t.currentTime/t.duration+"%"})),n.addEventListener("click",(function(e){var r=(e.clientX-n.getBoundingClientRect().left)/n.offsetWidth;n.firstChild.style.width=100*r+"%",t.currentTime=t.duration*r}))}),[]),Object(u.jsxs)("div",{id:"audio-player-wrapper",className:"Collider",children:[Object(u.jsx)("audio",{src:e.trackSrc,id:"audio-source",onEnded:function(){a(!1),e.pauseTimer()}}),Object(u.jsx)("button",{id:"play-pause-button",className:"AudioPlayerButton",onClick:function(){f.paused?(f.play(),a(!0),e.startTimer(),m||(e.setAskResponse(!0),j(!0))):(f.pause(),a(!1),e.pauseTimer())},children:i?Object(u.jsx)(pe,{}):Object(u.jsx)(he,{})}),Object(u.jsx)("button",{className:"AudioPlayerButton",onClick:function(){f.currentTime=0,e.restartTimer()},children:Object(u.jsx)(me,{})}),Object(u.jsx)("div",{id:"timeline",className:"timelineloaded",children:Object(u.jsx)("div",{id:"playhead"})}),Object(u.jsxs)("div",{id:"volume-section-wrapper",children:[Object(u.jsx)("button",{className:"AudioPlayerButton",id:"mute-button",onClick:function(){f.muted=!f.muted,l(!d)},children:d?Object(u.jsx)(be,{}):Object(u.jsx)(je,{})}),Object(u.jsx)("div",{id:"volume-wrapper",children:de})]})]})}var oe=Array(12).fill(""),de=oe.map((function(e,t){return Object(u.jsx)("button",{className:"VolumeNotch VolumeActive",id:t,onMouseDown:ue,onMouseEnter:function(e){le&&ue(e)},style:{height:100/oe.length+"%"}},t+e)})),le=!1;function ue(e){e.stopPropagation(),le=!0;var t,n=parseInt(e.target.id),r=document.getElementsByClassName("VolumeNotch"),i=Object(c.a)(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.id<n?a.classList.remove("VolumeActive"):a.classList.add("VolumeActive")}}catch(o){i.e(o)}finally{i.f()}var s=1-1/12*n;document.getElementById("audio-source").volume=s}function he(){return Object(u.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",transform:"",children:Object(u.jsx)("g",{transform:"scale(.8) translate(15)",style:{transformOrigin:"center"},className:"AudioPlayerIcon",children:Object(u.jsx)("polygon",{points:"10,10 73,55 10,100",strokeLinejoin:"round",strokeWidth:"20"})})})}function pe(){return Object(u.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",transform:"",children:Object(u.jsxs)("g",{transform:"scale(.8) translate(15)",style:{transformOrigin:"center"},className:"AudioPlayerIcon",children:[Object(u.jsx)("path",{strokeLinecap:"round",strokeWidth:"30",d:" M 67.5,15\r L 67.5,95"}),Object(u.jsx)("path",{strokeLinecap:"round",strokeWidth:"30",d:" M 15,15\r L 15,95"})]})})}function me(){return Object(u.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",transform:"",children:Object(u.jsxs)("g",{transform:"scale(.8)",style:{transformOrigin:"center"},className:"AudioPlayerIcon",children:[Object(u.jsx)("polygon",{points:"10,10 73,55 10,100",strokeLinejoin:"round",strokeWidth:"20",transform:"translate(-25) rotate(180, 55, 55)"}),Object(u.jsx)("path",{fill:"none",strokeLinecap:"round",strokeWidth:"20",d:" M 100,10\r L 100,100"})]})})}function je(){return Object(u.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",transform:"",className:"AudioPlayerIcon",children:[Object(u.jsx)("path",{id:"mute-speaker",d:" M 10,42\r A 2,2 90 0 1 12,40\r L 15,40 30,15 35,15\r Q 38,50 35,85 \r L 30,85 15,60 12,60\r A 2,2 90 0 1 10,58\r Z              \r "}),Object(u.jsx)("path",{fill:"none",strokeLinecap:"round",strokeWidth:"6",className:"MuteLines active",d:" M 45,35\r Q 55,50 45,65"}),Object(u.jsx)("path",{fill:"none",strokeLinecap:"round",strokeWidth:"6",className:"MuteLines active",d:" M 55,22.5\r Q 77.33,50 55,77.5"}),Object(u.jsx)("path",{fill:"none",strokeLinecap:"round",strokeWidth:"6",className:"MuteLines active",d:" M 65,10\r Q 101.66,50 65,90"})]})}function be(){return Object(u.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",opacity:"50%",className:"AudioPlayerIcon",children:[Object(u.jsx)("path",{id:"mute-speaker",d:" M 10,42\r A 2,2 90 0 1 12,40\r L 15,40 30,15 35,15\r Q 38,50 35,85 \r L 30,85 15,60 12,60\r A 2,2 90 0 1 10,58\r Z              \r "}),Object(u.jsx)("path",{fill:"none",strokeWidth:"6",d:" M 50, 35\r L 80, 65\r "}),Object(u.jsx)("path",{fill:"none",strokeWidth:"6",d:" M 80, 35\r L 50, 65\r "})]})}function ge(e){return Object(r.useEffect)((function(){document.getElementById("increase-brush-button").addEventListener("click",(function(){e.brushSize<20&&e.setBrushSize(e.brushSize+2)})),document.getElementById("decrease-brush-button").addEventListener("click",(function(){e.brushSize>2&&e.setBrushSize(e.brushSize-2)}))}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{id:"drawing-buttons-wrapper",children:[Object(u.jsxs)("button",{id:"increase-brush-button",className:"DrawingUIButton",children:[" BRUSH + ",Object(u.jsx)("div",{id:"brush-up-icon"})]}),Object(u.jsxs)("button",{id:"decrease-brush-button",className:"DrawingUIButton",children:[" BRUSH - ",Object(u.jsx)("div",{id:"brush-down-icon"})]}),Object(u.jsxs)("button",{id:"erase-brush-button",className:"DrawingUIButton",onClick:e.toggleEraser,children:[" ERASER ",Object(u.jsx)("div",{id:"eraser-icon"})]}),Object(u.jsxs)("button",{id:"undo-button",className:"DrawingUIButton",onClick:e.undoDrawing,children:[" UNDO ",Object(u.jsx)("div",{id:"undo-icon"})]}),Object(u.jsxs)("button",{id:"redo-button",className:"DrawingUIButton",onClick:e.redoDrawing,children:[" REDO ",Object(u.jsx)("div",{id:"redo-icon"})]})]})})}function fe(e){var t=Object(r.useState)(null),n=Object(o.a)(t,2),i=n[0],a=n[1],s=Object(r.useRef)(null);return Object(r.useEffect)((function(){s.current=i}),[i]),Object(r.useEffect)((function(){var t=new d.fabric.Canvas("drawing-canvas",{isDrawingMode:!0}),n=document.getElementById("drawing-canvas-wrapper");t.setWidth(n.offsetWidth),t.setHeight(n.offsetHeight),t.freeDrawingBrush.color=e.brushColour,t.freeDrawingBrush.width=e.brushSize,t.freeDrawingCursor=l(),t.on("mouse:down",(function(){return e.setIsDrawing(!0)})),a(t),console.log("check"),window.addEventListener("resize",c),e.setDrawingCanvas(t),e.setCurrentCanvasState(t.toDatalessJSON())}),[a]),Object(r.useEffect)((function(){s.current&&(s.current.freeDrawingBrush.color=e.brushColour,s.current.freeDrawingCursor=l())}),[e.brushColour]),Object(r.useEffect)((function(){s.current&&(s.current.freeDrawingBrush.width=e.brushSize,s.current.freeDrawingCursor=l())}),[e.brushSize]),Object(u.jsx)("div",{id:"drawing-canvas-wrapper",children:Object(u.jsx)("canvas",{id:"drawing-canvas"})});function c(){var e=document.getElementById("drawing-canvas-wrapper");s.current.setWidth(e.offsetWidth),s.current.setHeight(e.offsetHeight)}function l(){var t='<svg height="'.concat(e.brushSize,'"\n            fill="').concat(e.brushColour,'"\n            viewBox="0 0 ').concat(2*e.brushSize," ").concat(2*e.brushSize,'"\n            width="').concat(e.brushSize,'"\n            xmlns="http://www.w3.org/2000/svg">\n        <circle cx="50%"\n                cy="50%"\n                r="').concat(e.brushSize,'" />\n      </svg>');return"url(data:image/svg+xml;base64,".concat(window.btoa(t),") ").concat(e.brushSize/2," ").concat(e.brushSize/2,", move")}}function xe(e){return Object(r.useEffect)((function(){document.getElementById("col1Select").addEventListener("input",t,!1),document.getElementById("col2Select").addEventListener("input",t,!1),document.getElementById("col3Select").addEventListener("input",t,!1)}),[]),Object(u.jsxs)("div",{id:"drawing-tools-wrapper",children:[Object(u.jsx)("button",{id:"col-swap-button",onClick:function(){return function(t){for(var n=document.getElementsByClassName("col-select"),r=0;r<3;r++){var i=n[r].classList;switch(!0){case i.contains("first"):i.remove("first"),i.add("third");break;case i.contains("second"):i.remove("second"),i.add("first");break;case i.contains("third"):i.remove("third"),i.add("second")}}e.setCurrentColours([e.colours[1],e.colours[2],e.colours[0]])}()},children:Object(u.jsx)(Oe,{})}),Object(u.jsx)("span",{id:"word-change",children:"CHANGE"}),Object(u.jsx)("span",{id:"word-colour",children:"COLOUR"}),Object(u.jsxs)("div",{id:"col-select-wrapper",children:[Object(u.jsx)("input",{type:"color",id:"col1Select",className:"col-select first",name:"col1Select",defaultValue:e.colours[0]}),Object(u.jsx)("input",{type:"color",id:"col2Select",className:"col-select second",name:"col23Select",defaultValue:e.colours[1]}),Object(u.jsx)("input",{type:"color",id:"col3Select",className:"col-select third",name:"col33Select",defaultValue:e.colours[2]})]})]});function t(t){var n=parseInt(t.target.id.charAt(3));document.documentElement.style.setProperty("--comp-col-0"+n,t.target.value);var r=e.colours;r[n-1]=t.target.value,e.setCurrentColours(r)}}function Oe(){return Object(u.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[Object(u.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"6",refX:"7",refY:"3",orient:"auto",children:Object(u.jsx)("polygon",{points:"0 0, 8 3.5, 0 6"})}),Object(u.jsx)("path",{fill:"none",strokeWidth:"8",markerEnd:"url(#arrowhead)",d:" M 25, 50\r L 0,13.4 100,13.4 50,86.6\r "})]})}function ve(e){return Object(r.useEffect)((function(){document.getElementById("graphics-dropdown-wrapper").addEventListener("mouseleave",(function(){t("graphics-dropdown","none")}))}),[]),Object(u.jsxs)("div",{id:"settings-menu-wrapper",className:"Collider",children:[Object(u.jsx)("button",{className:"SettingsMenuButton",id:"settings-info-button",onClick:function(){return e.toggleModal()},children:"INFO"}),Object(u.jsx)("button",{className:"SettingsMenuButton",id:"settings-focus-button",onClick:function(){return e.toggleFocus},children:"FOCUS MODE"}),Object(u.jsxs)("div",{id:"graphics-dropdown-wrapper",children:[Object(u.jsx)("button",{className:"SettingsMenuButton",id:"settings-graphics-button",onClick:function(){t("graphics-dropdown","flex")},children:"GRAPHICS SETTINGS"}),Object(u.jsxs)("div",{id:"graphics-dropdown",children:[Object(u.jsx)("button",{className:"SettingsMenuButton Active",onClick:function(t){n(t),e.setGraphicsSettings(1)},children:"HIGH"}),Object(u.jsx)("button",{className:"SettingsMenuButton",onClick:function(t){n(t),e.setGraphicsSettings(10)},children:"MEDIUM"}),Object(u.jsx)("button",{className:"SettingsMenuButton",onClick:function(t){n(t),e.setGraphicsSettings(20)},children:"LOW"})]})]})]});function t(e,t){document.getElementById(e).style.display=t}function n(e){Array.from(document.getElementsByClassName("SettingsMenuButton")).forEach((function(e){e.classList.remove("Active")})),e.target.classList.add("Active"),t("graphics-dropdown","none")}}document.addEventListener("mouseup",(function(){le=!1}));function _e(e){var t=Object(r.useState)(0),n=Object(o.a)(t,2),i=n[0],a=n[1],s=Object(r.useState)(!1),c=Object(o.a)(s,2),d=c[0],l=c[1],h=Object(r.useState)(!1),p=Object(o.a)(h,2),m=p[0],j=p[1],b=Object(r.useState)(0),g=Object(o.a)(b,2),f=g[0],x=g[1],O=Object(r.useState)(null),v=Object(o.a)(O,2),_=v[0],w=v[1],y=Object(r.useState)(null),D=Object(o.a)(y,2),E=D[0],T=D[1],k=Object(r.useState)(1),N=Object(o.a)(k,2),S=N[0],C=N[1];return Object(u.jsx)("div",{id:"desktop-wrapper",children:e.modalIsOpen?Object(u.jsx)(F,{currentModalPage:i,setCurrentModalPage:a,trackHasUpdated:e.trackHasUpdated,toggleModal:e.toggleModal,currentCycle:e.currentCycle,setCurrentCycle:e.setCurrentCycle}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ve,{toggleModal:e.toggleModal,setGraphicsSettings:C,toggleFocus:e.toggleFocus}),Object(u.jsx)("div",{id:"current-prompt-wrapper",className:"Collider",children:Object(u.jsx)("div",{id:"current-prompt",children:e.cyclePreset.prompt})}),Object(u.jsx)(ce,{trackSrc:e.cyclePreset.trackSrc,setAudioSourceRef:T,startTimer:function(){null!==_?(clearInterval(_),w(setInterval((function(){x(100*E.currentTime/E.duration)}),15+S))):w(setInterval((function(){x(100*E.currentTime/E.duration)}),15+S))},pauseTimer:function(){clearInterval(_)},restartTimer:function(){x(0)},setAskResponse:l}),d&&Object(u.jsx)("button",{id:"ready-submission-button",onClick:function(){j(!0),l(!1)},children:" i'm ready to respond "}),m&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{id:"input-wrapper",children:[Object(u.jsx)("div",{id:"input-select-wrapper",children:Object(u.jsxs)("span",{id:"input-select",children:["I would like to\xa0",Object(u.jsx)("button",{id:"draw-input-select",className:"InputSelectButton",onClick:function(){return e.setInput(!0)},children:"draw"}),"\xa0/\xa0",Object(u.jsx)("button",{id:"text-input-select",className:"InputSelectButton ActiveInputButton",onClick:function(){return e.setInput(!1)},children:"write"}),"\xa0a response"]})}),Object(u.jsxs)("div",{id:"input-area",children:[Object(u.jsx)("textarea",{id:"text-input",name:"text based prompt response",placeholder:"Please type your response here..."}),Object(u.jsx)(ge,{undoDrawing:e.undoDrawing,redoDrawing:e.redoDrawing,toggleEraser:e.toggleEraser,colours:e.colours,brushSize:e.brushSize,setBrushSize:e.setBrushSize}),Object(u.jsx)(fe,{brushColour:e.colours[0],brushSize:e.brushSize,setDrawingCanvas:e.setDrawingCanvas,setCurrentCanvasState:e.setCurrentCanvasState,setIsDrawing:e.setIsDrawing}),Object(u.jsx)(xe,{colours:e.colours,setCurrentColours:e.setCurrentColours})]})]}),Object(u.jsx)("button",{id:"response-submit-button",onClick:function(){e.submitResponse(),j(!1)},children:"submit my response"})]}),Object(u.jsx)(ae,{responseData:e.responseData,height:e.height,width:e.width}),Object(u.jsx)("div",{id:"bg-vis-wrapper",children:Object(u.jsx)(ie,{shaderName:e.cyclePreset.shaderName,graphicsSettings:S,timer:f,height:e.height,width:e.width,tideData:e.tideData})})]})})}function we(){var e,t=window.matchMedia("all and (any-hover: none)").matches,n=Object(r.useState)([window.innerWidth,window.innerHeight]),i=Object(o.a)(n,2),a=i[0],s=i[1],l=Object(r.useState)(!0),h=Object(o.a)(l,2),p=h[0],m=h[1],j=Object(r.useState)(!0),b=Object(o.a)(j,2),g=b[0],O=b[1],v=Object(r.useState)(0),_=Object(o.a)(v,2),w=_[0],y=_[1],D=Object(r.useState)({tideUp:-1,tideHeight:.8}),E=Object(o.a)(D,2),T=E[0],k=E[1],N=Object(r.useState)(!1),S=Object(o.a)(N,2),C=S[0],H=S[1],U=Object(r.useState)([]),B=Object(o.a)(U,2),L=B[0],I=B[1],M=Object(r.useState)(f[w].colours),A=Object(o.a)(M,2),R=A[0],F=A[1],P=Object(r.useState)(8),W=Object(o.a)(P,2),z=W[0],G=W[1],J=Object(r.useState)(!1),Y=Object(o.a)(J,2),V=Y[0],Q=Y[1],X=Object(r.useRef)(V);Object(r.useEffect)((function(){X.current=V}),[V]);var q=Object(r.useState)(!1),Z=Object(o.a)(q,2),K=Z[0],$=Z[1],ee=Object(r.useState)(null),te=Object(o.a)(ee,2),ne=te[0],re=te[1],ie=Object(r.useState)(null),ae=Object(o.a)(ie,2),se=ae[0],ce=ae[1],oe=Object(r.useRef)(se);Object(r.useEffect)((function(){oe.current=se}),[se]);var de=Object(r.useState)(null),le=Object(o.a)(de,2),ue=le[0],he=le[1],pe=Object(r.useRef)(ue);Object(r.useEffect)((function(){pe.current=ue}),[ue]);var me=Object(r.useState)([]),je=Object(o.a)(me,2),be=je[0],ge=je[1],fe=Object(r.useState)([]),xe=Object(o.a)(fe,2),Oe=xe[0],ve=xe[1],we=Object(r.useRef)(be),ye=Object(r.useRef)(Oe);Object(r.useEffect)((function(){we.current=be}),[be]),Object(r.useEffect)((function(){ye.current=Oe}),[Oe]);var De=Object(r.useState)(!1),Ee=Object(o.a)(De,2),Te=Ee[0],ke=Ee[1];return Object(r.useEffect)((function(){s([window.innerWidth,window.innerHeight]),window.addEventListener("resize",(function(){s([window.innerWidth,window.innerHeight])})),function(){for(var t=Date.now(),n=18e5,r=0;r<x.length;r++)if(t<x[r].endTime){y(r),x[r].endTime-t<n&&(e=setInterval(Se(x[r].endTime),3e5));for(var i=0;i<x[r].tidalData.length;i++)if(t<x[r].tidalData[i].tideEnd){k({tideUp:x[r].tidalData[i].tideUp,tideHeight:x[r].tidalData[i].tideHieght});break}break}}()}),[]),Object(r.useEffect)((function(){F(f[w].colours)}),[w]),Object(u.jsx)("div",{id:"global-wrapper",children:t?Object(u.jsx)("div",{id:"mobile-wrapper",children:Object(u.jsx)("span",{id:"mobile-text",children:"Unfortunately room2.fm is currently not able to operate on mobile devices due to technical restrictions. Please try again on a desktop or laptop computer if you are able to."})}):Object(u.jsx)(_e,{width:a[0],height:a[1],modalIsOpen:p,trackHasUpdated:g,toggleModal:function(){p?document.addEventListener("mouseup",Ne):document.removeEventListener("mouseup",Ne);m(!p)},setIsDrawing:Q,cyclePreset:f[w],currentCycle:w,setCurrentCycle:y,tideData:T,setInput:function(e){e?(H(!0),document.getElementById("drawing-canvas-wrapper").style.zIndex="6",document.getElementById("draw-input-select").classList.add("ActiveInputButton"),document.getElementById("drawing-tools-wrapper").style.right="-25vh",document.getElementById("drawing-buttons-wrapper").style.left="-15vh",document.getElementById("text-input-select").classList.remove("ActiveInputButton")):(H(!1),document.getElementById("drawing-canvas-wrapper").style.zIndex="4",document.getElementById("draw-input-select").classList.remove("ActiveInputButton"),document.getElementById("drawing-tools-wrapper").style.right="",document.getElementById("drawing-buttons-wrapper").style.left="",document.getElementById("text-input-select").classList.add("ActiveInputButton"))},colours:R,setCurrentColours:F,brushSize:z,setBrushSize:G,toggleEraser:function(){K?(se.freeDrawingBrush=ne,document.getElementById("erase-brush-button").classList.remove("Active")):(re(se.freeDrawingBrush),se.freeDrawingBrush=new d.fabric.EraserBrush(se),se.freeDrawingBrush.width=z,document.getElementById("erase-brush-button").classList.add("Active"));$(!K)},setDrawingCanvas:ce,setCurrentCanvasState:he,undoDrawing:function(){if(be.length>0){var e=ue,t=ye.current;t.splice(t.length,0,oe.current.toDatalessJSON()),ve(t);var n=we.current,r=n.pop();he(r),ge(n),se.loadFromJSON(e)}},redoDrawing:function(){if(Oe.length>0){var e=ye.current,t=e.pop(),n=we.current;n.push(pe.current),ge(n),he(se.toDatalessJSON()),ve(e),se.loadFromJSON(t)}},submitResponse:function(){var e=[];if(C){var t=document.getElementById("drawing-canvas"),n=t.toDataURL({format:"png",left:0,top:0,width:t.width,height:t.height}),r=new FormData,i=function(e,t){var n=e.split(","),r=n[0].match(/:(.*?);/)[1],i=atob(n[1]),a=i.length,s=new Uint8Array(a);for(;a--;)s[a]=i.charCodeAt(a);return new File([s],t,{type:r})}(n,"response.png");se.clear(),r.append("upload",i,"cycle_1_response.png"),fetch("http://localhost:33061/api/insertImageReflectionGetResponses",{method:"PUT",body:r}).then((function(e){return e.json()})).then((function(t){try{var n,r=Object(c.a)(t.data);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.push([i.RESPONSE,i.RESPONSE_TYPE])}}catch(a){r.e(a)}finally{r.f()}I(e)}catch(s){console.log(s)}}))}else{var a=document.getElementById("text-input"),s=a.value;s.length>0&&(a.value="",fetch("http://localhost:33061/api/insertTextReflectionGetResponses",{headers:{"Content-type":"application/json"},method:"POST",mode:"cors",body:JSON.stringify({reflection:s,cycleTable:1})}).then((function(e){return e.json()})).then((function(t){try{var n,r=Object(c.a)(t.data);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.push([i.RESPONSE,i.RESPONSE_TYPE])}}catch(a){r.e(a)}finally{r.f()}I(e)}catch(s){console.log(s)}})))}},responseData:L,toggleFocus:function(){var e=Ce(".TextResponseBox"),t=Ce(".ImageResponseBox");Te?(ke(!1),e.style.backgroundColor="",e.style.border="",t.style.backgroundColor="",t.style.border=""):(ke(!0),e.style.backgroundColor="rgb(31, 33, 28)",e.style.border="solid white 1px",t.style.backgroundColor="white",t.style.border="solid rgb(31, 33, 28) 1px")}})});function Ne(){if(X.current){var e=we.current;10===e.length&&e.shift(),e.push(pe.current),he(oe.current.toDatalessJSON()),ge(e),ve([]),Q(!1)}}function Se(t){Date.now()>=t&&(clearInterval(e),O(!0))}function Ce(e){e=e.toLowerCase();var t=null,n=Array.prototype.find;return n.call(document.styleSheets,(function(r){return null!=(t=n.call(r.cssRules,(function(t){return t instanceof CSSStyleRule&&t.selectorText.toLowerCase()===e})))})),t}}s.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(we,{})}),document.getElementById("root"))},61:function(e,t){},62:function(e,t){},63:function(e,t){},64:function(e,t,n){}},[[132,1,2]]]);
//# sourceMappingURL=main.8eb715b7.chunk.js.map