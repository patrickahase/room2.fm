{"version":3,"sources":["content/cyclePresets.js","components/timeCalc.js","components/whereModal.js","components/introModal.js","components/glVis.js","components/responseDisplay.js","components/audioTrackPlayer.js","components/drawingTools.js","components/drawingCanvas.js","components/colourPicker.js","components/settingsMenu.js","components/desktopApp.js","App.js","index.js"],"names":["cyclePresets","introStatement","prompt","trackDetails","artistDetails","href","target","rel","trackLink","artistLink","trackSrc","shaderName","colours","cycleDates","startTime","Date","parse","endTime","tidalData","tideEnd","tideUp","tideHeight","currentDate","now","lat","long","sunTimes","SunCalc","getTimes","sunsetMilli","sunsetStart","sunriseMilli","sunrise","duskMilli","dusk","yesterday","yesterdayTimes","yesterdaySunset","sunset","CountdownCalc","props","countdownDays","currentCycle","toFixed","cycleStartDates","checkhours","num","hours","Math","round","textNum","getCycleMoon","end","cycleEndTime","phase","getMoonIllumination","phasedeg","dividerstyle","transform","className","style","youlat","youlong","sunsetText","nightDiff","dayDiff","yesterdayDiff","getSunset","currentMoonShape","moonShapeArray","map","i","WhereAreYou","useState","whereTerritories","getTerritories","isLoading","setIsLoading","useEffect","getPotentialLocations","then","data","display","flexDirection","alignItems","WhereThrobber","a","getLocationDataFromIp","ipData","getTerritoriesFromLngLat","territories","length","properties","description","Name","commonName","fetch","response","json","latLng","loc","locArray","split","parseFloat","extractLngLat","extractLocationString","x","y","res","catch","e","console","error","city","region","strings","push","country","join","id","width","height","viewBox","xmlns","x1","y1","x2","y2","offset","stopColor","cx","cy","r","stroke","strokeWidth","fill","attributeName","begin","dur","type","from","to","repeatCount","IntroModal","container","document","getElementById","dialog","A11yDialog","show","setIntroModal","modalPages","textAlign","justifyContent","fontSize","onClick","nextModalPage","cyclePreset","toggleModal","tideData","trackHasUpdated","TrackUpdateMessage","role","currentModalPage","NineCycleBar","CurrentCycleBar","setCurrentModalPage","scrollTop","window","removeEventListener","secretKey","key","setCurrentCycle","moonSpheres","opacity","percentage","marginstyle","marginTop","animationName","marginBottom","shaders","Shaders","create","cycleOne","frag","GLSL","cycleTwo","cycleThree","cycleSeven","onecolour","newvis","cycleBlank","GLVis","this","shader","ignoreUnusedUniforms","uniforms","timer","graphicsSettings","Component","ResponseDisplay","responseFadeTime","responsesToDisplay","setResponsesToDisplay","responsesToDisplayRef","useRef","responsesDisplaying","current","setTimeout","displayNextResponse","responseData","modOrderResponses","Array","nextResponse","pop","createImageResponseDisplay","createTextResponseDisplay","concat","imageResponse","newResponseBox","createElement","collision","classList","add","xRandom","random","yRandom","addEventListener","appendChild","responseBoxDimensions","getBoundingClientRect","left","top","colliderArray","getElementsByClassName","detect2DBoxCollision","remove","requestAnimationFrame","responseFadeInOut","src","textResponse","innerHTML","responseElement","transition","box1","box2","right","bottom","AudioTrackPlayer","isPlaying","setIsPlaying","isMuted","setIsMuted","responded","setResponded","audioSource","setAudioSource","audioSourceRef","setAudioSourceRef","timeline","firstChild","currentTime","duration","clickPercent","clientX","offsetWidth","onEnded","pauseTimer","paused","play","startTimer","setAskResponse","pause","PauseIcon","PlayIcon","restartTimer","RewindIcon","muted","MuteIconOff","MuteIconOn","VolumeNotches","volNotchGen","nothing","index","onMouseDown","clickVolumeNotch","onMouseEnter","isMouseDown","stopPropagation","clickedID","parseInt","notches","notch","newVolume","volume","transformOrigin","points","strokeLinejoin","strokeLinecap","d","DrawingTools","brushSize","setBrushSize","toggleEraser","undoDrawing","redoDrawing","DrawingCanvas","canvas","setCanvas","canvasRef","newCanvas","fabric","Canvas","isDrawingMode","canvasWrapper","setWidth","setHeight","offsetHeight","freeDrawingBrush","color","brushColour","freeDrawingCursor","getCustomCursor","on","setIsDrawing","updateCanvasDimensions","setDrawingCanvas","setCurrentCanvasState","toDatalessJSON","circle","btoa","ColourPicker","colourInputChange","log","selectors","cl","contains","setCurrentColours","colourSwap","SwapIcon","name","defaultValue","colNum","newColours","value","markerWidth","markerHeight","refX","refY","orient","markerEnd","SettingsMenu","setDisplay","toggleFocus","changeActiveButton","setGraphicsSettings","displayMode","forEach","button","DesktopApp","askResponse","readyToRespond","setReadyToRespond","setTimer","timerInterval","setTimerInterval","modalIsOpen","clearInterval","setInterval","setInput","placeholder","submitResponse","App","checkEndInterval","onMobile","matchMedia","matches","innerWidth","innerHeight","windowSize","setWindowSize","introModal","setModalIsOpen","setTrackHasUpdated","setTideData","inputIsDraw","setInputIsDraw","setResponseData","currentColours","isDrawing","isDrawingRef","isEraser","setIsEraser","savedBrush","setSavedBrush","drawingCanvas","drawingCanvasRef","currentCanvasState","currentCanvasStateRef","undoStack","setUndoStack","redoStack","setRedoStack","undoStackRef","redoStackRef","focusMode","setFocusMode","halfHour","checkEnd","k","tideHieght","updateCyclePosition","saveCanvasState","hide","changeToDraw","zIndex","EraserBrush","newCanvasState","newRedoStack","splice","newUndoStack","newState","loadFromJSON","returnedResponses","imageInput","dataURL","toDataURL","format","formData","FormData","imageFile","dataurl","filename","arr","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","dataURLtoFile","clear","append","method","body","RESPONSE","RESPONSE_TYPE","textInput","responseText","headers","mode","JSON","stringify","reflection","cycleTable","textResponseRule","getCSSRule","imageResponseRule","backgroundColor","border","shift","ruleName","toLowerCase","result","find","prototype","call","styleSheets","styleSheet","cssRules","cssRule","CSSStyleRule","selectorText","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.4cef1d6d.chunk.js","sourcesContent":["export const cyclePresets = [\r\n  {\r\n    introStatement: \"if you're seeing this the server is having some trouble\",\r\n    prompt: <>Take a deep breath, then continue to breathe along with the rhythm of the track.<br/>Draw or write your interpretation of the textures you hear.</>,\r\n    trackDetails: \"cadence felt between our bodies (with Angelina Nonaj) by J\",\r\n    artistDetails: <><a href=\"Link: https://soundcloud.com/user-29348158\" target=\"_blank\" rel=\"noreferrer\">J</a> (picnic, ju ca) communicates a unique understanding of intimacy, tenderness, and familiarity throughout his work. We have been inspired by his sonic output as well as his record label and publishing platform, Daisart, where he has carved out new spaces and frameworks to explore the intersection of sound, word, and image. We are very grateful to have this tender piece from J and Angelina Nonaj opening this season of room2 async.</>,\r\n    trackLink: \"https://daisart.bandcamp.com/album/my-seat-and-weep\",\r\n    artistLink: \"Link: https://soundcloud.com/user-29348158\",\r\n    trackSrc: \"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/J.mp3\",\r\n    shaderName: \"cycleOne\",\r\n    colours: [\r\n      \"#222323\",\r\n      \"#5252ff\",\r\n      \"#b5e877\"\r\n    ]\r\n  },\r\n  {\r\n    introStatement: \"if you're seeing this the server is having some trouble\",\r\n    prompt: \"this is prompt 2\",\r\n    artistDetails: \"Aarti Jadu\",\r\n    trackDetails: \"IT / THAT\",\r\n    trackLink: \"https://aartijadu.bandcamp.com/track/it-that\",\r\n    artistLink: \"https://aartijadu.bandcamp.com/\",\r\n    trackSrc: \"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/AJ.mp3\",\r\n    shaderName: \"cycleTwo\",\r\n    colours: [\r\n      \"#222323\",\r\n      \"#5252ff\",\r\n      \"#b5e877\"\r\n    ]\r\n  },\r\n  {\r\n    introStatement: \"if you're seeing this the server is having some trouble\",\r\n    prompt: \"this is prompt 3\",\r\n    artistDetails: \"amby downs\",\r\n    trackDetails: \"a lightning ridge opal mine anxiety\",\r\n    trackLink: \"https://daisart.bandcamp.com/album/my-seat-and-weep\",\r\n    artistLink: \"https://daisart.press/\",\r\n    trackSrc: \"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/AD.mp3\",\r\n    shaderName: \"cycleThree\",\r\n    colours: [\r\n      \"#222323\",\r\n      \"#5252ff\",\r\n      \"#b5e877\"\r\n    ]\r\n  },\r\n  {\r\n    introStatement: \"if you're seeing this the server is having some trouble\",\r\n    prompt: \"this is prompt 4\",\r\n    artistDetails: \"Alexandra Spence\",\r\n    trackDetails: \"j - cadence felt between our bodies (with Angelina Nonaj)\",\r\n    trackLink: \"https://daisart.bandcamp.com/album/my-seat-and-weep\",\r\n    artistLink: \"\",\r\n    trackSrc: \"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/J.mp3\",\r\n    shaderName: \"cycleOne\",\r\n    colours: [\r\n      \"#222323\",\r\n      \"#5252ff\",\r\n      \"#b5e877\"\r\n    ]\r\n  },\r\n  {\r\n    introStatement: \"if you're seeing this the server is having some trouble\",\r\n    prompt: \"this is prompt 5\",\r\n    artistDetails: \"E Fishpool\",\r\n    trackDetails: \"j - cadence felt between our bodies (with Angelina Nonaj)\",\r\n    trackLink: \"https://daisart.bandcamp.com/album/my-seat-and-weep\",\r\n    artistLink: \"https://daisart.press/\",\r\n    trackSrc: \"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/J.mp3\",\r\n    shaderName: \"cycleOne\",\r\n    colours: [\r\n      \"#222323\",\r\n      \"#5252ff\",\r\n      \"#b5e877\"\r\n    ]\r\n  },\r\n  {\r\n    introStatement: \"if you're seeing this the server is having some trouble\",\r\n    prompt: \"this is prompt 6\",\r\n    artistDetails: \"ShaYu\",\r\n    trackDetails: \"j - cadence felt between our bodies (with Angelina Nonaj)\",\r\n    trackLink: \"https://daisart.bandcamp.com/album/my-seat-and-weep\",\r\n    artistLink: \"https://daisart.press/\",\r\n    trackSrc: \"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/J.mp3\",\r\n    shaderName: \"cycleOne\",\r\n    colours: [\r\n      \"#222323\",\r\n      \"#5252ff\",\r\n      \"#b5e877\"\r\n    ]\r\n  },\r\n  {\r\n    introStatement: \"if you're seeing this the server is having some trouble\",\r\n    prompt: \"this is prompt 7\",\r\n    artistDetails: \"salllvage\",\r\n    trackDetails: \"bells for him\",\r\n    trackLink: \"https://daisart.bandcamp.com/album/my-seat-and-weep\",\r\n    artistLink: \"https://daisart.press/\",\r\n    trackSrc: \"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/S.mp3\",\r\n    shaderName: \"cycleSeven\",\r\n    colours: [\r\n      \"#222323\",\r\n      \"#5252ff\",\r\n      \"#b5e877\"\r\n    ]\r\n  },\r\n  {\r\n    introStatement: \"if you're seeing this the server is having some trouble\",\r\n    prompt: \"this is prompt 8\",\r\n    artistDetails: \"R. Rebeiro\",\r\n    trackDetails: \"j - cadence felt between our bodies (with Angelina Nonaj)\",\r\n    trackLink: \"https://daisart.bandcamp.com/album/my-seat-and-weep\",\r\n    artistLink: \"https://daisart.press/\",\r\n    trackSrc: \"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/J.mp3\",\r\n    shaderName: \"cycleOne\",\r\n    colours: [\r\n      \"#222323\",\r\n      \"#5252ff\",\r\n      \"#b5e877\"\r\n    ]\r\n  },\r\n  {\r\n    introStatement: \"if you're seeing this the server is having some trouble\",\r\n    prompt: \"this is prompt 9\",\r\n    artistDetails: \"j - cadence felt between our bodies (with Angelina Nonaj)\",\r\n    trackDetails: \"j - cadence felt between our bodies (with Angelina Nonaj)\",\r\n    trackLink: \"https://daisart.bandcamp.com/album/my-seat-and-weep\",\r\n    artistLink: \"https://daisart.press/\",\r\n    trackSrc: \"https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/room2-async-tracks/J.mp3\",\r\n    shaderName: \"cycleOne\",\r\n    colours: [\r\n      \"#222323\",\r\n      \"#5252ff\",\r\n      \"#b5e877\"\r\n    ]\r\n  }\r\n]\r\n\r\nexport const cycleDates = [\r\n  { \r\n    startTime: Date.parse(\"2022-08-28T17:55+10:00\"), \r\n    endTime: Date.parse(\"2022-08-31T17:58:51+10:00\"),\r\n    tidalData: [\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-29T03:41+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.8\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-29T10:25+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.28\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-29T16:52+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.89\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-29T23:05+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.42\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-30T04:33+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.83\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-30T11:05+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.31\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-30T17:20+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.9\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-30T23:42+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.38\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-31T05:20+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.87\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-31T11:40+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.34\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-31T17:46+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.92\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    startTime: Date.parse(\"2022-08-31T17:58:51+10:00\"),\r\n    endTime: Date.parse(\"2022-09-03T18:01:21+10:00\"),\r\n    tidalData: [\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-01T00:15+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.34\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-01T06:04+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.89\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-01T12:13+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.37\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-01T18:15+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.93\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-02T00:52+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.31\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-02T06:48+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.91\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-02T12:45+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.41\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-02T18:43+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.95\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-03T01:30+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.29\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-03T07:34+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.91\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-03T13:20+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.45\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    startTime: Date.parse(\"2022-09-03T18:01:21+10:00\"),\r\n    endTime: Date.parse(\"2022-09-06T18:03:50+10:00\"),\r\n    tidalData: [\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-03T19:13+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.96\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-04T02:10+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.27\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-04T08:22+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.89\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-04T13:57+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.49\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-04T19:45+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.96\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-05T02:52+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.25\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-05T09:14+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.87\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-05T14:37+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.52\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-05T20:20+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.95\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-06T03:37+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.24\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-06T10:14+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.84\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-06T15:24+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.56\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    startTime: Date.parse(\"2022-09-06T18:03:50+10:00\"),\r\n    endTime: Date.parse(\"2022-09-09T18:06:18+10:00\"),\r\n    tidalData: [\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-06T21:04+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.94\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-07T04:30+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.23\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-07T11:26+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.82\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-07T16:20+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.58\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-07T22:02+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.91\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-08T05:31+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.23\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-08T12:41+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.81\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-08T17:37+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.58\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-08T23:18+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.87\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-09T06:44+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.23\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-09T13:50+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.82\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    startTime: Date.parse(\"2022-09-09T18:06:18+10:00\"),\r\n    endTime: Date.parse(\"2022-09-12T18:08:47+10:00\"),\r\n    tidalData: [\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-09T19:12+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.56\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-10T00:41+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.84\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-10T08:00+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.23\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-10T14:50+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.84\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-10T20:55+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.49\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-11T02:11+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.84\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-11T09:15+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.25\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-11T15:41+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.86\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-11T22:02+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.40\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-12T03:31+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.87\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-12T10:16+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.27\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-12T16:23+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.89\r\n      } \r\n    ]\r\n  },\r\n  {\r\n    startTime: Date.parse(\"2022-09-12T18:08:47+10:00\"),\r\n    endTime: Date.parse(\"2022-09-15T18:11:16+10:00\"),\r\n    tidalData: [\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-12T22:53+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.33\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-13T04:33+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.90\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-13T11:06+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.30\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-13T17:01+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.91\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-13T23:37+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.28\r\n      }, \r\n      {\r\n        tideEnd: Date.parse(\"2022-09-14T05:26+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.92\r\n      }, \r\n      {\r\n        tideEnd: Date.parse(\"2022-09-14T11:49+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.34\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-14T17:36+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.92\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-15T00:16+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.26\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-15T06:15+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.93\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-15T12:28+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.37\r\n      },\r\n      { //cool that this cycle ends at the same time as high tide is timestamped\r\n        tideEnd: Date.parse(\"2022-09-15T18:11+10:00\"), \r\n        tideUp: 1.0,\r\n        tideHeight: 0.94\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    startTime: Date.parse(\"2022-09-15T18:11:16+10:00\"),\r\n    endTime: Date.parse(\"2022-09-18T18:13:45+10:00\"),\r\n    tidalData: [\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-16T00:54+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.25\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-16T07:00+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.93\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-16T13:04+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.41\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-16T18:45+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.94\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-17T01:30+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.25\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-17T07:45+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.92\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-17T13:39+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.44\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-17T19:16+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.94\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-18T02:05+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.25\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-18T08:30+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.90\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-18T14:13+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.46\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    startTime: Date.parse(\"2022-09-18T18:13:45+10:00\"),\r\n    endTime: Date.parse(\"2022-09-21T18:16:15+10:00\"),\r\n    tidalData: [\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-18T19:48+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.92\r\n      }, \r\n      {\r\n        tideEnd: Date.parse(\"2022-09-19T02:42+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.25\r\n      }, \r\n      {\r\n        tideEnd: Date.parse(\"2022-09-19T09:15+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.87\r\n      }, \r\n      {\r\n        tideEnd: Date.parse(\"2022-09-19T14:46+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.49\r\n      }, \r\n      {\r\n        tideEnd: Date.parse(\"2022-09-19T20:20+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.90\r\n      }, \r\n      {\r\n        tideEnd: Date.parse(\"2022-09-20T03:19+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.26\r\n      }, \r\n      {\r\n        tideEnd: Date.parse(\"2022-09-20T10:02+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.84\r\n      }, \r\n      {\r\n        tideEnd: Date.parse(\"2022-09-20T15:22+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.52\r\n      }, \r\n      {\r\n        tideEnd: Date.parse(\"2022-09-20T20:55+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.87\r\n      }, \r\n      {\r\n        tideEnd: Date.parse(\"2022-09-21T04:00+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.26\r\n      }, \r\n      {\r\n        tideEnd: Date.parse(\"2022-09-21T10:54+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.81\r\n      }, \r\n      {\r\n        tideEnd: Date.parse(\"2022-09-21T16:03+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.54\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    startTime: Date.parse(\"2022-09-21T18:16:15+10:00\"),\r\n    endTime: Date.parse(\"2022-09-24T18:18:46+10:00\"),\r\n    tidalData: [\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-21T21:36+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.82\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-22T04:46+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.28\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-22T11:54+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.79\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-22T16:56+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.56\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-22T22:31+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.77\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-23T05:45+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.29\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-23T12:59+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.78\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-23T18:15+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.56\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-23T23:47+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.74\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-24T06:59+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.31\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-09-24T13:58+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.79\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\n\r\n//https://docs.google.com/document/d/1q8UpFuTYy_0QZwoyxDSckXssbbEfQcUgIek9xCErQZ0/edit\r\n//http://www.bom.gov.au/ntc/IDO59001/IDO59001_2022_VIC_TP003.pdf\r\n\r\n/*  {\r\n    endTime: Date.parse(\"2022-08-06T17:52+10:00\"),\r\n    tidalData: [\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-06T13:15+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.8\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-06T13:17+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.2\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-06T13:19+10:00\"),\r\n        tideUp: 1.0,\r\n        tideHeight: 0.9\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-06T13:21+10:00\"),\r\n        tideUp: -1.0,\r\n        tideHeight: 0.3\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    endTime: Date.parse(\"2022-08-07T17:52+10:00\"),\r\n    tidalData: [\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-07T12:52+10:00\"),\r\n        tideUp: true,\r\n        tideHeight: 0.8\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-07T12:52+10:00\"),\r\n        tideUp: false,\r\n        tideHeight: 0.2\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-07T12:52+10:00\"),\r\n        tideUp: true,\r\n        tideHeight: 0.9\r\n      },\r\n      {\r\n        tideEnd: Date.parse(\"2022-08-07T12:52+10:00\"),\r\n        tideUp: false,\r\n        tideHeight: 0.3\r\n      },\r\n    ]\r\n  }, */","import React from 'react';\r\nimport SunCalc from 'suncalc'; \r\nimport {cycleDates } from '../content/cyclePresets'\r\n\r\nconst currentDate = Date.now(); \r\nconst lat = -37.803193437556054; //latitude and longitude set to Arts House Nth Melbourne\r\nconst long = 144.94984320919224;\r\nconst sunTimes = SunCalc.getTimes(currentDate, lat, long);\r\nconst sunsetMilli = Date.parse(sunTimes.sunsetStart);\r\nconst sunriseMilli = Date.parse(sunTimes.sunrise);\r\nconst duskMilli = Date.parse(sunTimes.dusk);\r\nvar twentyfour = 1000 * 60 * 60 * 24;\r\nconst yesterday = currentDate - twentyfour;\r\nconst yesterdayTimes = SunCalc.getTimes(yesterday, lat, long);\r\nconst yesterdaySunset = Date.parse (yesterdayTimes.sunset);\r\n\r\nexport default function CountdownCalc (props) {\r\n  var remainingMilli = cycleDates[props.currentCycle].endTime - currentDate;\r\n  var countdownDays = remainingMilli / 1000 / 60 / 60 / 24;\r\n  countdownDays = countdownDays.toFixed(2);\r\n  // b/w sunset and midnight is approx 6 hours = 0.25 of a day\r\n  //need to work on countdowncalc so that edge cases (eg. before midnight on night of changeover) is more accurate\r\n  if (countdownDays >= 2.75) {\r\n    return (\r\n      <>\r\n      <span>\r\n        The track/prompt/visual cycle will change in about three days' time, as the sun is setting.\r\n      </span>\r\n      </>\r\n    )\r\n  } else if (countdownDays <= 2.74 && countdownDays >= 1.75) {\r\n    return (\r\n      <>\r\n      <span>\r\n        The track/prompt/visual cycle will change the day after tomorrow, as the sun is setting.\r\n      </span>\r\n      </>\r\n    )\r\n  }\r\n    else if (countdownDays <= 1.74 && countdownDays >= 0.75) {\r\n    return (\r\n      <>\r\n      <span>\r\n        The track/prompt/visual cycle will change tomorrow, as the sun is setting.\r\n      </span>\r\n      </>\r\n    )\r\n  } else if (countdownDays <= 0.74) {\r\n    return (\r\n      <>\r\n      <span>\r\n        The track/prompt/visual cycle will change today, as the sun is setting.\r\n      </span>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nvar cycleStartDates = [\r\n  Date.parse(\"2022-08-28T17:55+10:00\"),\r\n  Date.parse(\"2022-08-31T17:58:51+10:00\"),\r\n  Date.parse(\"2022-09-03T18:01:21+10:00\"),\r\n  Date.parse(\"2022-09-06T18:03:50+10:00\"),\r\n  Date.parse(\"2022-09-09T18:06:18+10:00\"),\r\n  Date.parse(\"2022-09-12T18:08:47+10:00\"),\r\n  Date.parse(\"2022-09-15T18:11:16+10:00\"),\r\n  Date.parse(\"2022-09-18T18:13:45+10:00\"),\r\n  Date.parse(\"2022-09-21T18:16:15+10:00\")\r\n]; //manually entered these dates so test dates don't mess with it\r\n\r\nfunction getSunset () {\r\n  if (currentDate > sunsetMilli) {\r\n    //nighttime\r\n      if (currentDate <= duskMilli) {\r\n        return (\r\n          <>\r\n            <span>\r\n            The sun is setting.\r\n            </span>\r\n          </>\r\n        )\r\n      } else {\r\n        var nightDiffMilli = currentDate - sunsetMilli;\r\n        var nightDiffMin = nightDiffMilli / 1000 / 60;\r\n        var nightDiff = checkhours(nightDiffMin);\r\n        return (\r\n          <>\r\n          <span>\r\n          Tonight, the sun set {nightDiff} ago.\r\n          </span>\r\n          </>\r\n        )\r\n      }\r\n  } else if (currentDate < sunsetMilli && currentDate > sunriseMilli) {\r\n    //daytime\r\n    var dayDiffMilli = sunsetMilli - currentDate;\r\n    var dayDiffMin = dayDiffMilli / 1000 / 60;\r\n    var dayDiff = checkhours(dayDiffMin);\r\n    return (\r\n      <>\r\n        <span>\r\n          The sun will set in {dayDiff}.\r\n        </span>\r\n        </>\r\n    )\r\n  } else {\r\n    //morning\r\n    var yesterdayDiffMilli = currentDate - yesterdaySunset;\r\n    var yesterdayDiffMin = yesterdayDiffMilli / 1000 / 60;\r\n    var yesterdayDiff = checkhours(yesterdayDiffMin);\r\n    return (\r\n      <>\r\n        <span>\r\n        The sun set {yesterdayDiff} ago.\r\n        </span>\r\n        </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction checkhours(num) {\r\n  if (num < 60) {\r\n    return (\r\n      <>\r\n      <span>\r\n        less than an hour\r\n      </span>\r\n      </>\r\n      )\r\n  } else if (num > 60 && num < 90) {\r\n    return (\r\n      <>\r\n      <span>\r\n    about an hour\r\n    </span>\r\n    </>\r\n    )\r\n  } else {\r\n    var hours = Math.round(num / 60);\r\n    hours = textNum(hours);\r\n    return(\r\n    <>\r\n    <span>\r\n      about {hours} hours\r\n    </span>\r\n    </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction textNum (num) {\r\n  if (num === 1) {\r\n    return (\r\n      <>\r\n      one\r\n      </>\r\n    )\r\n  } else if (num === 2) {\r\n    return (\r\n      <>\r\n      two \r\n      </>\r\n    )\r\n  } else if (num === 3) {\r\n    return (\r\n      <>\r\n      three\r\n      </>\r\n    )\r\n  } else if (num === 4) {\r\n    return (\r\n      <>\r\n      four\r\n      </>\r\n    ) \r\n  } else if (num === 5) {\r\n    return (\r\n      <>\r\n      five\r\n      </>\r\n    )\r\n  } else if (num === 6) {\r\n    return (\r\n      <>\r\n      six\r\n      </>\r\n    )\r\n  } else if (num === 7) {\r\n    return (\r\n      <>\r\n      seven\r\n      </>\r\n    )\r\n  } else if (num === 8) {\r\n    return (\r\n      <>\r\n      eight\r\n      </>\r\n    )\r\n  } else if (num === 9) {\r\n    return (\r\n      <>\r\n      nine\r\n      </>\r\n    )\r\n  } else if (num === 10) {\r\n    return (\r\n      <>\r\n      ten\r\n      </>\r\n    )\r\n  } else if (num === 11) {\r\n    return (\r\n      <>\r\n      eleven\r\n      </>\r\n    )\r\n  } else if (num === 12) {\r\n    return (\r\n      <>\r\n      twelve\r\n      </>\r\n    )\r\n  } else {\r\n    return (\r\n      <>\r\n      {num}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction getCycleMoon (end) {\r\n  var cycleEndTime = new Date(end);\r\n  var endMoon = SunCalc.getMoonIllumination(cycleEndTime, lat, long);\r\n  var phase = endMoon.phase; \r\n  phase = Math.round(phase * 100);\r\n  var phasedeg = 3.6 * phase;\r\n  var dividerstyle = {transform: \"rotate3d(0, 1, 0, \" + phasedeg + \"deg)\",}\r\n  return (\r\n  <>\r\n    <div className=\"moonsphere\">\r\n    <div className=\r\n    {phasedeg > 180 \r\n        ? \"moondark hemisphere\"\r\n        : \"moonlight hemisphere\"\r\n      }\r\n    ></div>\r\n      \r\n    <div className=\r\n      {phasedeg > 180 \r\n      ? \"moonlight hemisphere\"\r\n      : \"moondark hemisphere\"\r\n      }\r\n    ></div>\r\n      \r\n    <div className=\"moondivider\" style={dividerstyle}></div>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport const sunsetText = getSunset();\r\n\r\nexport const currentMoonShape = getCycleMoon(currentDate);\r\n\r\nexport const moonShapeArray = cycleStartDates.map(i =>\r\n  {return getCycleMoon(i)}\r\n)\r\n\r\n/* SunCalc values for sunset changeover (maybe use these values for transitioning b/w tracks) — \r\ngoldenHour | evening golden hour starts\r\nsunsetStart | sunset starts (bottom edge of the sun touches the horizon)\r\nsunset | sunset (sun disappears below the horizon, evening civil twilight starts)\r\ndusk | dusk (evening nautical twilight starts)\r\n*/\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nconst IP_API = 'https://ipinfo.io/json?token=9f90c3a3f131ff' \r\nconst NATIVE_LAND_API = 'https://native-land.ca/api/index.php'\r\nvar youlat;\r\nvar youlong; \r\n\r\nexport default function WhereAreYou () {\r\n  const [whereTerritories, getTerritories] = useState([]);\r\n  \r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    getPotentialLocations()\r\n    .then(data => {\r\n      setIsLoading(false);\r\n      getTerritories(data);\r\n    }      \r\n    );\r\n   }, [])\r\n\r\n  return (<div style={{display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\r\n    <p>Where are you visiting from?</p>\r\n  {isLoading\r\n    ? <WhereThrobber />\r\n    : <>{whereTerritories}</> \r\n    }\r\n    \r\n  </div>)\r\n}\r\n\r\nasync function getPotentialLocations() {  \r\n  const ipData = await getLocationDataFromIp();\r\n  if (!ipData) return <>\r\n  <span>We couldn't access your IP, and couldn't find information information about indigenous nations at your location, but this does not mean that there aren't any.\r\n    Do you know whose land you're on?*\r\n  </span>\r\n  <br />\r\n  <span className=\"ModalTextSmall\">\r\n  <span className=\"astrix\">*</span> \r\n    The information presented here is derived from the maps at <a href=\"https://native-land.ca/\" target=\"_blank\" rel=\"noreferrer\">Native Land Digital</a>, cross-referenced with data from <a href=\"https://ipinfo.io/\" target=\"_blank\" rel=\"noreferrer\">ipinfo.io</a>. \r\n    Note that this is based on your internet service provider's location, and may be incorrect for your actual physical location. \r\n    This is not authoritative or representative and should be approached critically.\r\n    Code is adapted from <i>Where Are We</i>, which you can learn more about on <a href=\"https://github.com/e-e-e/where-are-we\" target=\"_blank\" rel=\"noreferrer\">GitHub</a>. Your IP data is not stored.\r\n  </span>\r\n  </>\r\n  const territories = await getTerritoriesFromLngLat(youlat, youlong)\r\n\r\n  if (territories.length === 1) {\r\n    return (\r\n    <>\r\n    <span>Your IP suggests that you may be on <a href={territories[0].properties.description} target='_blank' rel=\"noreferrer\">{territories[0].properties.Name}</a> country, otherwise known as {ipData.commonName}.*</span>\r\n    <br />\r\n    <span className=\"ModalTextSmall\">\r\n    <span className=\"astrix\">*</span> \r\n    The information presented here is derived from the maps at <a href=\"https://native-land.ca/\" target=\"_blank\" rel=\"noreferrer\">Native Land Digital</a>, cross-referenced with data from <a href=\"https://ipinfo.io/\" target=\"_blank\" rel=\"noreferrer\">ipinfo.io</a>. \r\n    Note that this is based on your internet service provider's location, and may be incorrect for your actual physical location. \r\n    This is not authoritative or representative and should be approached critically.\r\n    Code is adapted from <i>Where Are We</i>, which you can learn more about on <a href=\"https://github.com/e-e-e/where-are-we\" target=\"_blank\" rel=\"noreferrer\">GitHub</a>. Your IP data is not stored.\r\n    </span>\r\n    </>\r\n    )\r\n  } else if (territories.length > 1) {\r\n    return <>\r\n    <span>Your IP suggests that you may be on <a href={territories[0].properties.description} target='_blank' rel=\"noreferrer\"> {territories[0].properties.Name}</a> and/or <a href={territories[1].properties.description} target='_blank' rel=\"noreferrer\"> {territories[1].properties.Name}</a> country, otherwise known as {ipData.commonName}.*</span>\r\n    <br />\r\n    <span className=\"ModalTextSmall\">\r\n    <span className=\"astrix\">*</span> \r\n    The information presented here is derived from the maps at <a href=\"https://native-land.ca/\" target=\"_blank\" rel=\"noreferrer\">Native Land Digital</a>, cross-referenced with data from <a href=\"https://ipinfo.io/\" target=\"_blank\" rel=\"noreferrer\">ipinfo.io</a>. \r\n    Note that this is based on your internet service provider's location, and may be incorrect for your actual physical location. \r\n    This is not authoritative or representative and should be approached critically.\r\n    Code is adapted from <i>Where Are We</i>, which you can learn more about on <a href=\"https://github.com/e-e-e/where-are-we\" target=\"_blank\" rel=\"noreferrer\">GitHub</a>. Your IP data is not stored.\r\n    </span>\r\n    </>\r\n  } else {\r\n    return <>\r\n    <span>Your IP suggests that you may be in {ipData.commonName}. We cannot find information about indigenous nations at this location, but this does not mean that there aren't any. Do you know whose land you're on?*</span>\r\n    <br />\r\n    <span className=\"ModalTextSmall\">\r\n    <span className=\"astrix\">*</span> \r\n    The information presented here is derived from the maps at <a href=\"https://native-land.ca/\" target=\"_blank\" rel=\"noreferrer\">Native Land Digital</a>, cross-referenced with data from <a href=\"https://ipinfo.io/\" target=\"_blank\" rel=\"noreferrer\">ipinfo.io</a>. \r\n    Note that this is based on your internet service provider's location, and may be incorrect for your actual physical location. \r\n    This is not authoritative or representative and should be approached critically.\r\n    Code is adapted from <i>Where Are We</i>, which you can learn more about on <a href=\"https://github.com/e-e-e/where-are-we\" target=\"_blank\" rel=\"noreferrer\">GitHub</a>. Your IP data is not stored.\r\n    </span>\r\n    </>\r\n  }\r\n  \r\n  }\r\n  \r\n  function getLocationDataFromIp() {\r\n    \r\n  return fetch(IP_API)\r\n  .then((response) => response.json())\r\n  .then((data) => {\r\n  const latLng = extractLngLat(data)\r\n  //console.log(latLng)\r\n  return latLng\r\n    ? {\r\n        ...latLng,\r\n        commonName: extractLocationString(data) ?? '',\r\n      }\r\n    : null\r\n  })\r\n  }\r\n  \r\n  function extractLngLat(data) {\r\n  if (!data) return null\r\n  if (!data.loc || typeof data.loc !== 'string') return null\r\n  const locArray = data.loc.split(',')\r\n  if (locArray.length !== 2) return null\r\n  youlat = parseFloat(locArray[0])\r\n  youlong = parseFloat(locArray[1])\r\n  \r\n  if (youlat == null || youlong == null) return null\r\n  return {\r\n  youlat,\r\n  youlong,\r\n  }\r\n  }\r\n  \r\n  function getTerritoriesFromLngLat(x, y) {\r\n  return fetch(\r\n  `${NATIVE_LAND_API}?maps=territories&position=${x},${y}`\r\n  )\r\n  .then((res) => res.json())\r\n  .catch((e) => {\r\n  console.error(e)\r\n  return []\r\n  })\r\n  }\r\n\r\n  function toTerritoryInfo(features) {\r\n    return features\r\n      .map((feature) => {\r\n        const name = feature.properties.Name\r\n        const link = feature.properties.description\r\n        return name\r\n          ? {\r\n              name,\r\n              link,\r\n            }\r\n          : undefined\r\n      })\r\n  }\r\n  \r\n  \r\n  function extractLocationString(data) {\r\n  if (!data) return null\r\n  if (!data.city && !data.region) return null\r\n  const strings = []\r\n  data.city && strings.push(data.city)\r\n  data.region && strings.push(data.region)\r\n  data.country && strings.push(data.country)\r\n  return strings.join(', ')\r\n  }\r\n\r\n  function WhereThrobber(){\r\n    return (\r\n      <div id=\"modal-throbber\">\r\n        <svg\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n          viewBox=\"0 0 100 100\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          transform=\"\">\r\n            <defs>\r\n              <linearGradient id=\"grad1\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n                <stop offset=\"0%\" stopColor=\"#b5e877\"/>\r\n                <stop offset=\"100%\" stopColor=\"#5252ff\"/>\r\n              </linearGradient>\r\n            </defs>\r\n            \r\n            <circle cx=\"50\" cy=\"50\" r=\"40\" stroke=\"url(#grad1)\" strokeWidth=\"10\" fill=\"transparent\">\r\n              <animateTransform\r\n                attributeName=\"transform\"\r\n                begin=\"0s\"\r\n                dur=\"1s\"\r\n                type=\"rotate\"\r\n                from=\"0 50 50\"\r\n                to=\"360 50 50\"\r\n                repeatCount=\"indefinite\"\r\n              />\r\n            </circle>                \r\n        </svg>\r\n      </div>\r\n      \r\n    )\r\n  }\r\n","import React, { useEffect } from 'react';\r\nimport A11yDialog from 'a11y-dialog';\r\nimport CountdownCalc, {sunsetText, currentMoonShape, moonShapeArray} from './timeCalc';\r\nimport { cycleDates } from '../content/cyclePresets';\r\nimport WhereAreYou from './whereModal';\r\n\r\nexport default function IntroModal(props) {\r\n  \r\n  // run init on load\r\n  useEffect(() => {\r\n    const container = document.getElementById(\"AOC-modal\");\r\n    const dialog = new A11yDialog(container);\r\n    dialog.show();\r\n    props.setIntroModal(dialog);\r\n    \r\n   // window.addEventListener(\"keydown\", secretKey);\r\n  },[]);\r\n\r\n  let modalPages = [\r\n    //page 1 Logo - no continue button on this one if the site needs to get closed\r\n    <div id=\"logo-wrapper\">\r\n      <div id=\"text-logo\">\r\n        <pre id=\"pre-logo-wrapper\">\r\n          <div id=\"logo-line-1\">__________________________________________________________________<u className=\"text-gradient-1\">/\\\\\\\\\\\\\\\\\\</u>_____        <br/></div>\r\n          <div id=\"logo-line-2\">&nbsp;________________________________________________________________<u className=\"text-gradient-2\">/\\\\\\///////\\\\\\</u>___       <br/></div>\r\n          <div id=\"logo-line-3\">&nbsp;&nbsp;_______________________________________________________________<u className=\"text-gradient-3\">\\///</u>______<u className=\"text-gradient-3\">\\//\\\\\\</u>__      <br/></div>\r\n          <div id=\"logo-line-4\">&nbsp;&nbsp;&nbsp;__<u className=\"text-gradient-4\">/\\\\/\\\\\\\\\\\\\\</u>______<u className=\"text-gradient-4\">/\\\\\\\\\\</u>________<u className=\"text-gradient-4\">/\\\\\\\\\\</u>_______<u className=\"text-gradient-4\">/\\\\\\\\\\</u>__<u className=\"text-gradient-4\">/\\\\\\\\\\</u>_____________<u className=\"text-gradient-4\">/\\\\\\/</u>___     <br/></div>\r\n          <div id=\"logo-line-5\">&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-5\">\\/\\\\\\/////\\\\\\</u>___<u className=\"text-gradient-5\">/\\\\\\///\\\\\\</u>____<u className=\"text-gradient-5\">/\\\\\\///\\\\\\</u>___<u className=\"text-gradient-5\">/\\\\\\///\\\\\\\\\\///\\\\\\</u>________<u className=\"text-gradient-5\">/\\\\\\//</u>_____    <br/></div>\r\n          <div id=\"logo-line-6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-6\">\\/\\\\\\</u>___<u className=\"text-gradient-6\">\\///</u>___<u className=\"text-gradient-6\">/\\\\\\</u>__<u className=\"text-gradient-6\">\\//\\\\\\</u>__<u className=\"text-gradient-6\">/\\\\\\</u>__<u className=\"text-gradient-6\">\\//\\\\\\</u>_<u className=\"text-gradient-6\">\\/\\\\\\</u>_<u className=\"text-gradient-6\">\\//\\\\\\</u>__<u className=\"text-gradient-6\">\\/\\\\\\</u>_____<u className=\"text-gradient-6\">/\\\\\\//</u>________   <br/></div>\r\n          <div id=\"logo-line-7\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-7\">\\/\\\\\\</u>_________<u className=\"text-gradient-7\">\\//\\\\\\</u>__<u className=\"text-gradient-7\">/\\\\\\</u>__<u className=\"text-gradient-7\">\\//\\\\\\</u>__<u className=\"text-gradient-7\">/\\\\\\</u>__<u className=\"text-gradient-7\">\\/\\\\\\</u>__<u className=\"text-gradient-7\">\\/\\\\\\</u>__<u className=\"text-gradient-7\">\\/\\\\\\</u>___<u className=\"text-gradient-7\">/\\\\\\/</u>___________  <br/></div>\r\n          <div id=\"logo-line-8\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-8\">\\/\\\\\\</u>__________<u className=\"text-gradient-8\">\\///\\\\\\\\\\/</u>____<u className=\"text-gradient-8\">\\///\\\\\\\\\\/</u>___<u className=\"text-gradient-8\">\\/\\\\\\</u>__<u className=\"text-gradient-8\">\\/\\\\\\</u>__<u className=\"text-gradient-8\">\\/\\\\\\</u>__<u className=\"text-gradient-8\">/\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\</u>_ <br/></div>\r\n          <div id=\"logo-line-9\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-9\">\\///</u>_____________<u className=\"text-gradient-9\">\\/////</u>________<u className=\"text-gradient-9\">\\/////</u>_____<u className=\"text-gradient-9\">\\///</u>___<u className=\"text-gradient-9\">\\///</u>___<u className=\"text-gradient-9\">\\///</u>__<u className=\"text-gradient-9\">\\///////////////</u>__<br/></div>\r\n        </pre>            \r\n      </div>\r\n    </div>,\r\n  \r\n    //page 2 AOC\r\n    <div id=\"modal-page-wrapper\">\r\n      <div id=\"modal-text-wrapper\" className=\"modal-text-wrapper-aoc\" style={{textAlign: 'center'}}>\r\n          <div id=\"modal-text\" style={{alignItems: 'center', justifyContent: 'space-around'}}>\r\n            <p style={{fontSize: \"1.75rem\"}}>\r\n              This website was produced and is maintained on the unceded territory of the Bunurong Boon Wurrung and Wurundjeri Woi \r\n              Wurrung peoples of the Eastern Kulin Nation, the Traditional Custodians of the land. We recognise their ongoing legacy \r\n              of connection to land, waters and culture and pay respect to their Elders past and present. We extend this respect to \r\n              all other First Nations peoples and Traditional Custodians whose land the material pathways that allow our digital \r\n              connectivity are built upon.\r\n            </p>\r\n            <WhereAreYou />\r\n          </div>          \r\n      </div>\r\n      <button id=\"modal-continue-button\" onClick={() => nextModalPage()}> Continue </button>\r\n    </div>,\r\n  \r\n    //page 3 Welcome\r\n    <div id=\"modal-page-wrapper\">\r\n      <div id=\"modal-title-wrapper\">\r\n        <div id=\"modal-title\">\r\n          Welcome to room2.fm async\r\n        </div>\r\n        <hr />\r\n      </div>\r\n      <div id=\"modal-text-wrapper\">\r\n          <div id=\"modal-text\">\r\n            <p>\r\n              The current cycle's track is:\r\n              <br />\r\n              <span style={{fontSize: '1.95rem'}}>{props.cyclePreset.trackDetails}</span>\r\n            </p>\r\n            <p>{props.cyclePreset.artistDetails}</p>\r\n            <p>\r\n              room2.fm is a digital space for collective reflection, sharing, and vulnerability. Upon entering you will be presented with \r\n              an audio track and a written prompt which you can respond to via your choice of writing or drawing. You can then anonymously \r\n              submit your response to the room2 server after which you will be able to view responses others have also shared.\r\n            </p>\r\n            <p>\r\n              There is no right or wrong way for you to listen, respond to, or feel a piece of music or sound. We encourage you to \r\n              trust your ears and intuition and respond sincerely and in whatever way feels true to your experience.\r\n            </p>\r\n            <p className=\"ModalTextSmall\">\r\n              This iteration of room2.fm is part of the wider <a href=\"https://bleedonline.net/\" target=\"_blank\" rel=\"noreferrer\">BLEED</a> program.\r\n              <br />\r\n              <br />\r\n              This website has been optimised to run with the window maximised on Chrome and Firefox on a desktop or laptop screen. \r\n              If you are having issues, please try using one of these browsers or changing the graphics settings.\r\n              <br />\r\n              <br />\r\n              If you would like a high-contrast version of the response text with no distortion please click 'Focus Mode' button.\r\n          </p>\r\n          </div>\r\n      </div>        \r\n      <button id=\"modal-continue-button\" onClick={() => {nextModalPage(); props.toggleModal();}}> Enter </button>\r\n    </div>,\r\n  \r\n    //page 4 Instructions\r\n    <div id=\"modal-page-wrapper\">\r\n      <div id=\"modal-title-wrapper\">\r\n        <div id=\"modal-title\">\r\n          room2.fm async\r\n        </div>\r\n        <hr />\r\n      </div>\r\n      <div id=\"modal-text-wrapper\">\r\n          <div id=\"modal-text\">\r\n            <p style={{fontSize: '1.2rem'}}>\r\n            The current cycle's track is:\r\n            <br />\r\n            <span style={{fontSize: '1.95rem'}}>{props.cyclePreset.trackDetails}</span>\r\n            <br />  \r\n            <br />\r\n            {sunsetText}\r\n            {props.tideData.tideUp === 1\r\n            ? <> In nearby waterways, the tide is rising. </>\r\n            : <> In nearby waterways, the tide is falling. </>\r\n            }\r\n            {props.trackHasUpdated\r\n            ? <TrackUpdateMessage />\r\n            : <CountdownCalc currentCycle={props.currentCycle}/>            \r\n            }            \r\n            <br />\r\n            <br />\r\n            <span>\r\n              room2.fm is a digital space for collective reflection, sharing, and vulnerability. For four weeks across the course \r\n              of <a href=\"https://bleedonline.net/\" target=\"_blank\" rel=\"noreferrer\">BLEED</a> room2 will be presenting nine  \r\n              cycles of music accompanied by reflective writen prompts and generative graphics. The cycles will change approximately \r\n              every three days, while the sun is setting in Narrm — with times set to 'Australian Eastern Standard Time' or GMT+10, and \r\n              location and climate info set to the approximate coordinates of Arts House in North Melbourne on Boon Wurrung and Wurundjeri Country.\r\n            </span>            \r\n            <br />  \r\n            <br />\r\n            <span>\r\n              The only information we record from your visit to room2 is the response itself and the time it was submitted.\r\n            </span>\r\n            </p>\r\n\r\n            <span className=\"ModalTextSmall\">\r\n              This website has been optimised to run with the window maximised on Chrome and Firefox on a desktop or laptop screen. \r\n              If you are having issues, please try using one of these browsers or changing the graphics settings.\r\n              <br />\r\n              <br />\r\n              If you would like a high-contrast version of the response text with no distortion please click 'Focus Mode' button.   \r\n              <br />\r\n              <br /> \r\n              This website was produced on the unceded territory of the Bunurong Boon Wurrung and Wurundjeri Woi Wurrung peoples of \r\n              the Eastern Kulin Nation and we pay respect to their Elders past and present.\r\n              <br />\r\n              <br /> \r\n              room2.fm was created by <a href=\"https://patrickhase.xyz\" target=\"_blank\" rel=\"noreferrer\">Patrick Hase</a> and \r\n              <a href=\"https://soundcloud.com/anuraag69\" target=\"_blank\" rel=\"noreferrer\">Anuraag Bhatia</a>. This \r\n              iteration contains additional development work and creative consultation from <a href=\"https://becfary.com/\" target=\"_blank\" rel=\"noreferrer\">\r\n              BF/Local Time</a> and was commissioned as part of <a href=\"https://bleedonline.net/\" target=\"_blank\" rel=\"noreferrer\">BLEED</a>. \r\n              Additional credits can be viewed in the site's head tag.\r\n              <br />\r\n              <br />\r\n              We welcome your thoughts, feedback, or questions - please send them through to room2fm@gmail.com\r\n            </span> \r\n          </div>\r\n      </div>        \r\n      <button id=\"modal-continue-button\" onClick={() => props.toggleModal()}> Return</button>\r\n    </div>,\r\n    //page 3 Welcome\r\n    <div id=\"modal-page-wrapper\">\r\n      <div id=\"modal-title-wrapper\">\r\n        <div id=\"modal-title\">\r\n          Welcome to room2.fm async\r\n        </div>\r\n        <hr />\r\n      </div>\r\n      <div id=\"modal-text-wrapper\">\r\n          <div id=\"modal-text\">\r\n            <p>\r\n              \r\n              <span>\r\n                While listening to the audio you will be asked to respond to the prompt through either writing or drawing before anonymously \r\n                submitting it to the room2 server. Once you've shared your own response you will be able to see the previous responses of other\r\n                users.\r\n              </span>\r\n              <br />  \r\n              <br />\r\n              <span>\r\n                There is no right or wrong way for you to listen, respond to, or feel a piece of music or sound. We encourage you to \r\n                trust your ears and intuition and respond sincerely and in whatever way feels true to your experience.\r\n              </span>\r\n              <br />\r\n              <br />\r\n              \r\n              <br />    \r\n              <br />\r\n            </p>\r\n          </div>\r\n      </div>        \r\n      <button id=\"modal-continue-button\" onClick={() => {nextModalPage(); props.toggleModal();}}> Continue </button>\r\n    </div>,\r\n  \r\n    //page 4 Instructions\r\n    <div id=\"modal-page-wrapper\">\r\n      <div id=\"modal-title-wrapper\">\r\n        <div id=\"modal-title\">\r\n          Welcome to room2.fm async\r\n        </div>\r\n        <hr />\r\n      </div>\r\n      <div id=\"modal-text-wrapper\">\r\n          <div id=\"modal-text\">\r\n            The current cycle's track is:\r\n            <br />\r\n            <p style={{fontSize: '1.95rem'}}>{props.cyclePreset.trackDetails} by <a href={props.cyclePreset.artistLink} target=\"_blank\" rel=\"noreferrer\">{props.cyclePreset.artistDetails}</a></p>        \r\n            <p>\r\n            {sunsetText}\r\n            {props.tideData.tideUp === 1\r\n            ? <>In nearby waterways, the tide is rising. </>\r\n            : <>In nearby waterways, the tide is falling. </>\r\n            }\r\n            {props.trackHasUpdated\r\n            ? <TrackUpdateMessage />\r\n            : <CountdownCalc currentCycle={props.currentCycle}/>            \r\n            }\r\n            </p>\r\n            <br />       \r\n            <br />\r\n            <span className=\"ModalTextSmall\">\r\n    This website has been optimised to run with the window maximised on Chrome and Firefox on a desktop or laptop screen. \r\n    If you are having issues, please try one of these browsers.\r\n    <br />\r\n    <br />\r\n    If you would like a high-contrast version of the response text with no distortion please click 'Focus Mode' button.   \r\n    <br />\r\n    <br /> \r\n    room2.fm was created by <a href=\"https://patrickhase.xyz\" target=\"_blank\" rel=\"noreferrer\">Patrick Hase</a> and Anuraag Bhatia. This \r\n    iteration contains additional development work and creative consultation from <a href=\"https://becfary.com/\" target=\"_blank\" rel=\"noreferrer\">\r\n    BF/Local Time</a> and was commissioned as part of <a href=\"https://bleedonline.net/\" target=\"_blank\" rel=\"noreferrer\">BLEED</a>. Additional credits \r\n    can be viewed in the head tag.\r\n    <br />\r\n    <br />\r\n    We welcome your thoughts, feedback, or questions - please send them through to room2fm@gmail.com\r\n</span> \r\n          </div>\r\n      </div>        \r\n      <button id=\"modal-continue-button\" onClick={() => props.toggleModal()}> Continue </button>\r\n    </div>\r\n  ]\r\n\r\n  return (\r\n    <div id=\"AOC-modal\"\r\n         className=\"ModalWrapper\"\r\n         aria-labelledby=\"modal-title\"\r\n         aria-hidden=\"false\" >\r\n\r\n      <div data-a11y-dialog-hide className=\"ModalOverlay\" ></div>\r\n\r\n      <div role=\"document\" className=\"ModalBox\">\r\n        {props.currentModalPage < 2\r\n          ? <>{modalPages[props.currentModalPage]}</>\r\n          : <>\r\n            <NineCycleBar currentCycle={props.currentCycle} />\r\n            {modalPages[props.currentModalPage]}\r\n            <CurrentCycleBar currentCycle={props.currentCycle} />\r\n            </>\r\n          }\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  function nextModalPage(){\r\n    props.setCurrentModalPage(props.currentModalPage + 1);\r\n    document.getElementById(\"modal-text-wrapper\").scrollTop = 0;\r\n    window.removeEventListener(\"keydown\", secretKey);\r\n  }\r\n\r\n  function secretKey(e){\r\n    switch (e.key) {\r\n      case \"!\": \r\n      props.setCurrentCycle(0);\r\n      props.setCurrentModalPage(props.currentModalPage + 1);\r\n        break;\r\n      case \"@\": \r\n      props.setCurrentCycle(1);\r\n      props.setCurrentModalPage(props.currentModalPage + 1);\r\n        break;\r\n      case \"#\": \r\n      props.setCurrentCycle(2);\r\n      props.setCurrentModalPage(props.currentModalPage + 1);\r\n        break;\r\n      case \"$\": \r\n      props.setCurrentCycle(3);\r\n      props.setCurrentModalPage(props.currentModalPage + 1);\r\n        break;\r\n      case \"%\": \r\n      props.setCurrentCycle(4);\r\n      props.setCurrentModalPage(props.currentModalPage + 1);\r\n        break;\r\n      case \"^\": \r\n      props.setCurrentCycle(5);\r\n      props.setCurrentModalPage(props.currentModalPage + 1);\r\n        break;\r\n      case \"&\": \r\n      props.setCurrentCycle(6);\r\n      props.setCurrentModalPage(props.currentModalPage + 1);\r\n        break;\r\n      case \"*\": \r\n      props.setCurrentCycle(7);\r\n      props.setCurrentModalPage(props.currentModalPage + 1);\r\n        break;\r\n      case \"(\": \r\n      props.setCurrentCycle(8);\r\n      props.setCurrentModalPage(props.currentModalPage + 1);\r\n        break;\r\n      default:\r\n        return; // Quit when this doesn't handle the key event.\r\n    }\r\n  }\r\n}\r\n\r\nfunction NineCycleBar (props){\r\n\r\n  let moonSpheres = moonShapeArray.map((num, i) =>\r\n    {\r\n      if(i < props.currentCycle){\r\n        return <div className=\"MoonSphereWrapper\" key={i} style={{opacity: 0.4}}>{moonShapeArray[i]}</div>\r\n      } else if (i === props.currentCycle) {\r\n        return <div className=\"MoonSphereWrapper\" key={i} style={{opacity: 1}}>{moonShapeArray[i]}</div>\r\n      } else {\r\n        return <div className=\"MoonSphereWrapper\" key={i} style={{opacity: 0.6}}>{moonShapeArray[i]}</div>\r\n      }\r\n    }\r\n  );\r\n  \r\n  return(\r\n    <div id=\"nine-cycle-wrapper\">\r\n      {moonSpheres}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction CurrentCycleBar(props){\r\n  let currentDate = Date.now();\r\n  var cycleDuration = cycleDates[props.currentCycle].endTime - cycleDates[props.currentCycle].startTime;\r\n  var currentPos = currentDate - cycleDates[props.currentCycle].startTime;\r\n  var cents = 80 / cycleDuration;\r\n  var percentage = cents * currentPos;\r\n  var marginstyle = {marginTop: percentage + \"vh\"}\r\n  if (percentage >= 76) { //this is approx 3 hours at the end of the cycle\r\n    percentage = 76; //so that the moon doesn't overshoot the modal box\r\n    marginstyle = {marginTop: percentage + \"vh\", animationName: \"pulse\"} //pulse to indicate changeover is soon\r\n  }\r\n  \r\n  return(\r\n    <>\r\n    <div id=\"current-cycle-wrapper\">\r\n      <div className=\"CurrentMoonWrapper\" style={marginstyle}>{currentMoonShape}</div>\r\n      <div id=\"timeline-gradient\"></div>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction TrackUpdateMessage(){\r\n  return(\r\n    <span style={{marginBottom: \"1rem\"}}>\r\n      The selected track has been updated. Refresh the page to listen and respond to the new music and prompts.\r\n    </span>\r\n  )\r\n}\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { Shaders, Node, GLSL, NearestCopy} from \"gl-react\";\r\nimport { Surface } from \"gl-react-dom\";\r\n\r\nexport const shaders = Shaders.create({\r\n  cycleOne: {\r\n    frag: GLSL`\r\n    precision highp float;\r\n    varying vec2 uv;\r\n    uniform float width;\r\n    uniform float height;\r\n    uniform float timer;\r\n    uniform float tideUp;\r\n    uniform float tideHeight;\r\n    const vec3 rcol = vec3(0.8,0.,0.2);\r\n    const vec3 lcol = vec3(0.,0.502,0.376);\r\n    const vec3 ycol = vec3(0.1,0.,0.1);\r\n\r\n    float hash12(vec2 p){\r\n      return fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453);\r\n    }\r\n    float cubicPulse(float c, float w, float x){\r\n      x = abs(x - c);\r\n      if( x>w ) return 0.0;\r\n      x /= w;\r\n      return 1.0 - x*x*(3.0-2.0*x);\r\n    }\r\n\r\n    void main() {\r\n      vec2 res = vec2(width,height);\r\n      vec2 st = (gl_FragCoord.xy/res);\r\n      float stimer = timer/200.; \r\n      st.x -= sin(st.y*st.y*timer)*st.y*stimer;\r\n      vec3 noiseCol = ycol + hash12(st)*.04;\r\n      vec3 fadeCol = mix(noiseCol, rcol, ((sin(timer)/2.) +.5)*(sin(st.x-timer-2.5)*stimer)) ;\r\n      vec3 comp = mix(fadeCol, lcol, cubicPulse(.5,stimer*st.y,st.x));\r\n      gl_FragColor = vec4(comp, 1.0);\r\n    }`\r\n  },\r\n  cycleTwo: {\r\n    frag: GLSL`\r\n    precision highp float;\r\n    varying vec2 uv;\r\n    uniform float width;\r\n    uniform float height;\r\n    uniform float timer;\r\n    uniform float tideUp;\r\n    uniform float tideHeight;\r\n    const vec3 rcol = vec3(0.925,0.878,0.878);\r\n    const vec3 lcol = vec3(0.176,0.251,0.278);\r\n    const float pi = 3.14159;\r\n\r\n    mat2 rotate2d(float _angle){\r\n      return mat2(cos(_angle),-sin(_angle),\r\n                  sin(_angle),cos(_angle));\r\n    }\r\n\r\n    float ring(vec2 uv, float radius, float stimer){\r\n      float width = 1.+radius;\r\n      float blurTime = abs(sin(timer+radius));\r\n      if (mod(radius, 2.0)==0.0){\r\n        uv *= rotate2d(-1.*stimer*(radius/10.));\r\n      } else {\r\n        uv *= rotate2d(stimer+(radius/10.));\r\n      }\r\n      radius *= radius;\r\n      float outerRadius = radius + width;\r\n      float theta = 1.001*(atan(uv.y,uv.x)/pi);\r\n      return  (smoothstep(radius-(radius*blurTime*.1),\r\n                        radius+(radius*blurTime*.1),\r\n                        dot(uv,uv)*3.5) -\r\n              smoothstep(outerRadius-(outerRadius*blurTime*.1),\r\n                        outerRadius+(outerRadius*blurTime*.1),\r\n                        dot(uv,uv)*3.5)) / \r\n              (1.5 - abs(mod(theta+1.0,45.0)-1.0));\r\n    }\r\n\r\n    void main() {\r\n      vec2 res = vec2(width,height);\r\n      vec2 st = (gl_FragCoord.xy/res)-.3;\r\n      float stimer = timer/20.;\r\n      st *= 40.*(rotate2d(stimer)*st.x)*stimer;\r\n      float col = 0.;\r\n      for (float i = 1.; i < 120. ; i++){\r\n        col += ring(st,i, stimer);\r\n      }\r\n      vec3 comp = mix(rcol,lcol,col*.5);\r\n      gl_FragColor = vec4(comp, 1.0);\r\n    }`\r\n  },\r\n  cycleThree: {\r\n    frag: GLSL`\r\n    precision highp float;\r\n    varying vec2 uv;\r\n    uniform float width;\r\n    uniform float height;\r\n    uniform float timer;\r\n    uniform float tideUp;\r\n    uniform float tideHeight;\r\n    const vec3 rcol = vec3(0.8,0.,0.2);\r\n    const vec3 lcol = vec3(0.,0.502,0.376);\r\n    const vec3 ycol = vec3(0.1,0.,0.1);\r\n\r\n    float hash11(float p)\r\n    {\r\n        p = fract(p * .1031);\r\n        p *= p + 33.33;\r\n        p *= p + p;\r\n        return fract(p);\r\n    }\r\n    float random (in vec2 st) {\r\n        return fract(sin(dot(st.xy,\r\n                            vec2(12.9898,78.233)))\r\n                    * 43758.5453123);\r\n    }\r\n    mat2 rotate2d(float _angle){\r\n      return mat2(cos(_angle),-sin(_angle),\r\n                  sin(_angle),cos(_angle));\r\n    }\r\n\r\n    // 2D Noise based on Morgan McGuire @morgan3d\r\n    // https://www.shadertoy.com/view/4dS3Wd\r\n    float noise (in vec2 st) {\r\n        vec2 i = floor(st);\r\n        vec2 f = fract(st);\r\n\r\n        // Four corners in 2D of a tile\r\n        float a = random(i);\r\n        float b = random(i + vec2(1.0, 0.0));\r\n        float c = random(i + vec2(0.0, 1.0));\r\n        float d = random(i + vec2(1.0, 1.0));\r\n\r\n        // Smooth Interpolation\r\n\r\n        // Cubic Hermine Curve.  Same as SmoothStep()\r\n        vec2 u = f*f*(3.0-2.0*f);\r\n        // u = smoothstep(0.,1.,f);\r\n\r\n        // Mix 4 coorners percentages\r\n        return mix(a, b, u.x) +\r\n                (c - a)* u.y * (1.0 - u.x) +\r\n                (d - b) * u.x * u.y;\r\n    }\r\n\r\n    float cubicPulse(float c, float w, float x){\r\n      x = abs(x - c);\r\n      if( x>w ) return 0.0;\r\n      x /= w;\r\n      return 1.0 - x*x*(3.0-2.0*x);\r\n    }\r\n    float sleepers(vec2 st, float left, float right){\r\n      if(st.x<left) return 0.;\r\n      if(st.x>right) return 0.;\r\n      return (cubicPulse(.4,.5,sin(st.y*25.)))*.3;\r\n    }\r\n\r\n    void main() {\r\n      vec2 res = vec2(width,height);\r\n      float stimer = timer/5.;\r\n      vec2 st = (gl_FragCoord.xy/res)*200.;\r\n      vec2 rt = vec2(st.x * -1., st.y) - timer;\r\n      st += timer*2.;\r\n      float col = 0.;\r\n      float rails = 0.;\r\n      for (float i = 1.; i < 6. ; i++){\r\n        st *= rotate2d(.01);\r\n        rt *= rotate2d(.01);\r\n        if (mod(i, 2.0)==0.0){\r\n          col += noise(st*hash11(i)+i)*.1;\r\n          col -= sleepers(st/90., i, i+1.3);\r\n        } else {\r\n          col += noise(rt*hash11(i)+i)*.1;\r\n          col -= sleepers(rt/60., -1.*i-1.3, -1.*i);\r\n        }\r\n      }\r\n      vec3 comp = vec3(col);\r\n      gl_FragColor = vec4(comp, 1.0);\r\n    }`\r\n  },\r\n  cycleSeven: {\r\n    frag: GLSL`\r\n    #define pi 3.14159265359\r\n    #define twopi 6.28318530718\r\n    precision highp float;\r\n    varying vec2 uv;\r\n    uniform float width;\r\n    uniform float height;\r\n    uniform float timer;\r\n    uniform float tideUp;\r\n    uniform float tideHeight;\r\n    const vec3 rcol = vec3(0.71,0.91,0.467);\r\n    const vec3 lcol = vec3(0.322,0.322,1.);\r\n    const vec3 ycol = vec3(0.937,0.592,0.439);\r\n\r\n    mat2 rotate2d(float _angle){\r\n      return mat2(cos(_angle),-sin(_angle),\r\n                  sin(_angle),cos(_angle));\r\n    }\r\n\r\n    void main() {\r\n      vec2 res = vec2(width,height);\r\n      vec2 st = ((gl_FragCoord.xy/res) - vec2(.5,.25));\r\n      float stimer = timer*.1;\r\n      float col = 0.;\r\n      for (float i = 1.; i < 9. ; i++){\r\n        vec2 rt = st*i*rotate2d(i);\r\n        float a = atan(rt.x-fract(stimer+i/5.), rt.y) + pi;\r\n        float r = twopi/3.;\r\n        float d = cos(floor(.5+a/r)*r-a)*length(rt);\r\n        col += (1.-smoothstep(.4,.45,d))*.2;\r\n      }\r\n      vec3 comp = vec3(col);\r\n      gl_FragColor = vec4(comp, 1.0);\r\n    }`\r\n  },\r\n  onecolour: {\r\n    frag: GLSL`\r\n    // based on Inigo Quilez noise shader https://www.shadertoy.com/view/XdXGW8\r\n    precision highp float;\r\n    varying vec2 uv;\r\n    uniform float width;\r\n    uniform float height;\r\n    uniform float timer;\r\n    uniform float tideUp;\r\n    uniform float tideHeight;\r\n    const vec3 ycol = vec3(.824,.953,.91);\r\n    const vec3 lcol = vec3(.961,.652,.266);\r\n    const vec3 rcol = vec3(.184,.219,.297);\r\n    \r\n    vec2 hash( vec2 x ) {\r\n      const vec2 k = vec2( 0.3183099, 0.3678794 );\r\n      x = x*k + k.yx;\r\n      return -1.0 + 2.0*fract( 16.0 * k*fract( x.x*x.y*(x.x+x.y)) );\r\n    }\r\n\r\n    float noise( in vec2 p ) {\r\n      vec2 i = floor( p );\r\n      vec2 f = fract( p );\t\r\n\t    vec2 u = f*f*(3.0-2.0*f);\r\n      return mix( mix( dot( hash( i + vec2(0.0,0.0) ), f - vec2(0.0,0.0) ), \r\n                       dot( hash( i + vec2(1.0,0.0) ), f - vec2(1.0,0.0) ), u.x),\r\n                  mix( dot( hash( i + vec2(0.0,1.0) ), f - vec2(0.0,1.0) ), \r\n                       dot( hash( i + vec2(1.0,1.0) ), f - vec2(1.0,1.0) ), u.x), u.y);\r\n    }\r\n\r\n    void main() {\r\n      vec2 res = vec2(width,height);\r\n      vec2 st = gl_FragCoord.xy / res;\r\n      st.y += tideUp*timer/10.;\r\n      vec2 translate = vec2(0.,0.5*timer);\r\n      if (fract( st.y * 0.5) > 0.4  || fract( st.y * 0.5) < 0.2){\r\n        st.x += translate.y*0.35; }\r\n      else {\r\n        if (fract( st.x * 0.5) > 0.2 || fract( st.x * 0.5) < 0.3){\r\n          st.x -= timer*0.5; }\r\n        else {\r\n          st.x += timer*0.35; }\r\n      }\r\n      if (fract( st.y * 0.5) > 0.8 || fract( st.y * 0.5) < 0.6){\r\n        st.x += translate.y*0.35; }\r\n      else {\r\n        if (fract( st.x * 0.5) < 0.4 || fract( st.x * 0.5) > 0.3){\r\n          st.x -= timer*0.5; }\r\n        else {\r\n          st.x += timer*0.35; }\r\n      }      \r\n      float f = noise( 2.0*st );\r\n      f = 1.-(0.6 + 0.2*f);\r\n      vec3 ycol = ycol * (0.5 * sin(timer));\r\n\r\n      gl_FragColor = vec4(min(mix(ycol,mix(rcol,lcol,uv.x-0.2),uv.y+0.2), vec3(f,f,f)), 1.0);\r\n    }`\r\n}, \r\n  newvis: {\r\n    frag: GLSL`\r\n    precision highp float;\r\n    varying vec2 uv;\r\n    uniform float width;\r\n    uniform float height;\r\n    uniform float timer;\r\n    //const float timer = 15.8;\r\n    uniform float tideUp;\r\n    uniform float tideHeight;\r\n    const float emtriy = 0.7;\r\n    const float emtrix = 1.5;\r\n    const vec3 rcol = vec3(0.71,0.91,0.467);\r\n    const vec3 lcol = vec3(0.322,0.322,1.);\r\n    const vec3 ycol = vec3(0.937,0.592,0.439);\r\n   // const vec3 rcol = vec3(0.902,0.733,0.271);\r\n   // const vec3 lcol = vec3(0.937,0.592,0.439);\r\n   // const vec3 ycol = vec3(0.835,0.867,0.565);\r\n\r\n    float hash( float x ) {\r\n      return fract(sin(x)*43758.5453);\r\n    }  \r\n    float rand(vec2 n) { \r\n      return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\r\n    }        \r\n    float noise(vec2 p){\r\n      vec2 ip = floor(p);\r\n      vec2 u = fract(p);\r\n      u = u*u*(3.0-2.0*u);          \r\n      float res = mix(\r\n        mix(rand(ip),rand(ip+vec2(1.0,0.0)),u.x),\r\n        mix(rand(ip+vec2(0.0,1.0)),rand(ip+vec2(1.0,1.0)),u.x),u.y);\r\n      return res*res;\r\n    }\r\n    mat2 rotate2d(float _angle){\r\n      return mat2(cos(_angle),-sin(_angle),\r\n                  sin(_angle),cos(_angle));\r\n    }\r\n    void main() {\r\n      vec2 res = vec2(width,height);\r\n      vec2 st = (gl_FragCoord.xy/res)- .5;\r\n      st.x += 0.45;\r\n      st.y *= st.x;\r\n      float stimer = timer*.2;\r\n      vec2 pos = (vec2(0.0)-st)*rotate2d(stimer+(emtrix*4.));\r\n      float r = length(pos)*2.0*emtriy;\r\n      float a = atan(pos.y,pos.x);\r\n      float f = abs(cos(a*2.5))*.3+(.3*emtrix);\r\n      vec3 flow = mix(vec3(0.), ycol, ((1.-smoothstep(f-0.,f+0.01,r))*1.2));\r\n      flow -= 1.-smoothstep(0.04,0.05,distance(st,vec2(0.0)));\r\n      float mixerx = timer + st.y;\r\n      st.y += stimer;\r\n      float noisecol = noise(st*8.);\r\n      if (noisecol < .6+(sin(timer)*.2))\r\n        noisecol = noisecol/2.;\r\n      else noisecol = 1.;\r\n      float bg = ((sin(timer)/2.)+.5)*noisecol;\r\n      vec3 bgcol = lcol-flow;\r\n      vec3 comp = mix(bgcol,flow,f);\r\n      gl_FragColor = vec4(comp, 1.0);\r\n    }`\r\n}, \r\n  \r\n  \r\n  cycleBlank: {\r\n    frag: GLSL`\r\n    precision highp float;\r\n    varying vec2 uv;\r\n    uniform float width;\r\n    uniform float height;\r\n    uniform float timer;\r\n    uniform float tideUp;\r\n    uniform float tideHeight;\r\n    const vec3 rcol = vec3(0.71,0.91,0.467);\r\n    const vec3 lcol = vec3(0.322,0.322,1.);\r\n    const vec3 ycol = vec3(0.937,0.592,0.439);\r\n\r\n    void main() {\r\n      vec2 res = vec2(width,height);\r\n      vec2 st = (gl_FragCoord.xy/res);\r\n      vec3 comp = vec3(1.,1.,1.);\r\n      gl_FragColor = vec4(comp, 1.0);\r\n    }`\r\n}, \r\n});\r\n\r\nexport class GLVis extends Component {\r\n  render() {\r\n    return <>\r\n    <Surface width={this.props.width} height={this.props.height}>\r\n\r\n      <NearestCopy>\r\n        <Node shader={shaders[this.props.shaderName]} ignoreUnusedUniforms uniforms={{\r\n          timer: this.props.timer, \r\n          width: this.props.width*0.75/this.props.graphicsSettings, \r\n          height: this.props.width*0.68/this.props.graphicsSettings, \r\n          tideUp: this.props.tideData.tideUp,\r\n          tideHeight: this.props.tideData.tideHeight,\r\n          }} width={this.props.width*0.75/this.props.graphicsSettings} height={this.props.height*0.68/this.props.graphicsSettings} /> \r\n      </NearestCopy>\r\n                              \r\n    </Surface>\r\n    </>;\r\n  }\r\n}\r\n\r\nexport default GLVis;\r\n","import React, { useEffect, useRef, useState } from 'react'\r\n\r\nexport default function ResponseDisplay(props) {\r\n\r\n  // time for fade in/out and for how long the response is visible in ms\r\n  const responseFadeTime = 1500;\r\n  const responseHangTime = 12000;\r\n\r\n  const [responsesToDisplay, setResponsesToDisplay] = useState([]);\r\n  const responsesToDisplayRef = useRef();\r\n  const responsesDisplaying = useRef(false);\r\n\r\n  const displaysOnScreen = 4;\r\n\r\n  // useeffect to run only after the first time responses to display is updated to contain responses, not the following times it's order is updated\r\n  useEffect(() => {\r\n    if(responsesToDisplay.length > 0 && !responsesDisplaying.current){\r\n      for(let i = 0; i < displaysOnScreen; i++){\r\n        setTimeout(displayNextResponse, responseFadeTime*i);\r\n      }      \r\n      responsesDisplaying.current = true;\r\n    }\r\n    responsesToDisplayRef.current = responsesToDisplay;\r\n  }, [responsesToDisplay]);\r\n\r\n  // run loop once new response data arrives\r\n  useEffect(() => {\r\n    if(props.responseData.length > 0){\r\n      setResponsesToDisplay(props.responseData);\r\n      responsesToDisplayRef.current = props.responseData;\r\n    }\r\n  }, [props.responseData]);\r\n\r\n  return (\r\n    <div id=\"response-wrapper\"></div>\r\n  )\r\n\r\n  function displayNextResponse(){\r\n    let modOrderResponses = Array.from(responsesToDisplayRef.current);\r\n    let nextResponse = modOrderResponses.pop();\r\n    if(nextResponse[1] === 'image'){\r\n      createImageResponseDisplay(nextResponse[0]);\r\n    } else {\r\n      createTextResponseDisplay(nextResponse[0]);\r\n    }\r\n    setResponsesToDisplay([nextResponse].concat(modOrderResponses));\r\n  }\r\n\r\n  function createImageResponseDisplay(imageResponse){\r\n    let newResponseBox = document.createElement('img');\r\n    let collision = false;\r\n    newResponseBox.classList.add('ImageResponseBox');\r\n    let xRandom = Math.random();\r\n    let yRandom = Math.random();\r\n    newResponseBox.addEventListener(\"load\", (e) => {\r\n      // add to the page\r\n      document.getElementById('response-wrapper').appendChild(newResponseBox);\r\n      let responseBoxDimensions = newResponseBox.getBoundingClientRect();\r\n      newResponseBox.style.left = (80 * xRandom) + \"%\";\r\n      newResponseBox.style.top = ((100 - (props.height / responseBoxDimensions.height)) * yRandom) + \"%\";\r\n      let colliderArray = Array.from(document.getElementsByClassName(\"Collider\"));\r\n      for (let i = 0; i < colliderArray.length; i++) {\r\n        if(detect2DBoxCollision(newResponseBox.getBoundingClientRect(), colliderArray[i].getBoundingClientRect()) && !collision){\r\n          collision = true;\r\n        }\r\n      }\r\n      if(collision){\r\n        newResponseBox.remove();\r\n        window.requestAnimationFrame(() => createImageResponseDisplay(imageResponse));\r\n      } else {\r\n        newResponseBox.classList.add(\"Collider\");\r\n        responseFadeInOut(newResponseBox);\r\n      } \r\n    });\r\n    newResponseBox.src = 'https://humstore.thelongesthum.world/'+imageResponse;\r\n  }\r\n\r\n  function createTextResponseDisplay(textResponse){\r\n    let newResponseBox = document.createElement('p');\r\n    let collision = false;\r\n    newResponseBox.innerHTML = textResponse;\r\n    newResponseBox.classList.add('TextResponseBox');\r\n    let xRandom = Math.random();\r\n    let yRandom = Math.random();\r\n    document.getElementById('response-wrapper').appendChild(newResponseBox);\r\n    let responseBoxDimensions = newResponseBox.getBoundingClientRect();\r\n    newResponseBox.style.left = (80 * xRandom) + \"%\";\r\n    newResponseBox.style.top = ((100 - (props.height / responseBoxDimensions.height)) * yRandom) + \"%\";\r\n    let colliderArray = Array.from(document.getElementsByClassName(\"Collider\"));\r\n    for (let i = 0; i < colliderArray.length; i++) {\r\n      if(detect2DBoxCollision(newResponseBox.getBoundingClientRect(), colliderArray[i].getBoundingClientRect()) && !collision){\r\n        collision = true;\r\n      }\r\n    }\r\n    if(collision){\r\n      newResponseBox.remove();\r\n      window.requestAnimationFrame(() => createTextResponseDisplay(textResponse));\r\n    } else {\r\n      newResponseBox.classList.add(\"Collider\");\r\n      responseFadeInOut(newResponseBox);\r\n    } \r\n  }\r\n\r\n  function responseFadeInOut(responseElement){\r\n    responseElement.style.transition = responseFadeTime + \"ms\";\r\n    setTimeout(() =>{\r\n      // responseElement.classList.add('FadeIn');\r\n      responseElement.style.opacity = 1;\r\n      setTimeout(() => {responseElement.style.opacity = 0;}, responseHangTime);\r\n      setTimeout(() => {responseElement.remove(); displayNextResponse();}, responseFadeTime + responseHangTime + 100);\r\n    }, 100);\r\n  }\r\n}\r\n\r\nfunction detect2DBoxCollision(box1, box2){\r\n  let collision = false;\r\n  if(box1.left < box2.right &&\r\n     box1.right > box2.left &&\r\n     box1.top < box2.bottom &&\r\n     box1.bottom > box2.top) {\r\n      collision = true;\r\n    }\r\n  return collision;\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\n\r\n/* set amount of volume notches on volume bar */\r\nvar notchNumber = 12;\r\n\r\nexport default function AudioTrackPlayer(props) {\r\n\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [responded, setResponded] = useState(false);\r\n  const [audioSource, setAudioSource] = useState(null);\r\n\r\n  useEffect(() => {\r\n    //set reference to audio\r\n    let audioSourceRef = document.getElementById(\"audio-source\");\r\n    setAudioSource(audioSourceRef);\r\n    props.setAudioSourceRef(audioSourceRef);\r\n    //set reference to timeline\r\n    let timeline = document.getElementById(\"timeline\");\r\n    //add waiting animation\r\n    audioSourceRef.addEventListener('waiting', () => {\r\n      timeline.className = \"\";\r\n      timeline.className = \"timelineloading\";\r\n    });\r\n    audioSourceRef.addEventListener('playing', () => {\r\n      timeline.className = \"\";\r\n      timeline.className = \"timelineloaded\";\r\n    });\r\n    //add animation when playing\r\n    audioSourceRef.addEventListener('timeupdate', () => {\r\n      timeline.firstChild.style.width = (100 * audioSourceRef.currentTime/audioSourceRef.duration) + \"%\";\r\n    });\r\n    //add timeline click\r\n    timeline.addEventListener(\"click\", (e) => {\r\n      //get percentage of where timeline clicked\r\n      let clickPercent = (e.clientX - timeline.getBoundingClientRect().left) / timeline.offsetWidth;\r\n      // set playhead\r\n      timeline.firstChild.style.width = (100 * clickPercent) + \"%\";\r\n      // set new track time\r\n      audioSourceRef.currentTime = audioSourceRef.duration * clickPercent;\r\n    })\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"audio-player-wrapper\" className=\"Collider\">\r\n      {/* audio source */}\r\n      <audio src={props.trackSrc} id=\"audio-source\" onEnded={() => {\r\n        setIsPlaying(false);\r\n        props.pauseTimer();\r\n        }} />\r\n      {/* play button */}\r\n      <button id=\"play-pause-button\" className=\"AudioPlayerButton\" onClick={playPauseAudio}>\r\n        {isPlaying\r\n            ? <PauseIcon />\r\n            : <PlayIcon /> }\r\n      </button>\r\n      {/* reset button */}\r\n      <button className=\"AudioPlayerButton\" onClick={() => {audioSource.currentTime = 0; props.restartTimer()}}>\r\n        <RewindIcon />\r\n      </button>\r\n      {/*Audio Timeline*/}\r\n      <div id=\"timeline\" className=\"timelineloaded\">\r\n        <div id=\"playhead\" />\r\n      </div>\r\n      {/* volume section */}\r\n      <div id=\"volume-section-wrapper\">\r\n        {/* mute button */}\r\n        <button className=\"AudioPlayerButton\" id=\"mute-button\" onClick={muteAudio}>\r\n          {isMuted\r\n            ? <MuteIconOff />\r\n            : <MuteIconOn /> }                    \r\n        </button>\r\n        {/* volume slider */}\r\n        <div id=\"volume-wrapper\">\r\n            {VolumeNotches}\r\n        </div>\r\n      </div>               \r\n    </div>\r\n  )\r\n  function playPauseAudio(){\r\n    if(audioSource.paused){\r\n      audioSource.play();\r\n      setIsPlaying(true);\r\n      props.startTimer();\r\n      if(!responded){\r\n        props.setAskResponse(true);\r\n        setResponded(true);\r\n      }\r\n    } else {\r\n      audioSource.pause();\r\n      setIsPlaying(false);\r\n      props.pauseTimer();\r\n    }\r\n  }  \r\n  function muteAudio(){\r\n    audioSource.muted = !audioSource.muted;\r\n    setIsMuted(!isMuted);\r\n  }\r\n}\r\n\r\nlet volNotchGen = Array(notchNumber).fill('');\r\n\r\n/* can this be changed to button? */\r\n\r\nconst VolumeNotches = volNotchGen.map((nothing, index) =>\r\n  <button className='VolumeNotch VolumeActive' id={index}\r\n       key={index+nothing} \r\n       onMouseDown={clickVolumeNotch}\r\n       onMouseEnter={(e) => {if(isMouseDown){clickVolumeNotch(e)}}}\r\n       style={{height: 100/volNotchGen.length + \"%\"}} />\r\n)\r\n\r\n/* keep track of mouse down for volume drag event */\r\nvar isMouseDown = false;\r\ndocument.addEventListener(\"mouseup\", () => {isMouseDown = false});\r\n\r\nfunction clickVolumeNotch(e){\r\n  e.stopPropagation();\r\n  isMouseDown = true;\r\n  let clickedID = parseInt(e.target.id);\r\n  /* set classes for active notch */\r\n  let notches = document.getElementsByClassName(\"VolumeNotch\");\r\n  for (let notch of notches){\r\n    if(notch.id < clickedID){\r\n      notch.classList.remove(\"VolumeActive\");\r\n    } else {\r\n      notch.classList.add(\"VolumeActive\");\r\n    }  \r\n  }\r\n  /* set new volume */\r\n  let newVolume = 1 - (1/notchNumber) * clickedID;\r\n  document.getElementById(\"audio-source\").volume = newVolume;\r\n}\r\n\r\nfunction PlayIcon(){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 110 110\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      transform=\"\">\r\n        <g transform=\"scale(.8) translate(15)\" style={{transformOrigin: \"center\"}} className=\"AudioPlayerIcon\">\r\n          <polygon points=\"10,10 73,55 10,100\"\r\n                   strokeLinejoin=\"round\"\r\n                   strokeWidth=\"20\"\r\n          />\r\n        </g>        \r\n    </svg>\r\n  )\r\n}\r\nfunction PauseIcon(){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 110 110\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      transform=\"\">\r\n        <g transform=\"scale(.8) translate(15)\" style={{transformOrigin: \"center\"}} className=\"AudioPlayerIcon\">\r\n          <path strokeLinecap=\"round\" strokeWidth=\"30\"\r\n              d=\" M 67.5,15\r\n                  L 67.5,95\" />\r\n          <path strokeLinecap=\"round\" strokeWidth=\"30\"\r\n              d=\" M 15,15\r\n                  L 15,95\" />\r\n        </g>        \r\n    </svg>\r\n  )\r\n}\r\nfunction RewindIcon(){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 110 110\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      transform=\"\">\r\n        <g transform=\"scale(.8)\" style={{transformOrigin: \"center\"}} className=\"AudioPlayerIcon\">\r\n          <polygon points=\"10,10 73,55 10,100\"\r\n                   strokeLinejoin=\"round\"\r\n                   strokeWidth=\"20\"\r\n                   transform=\"translate(-25) rotate(180, 55, 55)\"\r\n          />\r\n          <path fill=\"none\" strokeLinecap=\"round\" strokeWidth=\"20\"\r\n              d=\" M 100,10\r\n                  L 100,100\" />\r\n        </g>\r\n               \r\n    </svg>\r\n  )\r\n}\r\nfunction MuteIconOn(){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      transform=\"\"\r\n      className=\"AudioPlayerIcon\">\r\n        {/* Speaker */}\r\n        <path id=\"mute-speaker\"\r\n              d=\" M 10,42\r\n              A 2,2 90 0 1 12,40\r\n              L 15,40 30,15 35,15\r\n              Q 38,50 35,85 \r\n              L 30,85 15,60 12,60\r\n              A 2,2 90 0 1 10,58\r\n              Z              \r\n        \" />\r\n        {/* Volume Lines */}\r\n        <path fill=\"none\" strokeLinecap=\"round\" strokeWidth=\"6\" className=\"MuteLines active\"\r\n              d=\" M 45,35\r\n                  Q 55,50 45,65\" />\r\n        <path fill=\"none\" strokeLinecap=\"round\" strokeWidth=\"6\" className=\"MuteLines active\"\r\n              d=\" M 55,22.5\r\n                  Q 77.33,50 55,77.5\" />\r\n        <path fill=\"none\" strokeLinecap=\"round\" strokeWidth=\"6\" className=\"MuteLines active\"\r\n              d=\" M 65,10\r\n                  Q 101.66,50 65,90\" />\r\n    </svg>\r\n  )\r\n}\r\nfunction MuteIconOff(){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      opacity=\"50%\"\r\n      className=\"AudioPlayerIcon\">\r\n        {/* Speaker */}\r\n        <path id=\"mute-speaker\"\r\n              d=\" M 10,42\r\n              A 2,2 90 0 1 12,40\r\n              L 15,40 30,15 35,15\r\n              Q 38,50 35,85 \r\n              L 30,85 15,60 12,60\r\n              A 2,2 90 0 1 10,58\r\n              Z              \r\n        \" />\r\n        <path fill=\"none\" strokeWidth=\"6\" \r\n              d=\" M 50, 35\r\n                  L 80, 65\r\n              \" />\r\n        <path fill=\"none\" strokeWidth=\"6\"\r\n              d=\" M 80, 35\r\n                  L 50, 65\r\n              \" />\r\n    </svg>\r\n  )\r\n}","import React, { useEffect } from 'react';\r\n\r\nexport default function DrawingTools(props){\r\n\r\n  return (\r\n    <>\r\n      <div id=\"drawing-buttons-wrapper\">\r\n        <button id=\"increase-brush-button\" className=\"DrawingUIButton\" onClick={() => {if(props.brushSize < 20){ props.setBrushSize(props.brushSize + 2 ) }}}> BRUSH + <div id=\"brush-up-icon\" /></button>\r\n        <button id=\"decrease-brush-button\" className=\"DrawingUIButton\" onClick={() => {if(props.brushSize > 2){ props.setBrushSize(props.brushSize - 2 ) }}}> BRUSH - <div id=\"brush-down-icon\" /></button>\r\n        <button id=\"erase-brush-button\" className=\"DrawingUIButton\" onClick={() => props.toggleEraser()}> ERASER <div id=\"eraser-icon\" /></button>\r\n        <button id=\"undo-button\" className=\"DrawingUIButton\" onClick={props.undoDrawing}> UNDO <div id=\"undo-icon\" /></button>\r\n        <button id=\"redo-button\" className=\"DrawingUIButton\" onClick={props.redoDrawing}> REDO <div id=\"redo-icon\" /></button>              \r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nexport default function DrawingCanvas(props){\r\n\r\n  const [canvas, setCanvas] = useState(null);\r\n  let canvasRef = useRef(null);\r\n  useEffect(() => {canvasRef.current = canvas}, [canvas]);\r\n\r\n  useEffect(() => {\r\n    let newCanvas = new fabric.Canvas('drawing-canvas', { isDrawingMode: true });\r\n    let canvasWrapper = document.getElementById(\"drawing-canvas-wrapper\"); \r\n    newCanvas.setWidth(canvasWrapper.offsetWidth);\r\n    newCanvas.setHeight(canvasWrapper.offsetHeight);\r\n    newCanvas.freeDrawingBrush.color = props.brushColour;    \r\n    //newCanvas.freeDrawingBrush = new fabric.EraserBrush(newCanvas);\r\n    newCanvas.freeDrawingBrush.width = props.brushSize;\r\n    newCanvas.freeDrawingCursor = getCustomCursor();\r\n    newCanvas.on('mouse:down', () => props.setIsDrawing(true));\r\n    setCanvas(newCanvas);\r\n    window.addEventListener('resize', updateCanvasDimensions);\r\n    props.setDrawingCanvas(newCanvas);\r\n    props.setCurrentCanvasState(newCanvas.toDatalessJSON());\r\n  }, [setCanvas]);\r\n\r\n  useEffect(() => {\r\n    if(canvasRef.current){\r\n      canvasRef.current.freeDrawingBrush.color = props.brushColour;\r\n      canvasRef.current.freeDrawingCursor = getCustomCursor();\r\n    }    \r\n  }, [props.brushColour]);\r\n\r\n  useEffect(() => {\r\n    if(canvasRef.current){\r\n      canvasRef.current.freeDrawingBrush.width = props.brushSize;\r\n      canvasRef.current.freeDrawingCursor = getCustomCursor();\r\n    }    \r\n  }, [props.brushSize]);\r\n\r\n  return (\r\n    <div id=\"drawing-canvas-wrapper\">\r\n      <canvas id=\"drawing-canvas\" />\r\n    </div>\r\n  )\r\n\r\n  function updateCanvasDimensions() {\r\n    if(document.getElementById(\"drawing-canvas-wrapper\")){\r\n      let canvasWrapper = document.getElementById(\"drawing-canvas-wrapper\");\r\n      canvasRef.current.setWidth(canvasWrapper.offsetWidth);\r\n      canvasRef.current.setHeight(canvasWrapper.offsetHeight); \r\n    }   \r\n  }\r\n\r\n  function getCustomCursor() {\r\n    const circle = \r\n      `<svg height=\"${props.brushSize}\"\r\n            fill=\"${props.brushColour}\"\r\n            viewBox=\"0 0 ${props.brushSize * 2} ${props.brushSize * 2}\"\r\n            width=\"${props.brushSize}\"\r\n            xmlns=\"http://www.w3.org/2000/svg\">\r\n        <circle cx=\"50%\"\r\n                cy=\"50%\"\r\n                r=\"${props.brushSize}\" />\r\n      </svg>`;      \r\n    return `url(data:image/svg+xml;base64,${window.btoa(circle)}) ${props.brushSize / 2} ${props.brushSize / 2}, move`;\r\n  }\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nexport default function ColourPicker(props){\r\n\r\n  useEffect(() => {\r\n    document.getElementById('col1Select').addEventListener(\"input\", colourInputChange, false);\r\n    document.getElementById('col2Select').addEventListener(\"input\", colourInputChange, false);\r\n    document.getElementById('col3Select').addEventListener(\"input\", colourInputChange, false);\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"drawing-tools-wrapper\">\r\n      <button id=\"col-swap-button\" onClick={() => colourSwap()}>\r\n        <SwapIcon />\r\n      </button>\r\n      <span id=\"word-change\">CHANGE</span>\r\n      <span id=\"word-colour\">COLOUR</span>\r\n      <div id=\"col-select-wrapper\">\r\n        <input type=\"color\" id=\"col1Select\" className=\"col-select first\" name=\"col1Select\" defaultValue={props.colours[0]} />\r\n        <input type=\"color\" id=\"col2Select\" className=\"col-select second\" name=\"col23Select\" defaultValue={props.colours[1]} />\r\n        <input type=\"color\" id=\"col3Select\" className=\"col-select third\" name=\"col33Select\" defaultValue={props.colours[2]} />\r\n      </div>\r\n    </div>      \r\n  )\r\n\r\n  function colourSwap(e){\r\n    console.log(props.colours)\r\n    let selectors = document.getElementsByClassName(\"col-select\");\r\n    for (let i = 0; i < 3; i++){\r\n      let cl = selectors[i].classList;\r\n      switch(true){\r\n        case cl.contains('first'):\r\n        cl.remove('first');\r\n        cl.add('third');\r\n        break;\r\n        case cl.contains('second'):\r\n        cl.remove('second');\r\n        cl.add('first');\r\n        break;\r\n        case cl.contains('third'):\r\n        cl.remove('third');\r\n        cl.add('second');\r\n        break;\r\n        default:\r\n        break;\r\n      }\r\n    }\r\n    props.setCurrentColours([\r\n      props.colours[1],\r\n      props.colours[2],\r\n      props.colours[0]\r\n    ]);\r\n  }\r\n  function colourInputChange(e){\r\n    let colNum = 0;\r\n    let cl = e.target.classList;\r\n      switch(true){\r\n        case cl.contains('first'):\r\n        colNum = 0;\r\n        break;\r\n        case cl.contains('second'):\r\n        colNum = 1;\r\n        break;\r\n        case cl.contains('third'):\r\n        colNum = 2;\r\n        break;\r\n        default:\r\n        break;\r\n      }\r\n    //document.documentElement.style.setProperty('--comp-col-0'+colNum, e.target.value);\r\n    let newColours = props.colours;\r\n    newColours[colNum] = e.target.value;\r\n    props.setCurrentColours(newColours);\r\n    console.log(colNum);\r\n  }\r\n}\r\n\r\n/* expecting a 5:1 aspect ratio */\r\nfunction SwapIcon(){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\" >\r\n        {/* Arrow Head */}\r\n        <marker id=\"arrowhead\" markerWidth=\"10\" markerHeight=\"6\" refX=\"7\" refY=\"3\" orient=\"auto\">\r\n          <polygon points=\"0 0, 8 3.5, 0 6\" />\r\n        </marker>\r\n        {/* <rect width=\"100%\" height=\"100%\" fill=\"red\" /> */}\r\n        {/* <rect width=\"100%\" height=\"1%\" y=\"50%\" fill=\"blue\" />\r\n        <rect width=\"1%\" height=\"100%\" x=\"25%\" fill=\"blue\" /> */}\r\n        {/* Line */}\r\n        <path fill=\"none\" strokeWidth=\"8\" markerEnd=\"url(#arrowhead)\" \r\n              d=\" M 25, 50\r\n                  L 0,13.4 100,13.4 50,86.6\r\n                  \" />\r\n        {/* <path fill=\"none\" stroke=\"black\" strokeWidth=\"2\" marker-end=\"url(#arrowhead)\"\r\n              d=\" M 35,15\r\n                  L 17.5,15 17.5,5 82.5,5 82.5,15 65,15\" /> */}\r\n    </svg>\r\n  )\r\n}\r\n\r\n","import React, { useEffect } from 'react'\r\n\r\nexport default function SettingsMenu(props) {\r\n\r\n  useEffect(() => {\r\n    document.getElementById(\"graphics-dropdown-wrapper\").addEventListener(\"mouseleave\", () => {\r\n      setDisplay(\"graphics-dropdown\", \"none\");\r\n    });\r\n  },[]);\r\n\r\n  return (\r\n    <div id=\"settings-menu-wrapper\" className='Collider'>\r\n      <button className=\"SettingsMenuButton\" id=\"settings-info-button\" onClick={() => props.toggleModal()}>INFO</button>\r\n      <button className=\"SettingsMenuButton\" id=\"settings-focus-button\" onClick={() => props.toggleFocus()}>FOCUS MODE</button>   \r\n      <div id=\"graphics-dropdown-wrapper\">\r\n        <button className=\"SettingsMenuButton\" id=\"settings-graphics-button\" onClick={() => {setDisplay(\"graphics-dropdown\", \"flex\")}}>GRAPHICS SETTINGS</button>    \r\n        <div id=\"graphics-dropdown\">\r\n          <button className=\"SettingsMenuButton Active\" onClick={e => \r\n            {changeActiveButton(e);\r\n            props.setGraphicsSettings(1);}}\r\n          >HIGH</button>\r\n          <button className=\"SettingsMenuButton\" onClick={e => \r\n            {changeActiveButton(e)\r\n            props.setGraphicsSettings(10);}}\r\n          >MEDIUM</button>\r\n          <button className=\"SettingsMenuButton\" onClick={e => \r\n            {changeActiveButton(e)\r\n            props.setGraphicsSettings(20);}}\r\n          >LOW</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n  function setDisplay(id, displayMode){\r\n    document.getElementById(id).style.display = displayMode;\r\n  }\r\n  function changeActiveButton(e){\r\n    Array.from(document.getElementsByClassName(\"SettingsMenuButton\")).forEach(button => {\r\n      button.classList.remove(\"Active\");\r\n    });\r\n    e.target.classList.add(\"Active\");\r\n    setDisplay(\"graphics-dropdown\", \"none\");\r\n  }\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport IntroModal from './introModal';\r\nimport GLVis from './glVis';\r\nimport ResponseDisplay from './responseDisplay';\r\nimport AudioTrackPlayer from './audioTrackPlayer';\r\nimport DrawingTools from './drawingTools';\r\nimport DrawingCanvas from './drawingCanvas';\r\nimport ColourPicker from './colourPicker';\r\nimport SettingsMenu from './settingsMenu';\r\n\r\n/* set timer refresh rate in ms */\r\nconst timerRefreshRate = 15;\r\n\r\nexport default function DesktopApp(props) {\r\n\r\n  const [currentModalPage, setCurrentModalPage] = useState(1);\r\n\r\n  const[askResponse, setAskResponse] = useState(false);\r\n  const[readyToRespond, setReadyToRespond] = useState(false);  \r\n\r\n  const[timer, setTimer] = useState(0.);\r\n  const[timerInterval, setTimerInterval] = useState(null);\r\n  const[audioSourceRef, setAudioSourceRef] = useState(null);\r\n\r\n  // graphics settings  - 1 high 10 medium 20 low\r\n  const[graphicsSettings, setGraphicsSettings] = useState(1);\r\n\r\n  return (\r\n    <div id=\"desktop-wrapper\">\r\n      {/* Intro Modal */}\r\n      <IntroModal\r\n        currentModalPage={currentModalPage}\r\n        setCurrentModalPage={setCurrentModalPage}\r\n        trackHasUpdated={props.trackHasUpdated}\r\n        toggleModal={props.toggleModal}\r\n        modalIsOpen={props.modalIsOpen}\r\n        setIntroModal={props.setIntroModal}\r\n        currentCycle={props.currentCycle}\r\n        setCurrentCycle={props.setCurrentCycle}\r\n        cyclePreset={props.cyclePreset}\r\n        tideData={props.tideData} />\r\n      {/* Settings Menu */}\r\n      {!props.modalIsOpen &&\r\n      <SettingsMenu\r\n        toggleModal={props.toggleModal}\r\n        setGraphicsSettings={setGraphicsSettings}\r\n        toggleFocus={props.toggleFocus} />}\r\n      {/* Daily Prompt */}\r\n      <div id=\"current-prompt-wrapper\" className=\"Collider\">\r\n        <div id=\"current-prompt\">\r\n          {props.cyclePreset.prompt}\r\n        </div>\r\n      </div>\r\n      {/* Audio Player */}\r\n      <AudioTrackPlayer\r\n        trackSrc={props.cyclePreset.trackSrc}\r\n        setAudioSourceRef={setAudioSourceRef}\r\n        startTimer={startTimer}\r\n        pauseTimer={pauseTimer}\r\n        restartTimer={restartTimer}\r\n        setAskResponse={setAskResponse}\r\n        />\r\n      {/* Ask if ready to respond */} \r\n      {askResponse &&\r\n        <button id=\"ready-submission-button\" onClick={() => {setReadyToRespond(true); setAskResponse(false);}}> i'm ready to respond </button>\r\n      }\r\n      {/* Show response input */}\r\n      {readyToRespond &&\r\n        <>                           \r\n          <div id=\"input-wrapper\">\r\n            <div id=\"input-select-wrapper\">\r\n              <span id=\"input-select\">\r\n                I would like to&nbsp;\r\n                <button id=\"draw-input-select\" className=\"InputSelectButton\" onClick={() => props.setInput(true)}>draw</button>\r\n                &nbsp;/&nbsp;\r\n                <button id=\"text-input-select\" className=\"InputSelectButton ActiveInputButton\" onClick={() => props.setInput(false)}>write</button>\r\n                &nbsp;a response\r\n              </span>\r\n            </div>\r\n            <div id=\"input-area\">\r\n              <textarea id=\"text-input\" name=\"text based prompt response\" placeholder=\"Please type your response here...\" />\r\n              <DrawingTools\r\n                undoDrawing={props.undoDrawing}\r\n                redoDrawing={props.redoDrawing}\r\n                toggleEraser={props.toggleEraser}\r\n                colours={props.colours}\r\n                brushSize={props.brushSize}\r\n                setBrushSize={props.setBrushSize} />\r\n              <DrawingCanvas \r\n                brushColour={props.colours[0]}\r\n                brushSize={props.brushSize}\r\n                setDrawingCanvas={props.setDrawingCanvas}\r\n                setCurrentCanvasState={props.setCurrentCanvasState}\r\n                setIsDrawing={props.setIsDrawing} />\r\n              <ColourPicker \r\n                colours={props.colours}\r\n                setCurrentColours={props.setCurrentColours} />\r\n            </div>\r\n          </div>\r\n          <button id=\"response-submit-button\" \r\n                onClick={() => {\r\n                  props.submitResponse();\r\n                  setReadyToRespond(false);\r\n              }}>submit my response</button>\r\n        </>            \r\n      }\r\n      {/* External Response Overlay */}\r\n      <ResponseDisplay \r\n        responseData={props.responseData}\r\n        height={props.height}\r\n        width={props.width} />\r\n      {/* Background Visuals */}\r\n      <div id=\"bg-vis-wrapper\">              \r\n        <GLVis\r\n          shaderName={props.cyclePreset.shaderName}\r\n          graphicsSettings={graphicsSettings}\r\n          timer={timer}\r\n          height={props.height}\r\n          width={props.width}\r\n          tideData={props.tideData} />          \r\n      </div> \r\n    </div>\r\n  )\r\n  /* update timer value (based on track position) */\r\n  function startTimer() {\r\n    if(timerInterval !== null){\r\n      clearInterval(timerInterval); \r\n      setTimerInterval(setInterval(() => {\r\n        setTimer(100 * audioSourceRef.currentTime/audioSourceRef.duration)\r\n      }, timerRefreshRate+graphicsSettings));\r\n    } else {\r\n      setTimerInterval(setInterval(() => {\r\n        setTimer(100 * audioSourceRef.currentTime/audioSourceRef.duration)\r\n      }, timerRefreshRate+graphicsSettings));\r\n    }\r\n  }\r\n  function pauseTimer() {\r\n    clearInterval(timerInterval);    \r\n  }\r\n  function restartTimer() {\r\n    setTimer(0.);    \r\n  }  \r\n}\r\n","import React, { useEffect, useState, useRef } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nimport './App.css';\r\n\r\nimport DesktopApp from './components/desktopApp';\r\nimport { cyclePresets, cycleDates } from './content/cyclePresets';\r\n\r\nexport default function App() {\r\n  // is accessed on mobile\r\n  const onMobile = window.matchMedia('all and (any-hover: none)').matches;\r\n  // current window size\r\n  const [windowSize, setWindowSize] = useState([window.innerWidth, window.innerHeight]);\r\n  // intro modal instance\r\n  const [introModal, setIntroModal] = useState(null);\r\n  // is the intro modal open\r\n  const [modalIsOpen, setModalIsOpen] = useState(true);\r\n  // has the track updated\r\n  const [trackHasUpdated, setTrackHasUpdated] = useState(false);\r\n  // check update interval\r\n  let checkEndInterval;\r\n  // current cycle - gets updated on page load\r\n  const [currentCycle, setCurrentCycle] = useState(0);\r\n  // tide data - gets updated on page load\r\n  const [tideData, setTideData] = useState({\r\n    tideUp: -1.0,\r\n    tideHeight: 0.8\r\n  });\r\n  // get current position in cycle\r\n  const cyclePos = 0;\r\n  /* const cyclePos = asyncCycleCalc(); */\r\n  /* if false it's assumed to be text instead */\r\n  const[inputIsDraw, setInputIsDraw] = useState(false);\r\n  // other responses from database\r\n  const [responseData, setResponseData] = useState([]);\r\n  // current drawing colours\r\n  const [currentColours, setCurrentColours] = useState(cyclePresets[currentCycle].colours);\r\n  // drawing settings\r\n  const [brushSize, setBrushSize] = useState(8);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  var isDrawingRef = useRef(isDrawing);\r\n  useEffect(() => {isDrawingRef.current = isDrawing}, [isDrawing]);\r\n  const [isEraser, setIsEraser] = useState(false);\r\n  const [savedBrush, setSavedBrush] = useState(null);\r\n  // undo/redo settings\r\n  const maxUndo = 10;\r\n  const [drawingCanvas, setDrawingCanvas] = useState(null);\r\n  var drawingCanvasRef = useRef(drawingCanvas);\r\n  useEffect(() => {drawingCanvasRef.current = drawingCanvas}, [drawingCanvas]);\r\n  const [currentCanvasState, setCurrentCanvasState] = useState(null);\r\n  var currentCanvasStateRef = useRef(currentCanvasState);\r\n  useEffect(() => {currentCanvasStateRef.current = currentCanvasState}, [currentCanvasState]);\r\n  const [undoStack, setUndoStack] = useState([]);\r\n  const [redoStack, setRedoStack] = useState([]);\r\n  var undoStackRef = useRef(undoStack);\r\n  var redoStackRef = useRef(redoStack);\r\n  useEffect(() => {undoStackRef.current = undoStack}, [undoStack]);\r\n  useEffect(() => {redoStackRef.current = redoStack}, [redoStack]);\r\n  // is focus mode active\r\n  const [focusMode, setFocusMode] = useState(false);\r\n\r\n  // my init function to run on app load\r\n  useEffect(() => {\r\n    // set up to update window dimensions on resize event\r\n    setWindowSize([window.innerWidth, window.innerHeight]);\r\n    window.addEventListener('resize', () => {\r\n      setWindowSize([window.innerWidth, window.innerHeight])});\r\n    updateCyclePosition();\r\n  }, []);\r\n\r\n  \r\n  useEffect(() => {\r\n    setCurrentColours(cyclePresets[currentCycle].colours);\r\n  }, [currentCycle])\r\n\r\n  return (\r\n    <div id=\"global-wrapper\">\r\n      {onMobile\r\n      ?\r\n        <div id=\"mobile-wrapper\">\r\n          <span id=\"mobile-text\">\r\n            Unfortunately room2.fm is currently not able to operate on mobile devices due to technical restrictions. \r\n            Please try again on a desktop or laptop computer if you are able to.\r\n          </span>\r\n        </div>\r\n      :\r\n        <DesktopApp      \r\n          width={windowSize[0]}\r\n          height={windowSize[1]}\r\n          modalIsOpen={modalIsOpen}\r\n          trackHasUpdated={trackHasUpdated}\r\n          toggleModal={toggleModal}\r\n          setIntroModal={setIntroModal}\r\n          setIsDrawing={setIsDrawing}\r\n          cyclePreset={cyclePresets[currentCycle]}\r\n          currentCycle={currentCycle}\r\n          setCurrentCycle={setCurrentCycle}\r\n          tideData={tideData}\r\n          setInput={setInput}\r\n          colours={currentColours}\r\n          setCurrentColours={setCurrentColours}\r\n          brushSize={brushSize}\r\n          setBrushSize={setBrushSize}\r\n          toggleEraser={toggleEraser}\r\n          setDrawingCanvas={setDrawingCanvas}\r\n          setCurrentCanvasState={setCurrentCanvasState}\r\n          undoDrawing={undoDrawing}\r\n          redoDrawing={redoDrawing}\r\n          submitResponse={submitResponse}\r\n          responseData={responseData}\r\n          toggleFocus={toggleFocus}\r\n          />\r\n      }\r\n    </div>\r\n  )\r\n  \r\n  // gets triggered when either the intro or info modal are brought up\r\n  function toggleModal(){\r\n    // add and remove event listener that triggers after drawing to save canvas to undo stack\r\n    if(modalIsOpen){\r\n      document.addEventListener('mouseup', saveCanvasState);\r\n      //console.log(introModal)\r\n      introModal.hide();\r\n      document.getElementById(\"AOC-modal\").style.display = \"none\";\r\n    } else {\r\n      document.removeEventListener('mouseup', saveCanvasState);\r\n      introModal.show();\r\n      document.getElementById(\"AOC-modal\").style.display = \"unset\";\r\n    }\r\n    // toggle state\r\n    setModalIsOpen(!modalIsOpen);\r\n  }\r\n  // to change between draw and write - true = draw - false = text\r\n  function setInput(changeToDraw){\r\n    if(changeToDraw){\r\n      setInputIsDraw(true);\r\n      document.getElementById(\"drawing-canvas-wrapper\").style.zIndex = \"6\";\r\n      document.getElementById(\"draw-input-select\").classList.add(\"ActiveInputButton\");\r\n      document.getElementById(\"drawing-tools-wrapper\").style.right = \"-25vh\";\r\n      document.getElementById(\"drawing-buttons-wrapper\").style.left = \"-15vh\";\r\n      document.getElementById(\"text-input-select\").classList.remove(\"ActiveInputButton\");\r\n    } else {\r\n      setInputIsDraw(false);\r\n      document.getElementById(\"drawing-canvas-wrapper\").style.zIndex = \"4\";\r\n      document.getElementById(\"draw-input-select\").classList.remove(\"ActiveInputButton\");\r\n      document.getElementById(\"drawing-tools-wrapper\").style.right = \"\";\r\n      document.getElementById(\"drawing-buttons-wrapper\").style.left = \"\";\r\n      document.getElementById(\"text-input-select\").classList.add(\"ActiveInputButton\");\r\n    }\r\n  }\r\n\r\n  // toggle eraser on/off - save brush if toggled on - reset old brush if toggled off\r\n  function toggleEraser(){\r\n    if(isEraser){\r\n      drawingCanvasRef.current.freeDrawingBrush = savedBrush;\r\n      document.getElementById(\"erase-brush-button\").classList.remove(\"Active\");\r\n    } else {\r\n      setSavedBrush(drawingCanvasRef.current.freeDrawingBrush);\r\n      console.log(drawingCanvasRef.current.freeDrawingBrush);\r\n      drawingCanvasRef.current.freeDrawingBrush = new fabric.EraserBrush(drawingCanvasRef.current);\r\n      drawingCanvasRef.current.freeDrawingBrush.width = brushSize;\r\n      /* drawingCanvasRef.current.freeDrawingBrush.color = \"#00000000\"; */\r\n      document.getElementById(\"erase-brush-button\").classList.add(\"Active\");\r\n    }\r\n    setIsEraser(!isEraser);\r\n  }\r\n  // undo/redo functions\r\n  // run on mouse up to save current canvas state to undo stack and then toggle isDrawing off\r\n  function saveCanvasState(){\r\n    // only run if mouse up is occuring after a drawing action\r\n    if(isDrawingRef.current){\r\n      // get version of undo stack to change\r\n      let newUndoStack = undoStackRef.current;\r\n      // drop oldest undo if over max undo count\r\n      if(newUndoStack.length === maxUndo){ newUndoStack.shift(); }\r\n      // add last current state stored before updating it to store the new state\r\n      newUndoStack.push(currentCanvasStateRef.current);\r\n      setCurrentCanvasState(drawingCanvasRef.current.toDatalessJSON());\r\n      // update undo stack into state, remove redo stack and then toggle isDrawing off\r\n      setUndoStack(newUndoStack);\r\n      setRedoStack([]);\r\n      setIsDrawing(false);\r\n    }\r\n  }\r\n  function undoDrawing(){\r\n    // if states left to undo\r\n    if(undoStack.length > 0){\r\n      // store state to come back to\r\n      let newCanvasState = currentCanvasState;\r\n      // push current state to redo stack\r\n      let newRedoStack = redoStackRef.current;\r\n      newRedoStack.splice(newRedoStack.length, 0, drawingCanvasRef.current.toDatalessJSON());\r\n      setRedoStack(newRedoStack);\r\n      // pop previous state from state stack\r\n      let newUndoStack = undoStackRef.current;\r\n      let newState = newUndoStack.pop();\r\n      // update to previous states and both stacks\r\n      setCurrentCanvasState(newState);\r\n      setUndoStack(newUndoStack);\r\n      // update actual canvas\r\n      drawingCanvas.loadFromJSON(newCanvasState);\r\n    }\r\n  }\r\n  function redoDrawing(){\r\n    // if states left to redo\r\n    if(redoStack.length > 0){\r\n      // pop new state from redo stack\r\n      let newRedoStack = redoStackRef.current;\r\n      let newCanvasState = newRedoStack.pop();\r\n      // push current state to undo stack\r\n      let newUndoStack = undoStackRef.current;\r\n      newUndoStack.push(currentCanvasStateRef.current);\r\n      setUndoStack(newUndoStack);\r\n      // update current state\r\n      setCurrentCanvasState(drawingCanvas.toDatalessJSON());\r\n      setRedoStack(newRedoStack);\r\n      // update actual canvas\r\n      drawingCanvas.loadFromJSON(newCanvasState);      \r\n    }\r\n  }\r\n  \r\n  // if it overshoots it won't return anything\r\n  //checking if it's within half an hour of sunset - write a function in here\r\n  function updateCyclePosition(){\r\n    // first grab current UTC\r\n    let currentDate = Date.now();\r\n    var halfHour = 30 * 60 * 1000; \r\n    // then compare to list of changeover times\r\n    for(let i = 0; i < cycleDates.length; i++){\r\n      // check current time vs the end of the cycle, if before the end time then set the cycle int and break the for loop\r\n      if(currentDate < cycleDates[i].endTime){\r\n        setCurrentCycle(i); \r\n        if (cycleDates[i].endTime - currentDate < halfHour) {\r\n          checkEndInterval = setInterval(checkEnd(cycleDates[i].endTime), 300000);\r\n        } \r\n        for(let k = 0; k < cycleDates[i].tidalData.length; k++){\r\n          if(currentDate < cycleDates[i].tidalData[k].tideEnd){\r\n            setTideData({\r\n              tideUp: cycleDates[i].tidalData[k].tideUp,\r\n              tideHeight: cycleDates[i].tidalData[k].tideHieght\r\n            })\r\n            break; \r\n          }\r\n        }\r\n        break; \r\n      }\r\n    }\r\n  }\r\n\r\n  function checkEnd(end) {\r\n    var updatedTime = Date.now();\r\n    if (updatedTime >= end) {\r\n      clearInterval(checkEndInterval);\r\n      setTrackHasUpdated(true);\r\n      return (\r\n      <>\r\n      <span>\r\n        The selected track has been updated. Refresh the page to listen and respond to the new music and prompts.\r\n      </span>\r\n      </>\r\n      )\r\n    }\r\n\r\n  }\r\n  function submitResponse(){\r\n    // set up array to push other responses to\r\n    let returnedResponses = [];\r\n    // check if a text or an image response\r\n    if(inputIsDraw){\r\n      //image input\r\n      let imageInput = document.getElementById('drawing-canvas');\r\n      var dataURL = imageInput.toDataURL({\r\n        format: 'png',\r\n        left: 0,\r\n        top: 0,\r\n        width: imageInput.width,\r\n        height: imageInput.height\r\n      });\r\n      const formData = new FormData();\r\n      let imageFile = dataURLtoFile(dataURL, 'response.png');\r\n      drawingCanvas.clear();\r\n      // we add one to cycle pos to keep start from 1\r\n      formData.append('upload', imageFile, 'cycle_'+ (currentCycle) +'_response.png');\r\n      fetch(`https://room2.fm/api/insertImageReflectionGetResponses`, {\r\n        method: 'PUT',\r\n        body: formData\r\n      })\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        try{\r\n          for(const response of res.data[0]) {\r\n            console.log(response);\r\n            returnedResponses.push([response.RESPONSE, response.RESPONSE_TYPE]);\r\n          }\r\n          setResponseData(returnedResponses);\r\n        } catch(e) {\r\n          // if response not the data\r\n          console.log(e);\r\n        }\r\n        });\r\n    } else {\r\n      // text input\r\n      let textInput = document.getElementById('text-input');\r\n      let responseText = textInput.value;\r\n      if(responseText.length > 0){\r\n        textInput.value = '';\r\n        fetch(`https://room2.fm/api/insertTextReflectionGetResponses`, {\r\n          headers: { 'Content-type': 'application/json' },\r\n          method: 'POST',\r\n          mode: 'cors',\r\n          // we add one to cycle pos to keep start from 1\r\n          body: JSON.stringify({reflection: responseText, cycleTable: currentCycle})\r\n        })\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        try{\r\n          for(const response of res.data[0]) {\r\n            console.log(response);\r\n            returnedResponses.push([response.RESPONSE, response.RESPONSE_TYPE]);         \r\n          }\r\n          setResponseData(returnedResponses);\r\n        } catch(e) {\r\n          // if response not the data\r\n          console.log(e);\r\n        }\r\n        });      \r\n      }\r\n    }\r\n  }\r\n\r\n  function toggleFocus(){\r\n    let textResponseRule = getCSSRule('.TextResponseBox');\r\n    let imageResponseRule = getCSSRule('.ImageResponseBox');\r\n    console.log(\"focus\")\r\n    if(!focusMode){\r\n      setFocusMode(true);\r\n      textResponseRule.style.backgroundColor = \"rgb(31, 33, 28)\";\r\n      textResponseRule.style.border = \"solid white 1px\";\r\n      imageResponseRule.style.backgroundColor = \"white\";\r\n      imageResponseRule.style.border = \"solid rgb(31, 33, 28) 1px\";\r\n      document.getElementById(\"settings-focus-button\").classList.add(\"Active\");\r\n    } else {\r\n      setFocusMode(false);\r\n      textResponseRule.style.backgroundColor = \"\";\r\n      textResponseRule.style.border = \"\";\r\n      imageResponseRule.style.backgroundColor = \"\";\r\n      imageResponseRule.style.border = \"\";\r\n      document.getElementById(\"settings-focus-button\").classList.remove(\"Active\");\r\n    }\r\n  }\r\n\r\n  function dataURLtoFile(dataurl, filename){\r\n    var arr = dataurl.split(','),\r\n      mime = arr[0].match(/:(.*?);/)[1],\r\n      bstr = atob(arr[1]),\r\n      n = bstr.length,\r\n      u8arr = new Uint8Array(n);\r\n    while (n--) {\r\n      u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    return new File([u8arr], filename, {\r\n      type: mime\r\n    });\r\n  }\r\n\r\n  function getCSSRule(ruleName) {\r\n    ruleName = ruleName.toLowerCase();\r\n    var result = null;\r\n    var find = Array.prototype.find;\r\n\r\n    find.call(document.styleSheets, styleSheet => {\r\n        result = find.call(styleSheet.cssRules, cssRule => {\r\n            return cssRule instanceof CSSStyleRule \r\n                && cssRule.selectorText.toLowerCase() === ruleName;\r\n        });\r\n        return result != null;\r\n    });\r\n    return result;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}