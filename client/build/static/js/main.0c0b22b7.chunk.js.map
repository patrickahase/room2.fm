{"version":3,"sources":["content/emojis/desert.png","content/emojis/blossoming-flower.png","content/emojis/mushroom.png","content/emojis/alien.png","content/emojis/woozy.png","content/emojis/teddy-bear.png","content/emojis/butterfly.png","content/emojis/leaf-in-wind.png","content/emojis/spiral-shell.png","components/audioControls.js","components/drawingCanvas.js","content/modalText.js","components/introModal.js","components/marquee.js","components/drawingTools.js","components/settingsMenu.js","components/glVis.js","components/responseDisplay.js","components/textBG.js","components/colourPicker.js","components/videoPlayer.js","components/desktopApp.js","components/mobileApp.js","content/preloadArrays.js","App.js","index.js","content/media/slowdiscpixel.gif"],"names":["AudioControls","props","volNotchGen","Array","fill","isMouseDown","document","addEventListener","VolumeNotches","map","nothing","index","className","id","onMouseDown","clickVolumeNotch","onMouseEnter","e","style","height","length","onClick","muteAudio","isMuted","MuteIconOff","MuteIconOn","stopPropagation","clickedID","parseInt","target","console","log","notches","getElementsByClassName","notch","classList","remove","add","width","viewBox","xmlns","transform","d","stroke","strokeLinecap","strokeWidth","opacity","DrawingCanvas","useState","canvas","setCanvas","canvasRef","useRef","useEffect","current","newCanvas","fabric","Canvas","isDrawingMode","canvasWrapper","getElementById","setWidth","offsetWidth","setHeight","offsetHeight","freeDrawingBrush","color","brushColour","brushSize","freeDrawingCursor","getCustomCursor","on","setIsDrawing","window","updateCanvasDimensions","setDrawingCanvas","setCurrentCanvasState","toDatalessJSON","circle","btoa","acknowledgementOfCountryText","introText","instructionsText","IntroModal","currentModalPage","setCurrentModalPage","container","A11yDialog","show","modalPages","fontSize","justifyContent","toggleModal","role","Marquee","src","require","default","alt","currentArtist","DrawingTools","mobile","position","top","type","name","min","max","onInput","setBrushSize","value","toggleEraser","EraserIcon","strokeColour","undoDrawing","UndoIcon","redoDrawing","RedoIcon","defaultValue","colours","setCurrentColours","BrushUpIcon","BrushDownIcon","markerWidth","markerHeight","refX","refY","orient","points","x","y","SettingsMenu","setDisplay","toggleFocus","changeActiveButton","setGraphicsSettings","displayMode","display","from","forEach","button","shaders","Shaders","create","onecolour","frag","GLSL","Component","ResponseDisplay","responseFadeTime","responsesToDisplay","setResponsesToDisplay","responsesToDisplayRef","responsesDisplaying","i","setTimeout","displayNextResponse","responseData","modOrderResponses","nextResponse","pop","createImageResponseDisplay","createTextResponseDisplay","concat","imageResponse","newResponseBox","createElement","collision","xRandom","Math","random","yRandom","appendChild","responseBoxDimensions","getBoundingClientRect","left","colliderArray","detect2DBoxCollision","requestAnimationFrame","responseFadeInOut","textResponse","innerHTML","responseElement","transition","box1","box2","right","bottom","TextBG","fft","mic","setup","p5","canvasParentRef","createCanvas","parent","constructor","AudioIn","start","FFT","setInput","draw","background","analyze","mid","getEnergy","documentElement","setProperty","ColourPicker","colourInputChange","selectors","cl","contains","setSelectedColour","oldCol","colourSwap","SwapIcon","colNum","charAt","newColours","updateCanvasBrush","markerEnd","React","DesktopApp","modalIsOpen","alignItems","textAlign","overlayToggle","currentPrompt","changeColourOrder","changeColours","placeholder","submitResponse","title","MobileApp","responseTime","flexGrow","flexDirection","overflow","App","onMobile","matchMedia","matches","innerWidth","innerHeight","windowSize","setWindowSize","setModalIsOpen","setCurrentArtist","setCurrentPrompt","inputIsDraw","setInputIsDraw","setResponseData","lastResponseID","currentColours","selectedColour","selectedColourRef","isDrawing","isDrawingRef","isEraser","setIsEraser","savedBrush","setSavedBrush","drawingCanvas","drawingCanvasRef","currentCanvasState","currentCanvasStateRef","undoStack","setUndoStack","redoStack","setRedoStack","undoStackRef","redoStackRef","focusMode","setFocusMode","setResponseTime","saveCanvasState","liveUpdate","textResponseRule","getCSSRule","imageResponseRule","backgroundColor","border","removeEventListener","fetch","headers","method","mode","body","JSON","stringify","then","res","json","serverResponse","returnedResponses","response","push","RESPONSE","RESPONSE_TYPE","updateFromServerResponse","data","responseTimer","imageInput","dataURL","toDataURL","format","formData","FormData","imageFile","dataurl","filename","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","dataURLtoFile","clear","append","Date","now","textInput","responseText","reflection","changeToDraw","getCustomEraserCursor","EraserBrush","newUndoStack","shift","newCanvasState","newRedoStack","splice","newState","loadFromJSON","ruleName","toLowerCase","result","find","prototype","call","styleSheets","styleSheet","cssRules","cssRule","CSSStyleRule","selectorText","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0c0b22b7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/desert.afb4dc6a.png\";","export default __webpack_public_path__ + \"static/media/blossoming-flower.5f78e6a8.png\";","export default __webpack_public_path__ + \"static/media/mushroom.6f17f235.png\";","export default __webpack_public_path__ + \"static/media/alien.381f0676.png\";","export default __webpack_public_path__ + \"static/media/woozy.df9645ec.png\";","export default __webpack_public_path__ + \"static/media/teddy-bear.a4c592be.png\";","export default __webpack_public_path__ + \"static/media/butterfly.22ba9572.png\";","export default __webpack_public_path__ + \"static/media/leaf-in-wind.b5dea42c.png\";","export default __webpack_public_path__ + \"static/media/spiral-shell.49e9854a.png\";","import React from 'react';\r\n\r\nexport default function AudioControls(props){\r\n\r\n  const notchNumber = 12;\r\n\r\n  let volNotchGen = Array(notchNumber).fill('');\r\n\r\n  /* keep track of mouse down for volume drag event */\r\n  var isMouseDown = false;\r\n  document.addEventListener(\"mouseup\", () => {isMouseDown = false});\r\n\r\n  const VolumeNotches = volNotchGen.map((nothing, index) =>\r\n    <button className='VolumeNotch VolumeActive' id={index}\r\n        key={index+nothing} \r\n        onMouseDown={clickVolumeNotch}\r\n        onMouseEnter={(e) => {if(isMouseDown){clickVolumeNotch(e)}}}\r\n        style={{height: 100/volNotchGen.length + \"%\"}} />\r\n  );\r\n\r\n  return (\r\n    <>              \r\n      <button id=\"mute-button\" onClick={props.muteAudio}>\r\n        {props.isMuted\r\n          ? <MuteIconOff />\r\n          : <MuteIconOn />\r\n        }          \r\n        </button>\r\n      <div id=\"volume-wrapper\">\r\n        {VolumeNotches}\r\n      </div>\r\n    </> \r\n  )\r\n\r\n  function clickVolumeNotch(e){\r\n    e.stopPropagation();\r\n    isMouseDown = true;\r\n    let clickedID = parseInt(e.target.id);\r\n    console.log(clickedID);\r\n    /* set classes for active notch */\r\n    let notches = document.getElementsByClassName(\"VolumeNotch\");\r\n    for (let notch of notches){\r\n      if(notch.id < clickedID){\r\n        notch.classList.remove(\"VolumeActive\");\r\n      } else {\r\n        notch.classList.add(\"VolumeActive\");\r\n      }  \r\n    }\r\n    /* set new volume */\r\n    let newVolume = 1 - (1/notchNumber) * clickedID;\r\n    //document.getElementById(\"audio-source\").volume = newVolume;\r\n  }\r\n}\r\n\r\nfunction MuteIconOn(props){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      transform=\"\">\r\n        {/* Speaker */}\r\n        <path id=\"mute-speaker\"\r\n              d=\" M 10,42\r\n              A 2,2 90 0 1 12,40\r\n              L 15,40 30,15 35,15\r\n              Q 38,50 35,85 \r\n              L 30,85 15,60 12,60\r\n              A 2,2 90 0 1 10,58\r\n              Z              \r\n        \" />\r\n        {/* Volume Lines */}\r\n        <path fill=\"none\" stroke=\"black\" strokeLinecap=\"round\" strokeWidth=\"6\" className=\"MuteLines active\"\r\n              d=\" M 45,35\r\n                  Q 55,50 45,65\" />\r\n        <path fill=\"none\" stroke=\"black\" strokeLinecap=\"round\" strokeWidth=\"6\" className=\"MuteLines active\"\r\n              d=\" M 55,22.5\r\n                  Q 77.33,50 55,77.5\" />\r\n        <path fill=\"none\" stroke=\"black\" strokeLinecap=\"round\" strokeWidth=\"6\" className=\"MuteLines active\"\r\n              d=\" M 65,10\r\n                  Q 101.66,50 65,90\" />\r\n    </svg>\r\n  )\r\n}\r\nfunction MuteIconOff(props){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      opacity=\"50%\">\r\n        {/* Speaker */}\r\n        <path id=\"mute-speaker\"\r\n              d=\" M 10,42\r\n              A 2,2 90 0 1 12,40\r\n              L 15,40 30,15 35,15\r\n              Q 38,50 35,85 \r\n              L 30,85 15,60 12,60\r\n              A 2,2 90 0 1 10,58\r\n              Z              \r\n        \" />\r\n        <path fill=\"none\" stroke=\"black\" strokeWidth=\"6\"\r\n              d=\" M 50, 35\r\n                  L 80, 65\r\n              \" />\r\n        <path fill=\"none\" stroke=\"black\" strokeWidth=\"6\" \r\n              d=\" M 80, 35\r\n                  L 50, 65\r\n              \" />\r\n    </svg>\r\n  )\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nexport default function DrawingCanvas(props){\r\n\r\n  \r\n  const [canvas, setCanvas] = useState(null);\r\n  let canvasRef = useRef(null);\r\n  useEffect(() => {canvasRef.current = canvas}, [canvas]);\r\n\r\n  useEffect(() => {\r\n    let newCanvas = new fabric.Canvas('drawing-canvas', { isDrawingMode: true });\r\n    let canvasWrapper = document.getElementById(\"drawing-canvas-wrapper\"); \r\n    newCanvas.setWidth(canvasWrapper.offsetWidth);\r\n    newCanvas.setHeight(canvasWrapper.offsetHeight);\r\n    newCanvas.freeDrawingBrush.color = props.brushColour;    \r\n    newCanvas.freeDrawingBrush.width = props.brushSize;\r\n    newCanvas.freeDrawingCursor = getCustomCursor();\r\n    newCanvas.on('mouse:down', () => props.setIsDrawing(true));\r\n    setCanvas(newCanvas);\r\n    console.log(\"check\")\r\n    window.addEventListener('resize', updateCanvasDimensions);\r\n    props.setDrawingCanvas(newCanvas);\r\n    props.setCurrentCanvasState(newCanvas.toDatalessJSON());\r\n  }, [setCanvas]);\r\n\r\n  useEffect(() => {\r\n    if(canvasRef.current){\r\n      canvasRef.current.freeDrawingBrush.color = props.brushColour;\r\n      canvasRef.current.freeDrawingCursor = getCustomCursor();\r\n    }    \r\n  }, [props.brushColour]);\r\n\r\n  useEffect(() => {\r\n    if(canvasRef.current){\r\n      canvasRef.current.freeDrawingBrush.width = props.brushSize;\r\n      canvasRef.current.freeDrawingCursor = getCustomCursor();\r\n    }    \r\n  }, [props.brushSize]);\r\n\r\n  return (\r\n    <div id=\"drawing-canvas-wrapper\">\r\n      <canvas id=\"drawing-canvas\" />\r\n    </div>\r\n  )\r\n\r\n  function updateCanvasDimensions() {\r\n    let canvasWrapper = document.getElementById(\"drawing-canvas-wrapper\");\r\n    canvasRef.current.setWidth(canvasWrapper.offsetWidth);\r\n    canvasRef.current.setHeight(canvasWrapper.offsetHeight);    \r\n  }\r\n\r\n  function getCustomCursor() {\r\n    const circle = \r\n      `<svg height=\"${props.brushSize}\"\r\n            fill=\"${props.brushColour}\"\r\n            viewBox=\"0 0 ${props.brushSize * 2} ${props.brushSize * 2}\"\r\n            width=\"${props.brushSize}\"\r\n            xmlns=\"http://www.w3.org/2000/svg\">\r\n        <circle cx=\"50%\"\r\n                cy=\"50%\"\r\n                r=\"${props.brushSize}\" />\r\n      </svg>`;      \r\n    return `url(data:image/svg+xml;base64,${window.btoa(circle)}) ${props.brushSize / 2} ${props.brushSize / 2}, move`;\r\n  }\r\n}\r\n","export const acknowledgementOfCountryText = <span>\r\n  This website was created and is maintained on the unceded territory of the Wurundjeri People of the Eastern Kulin Nation, \r\n  the Traditional Custodians of the land. We recognise their ongoing legacy of connection to land, waters and culture \r\n  and pay respect to their Elders past and present. We extend this respect to all other First Nations peoples \r\n  of this continent, whose stolen land the material pathways that allow our digital connectivity are built upon.\r\n</span>\r\n\r\nexport const introText = <>\r\n  <span>\r\n    room2.fm seeks to create a digital space for collective reflection, sharing, and vulnerability. During the last lockdown \r\n    season we were lucky to have a range of guest artists who helped facilitate this by contributing sounds, texts and visuals \r\n    to the space, which was brought together by the active participation in the responses and in the chat by those attending \r\n    the space on each given weekly event.\r\n  </span>\r\n  <br />  \r\n  <br />\r\n  <span>\r\n    There is no right or wrong way for you to listen, respond to, or feel a piece of music or sound. We encourage you to \r\n    trust your ears and intuition and respond sincerely and in whatever way feels true to your experience.\r\n  </span>\r\n  <br />\r\n  <br />\r\n  <span className=\"ModalTextSmall\">\r\n    This website has been optimised to run with the window maximised on Chrome and Firefox on a desktop or laptop screen. \r\n    If you are having issues, please try one of these browsers.\r\n    <br />\r\n    If you would like a high-contrast version of the response text with no distortion please click 'Focus Mode' button.\r\n    <br />    \r\n    We will be moderating responses that we feel are intentionally disruptive or may make others feel unsafe in the space.\r\n  </span>\r\n  <br />\r\n  <br />\r\n</>\r\n\r\nexport const instructionsText = <>\r\n  <span>\r\n    You can share your response to the music, prompts and visuals in a number of ways.\r\n  </span>\r\n  <br />\r\n  <br />\r\n  {/* <span>\r\n    You are encouraged to use the emoji triangle in the bottom left of the screen to convey what you are feeling about the \r\n    sounds you are receiving. Click and drag the circle to any of the points of the triangle or somewhere between them. The \r\n    collective selection of everyone participating in the stream will be reflected in the main visuals.\r\n  </span> */}\r\n  {/* <br />\r\n  <br /> */}\r\n  <span>\r\n    Periodically, text prompts will come up in the lower middle of the screen. Underneath the prompts you can select to respond \r\n    via either writing or drawing depending on what you think is most appropriate. Once you are happy with your response you can \r\n    click the ‘submit response’ button to share it with others. Above the ‘submit response’ button, you can select the colour palette \r\n    you will be able to draw responses with, along with options to change the brush size, use an eraser and undo or redo additions to \r\n    your drawing. \r\n  </span>\r\n  <br />\r\n  <br />\r\n  <span>\r\n    Your responses to these prompts will be completely anonymised and not attributable to you in any way, however during this \r\n    demonstration we will be capturing a screen recording of the experience.\r\n  </span>\r\n  <br />\r\n  <br />\r\n  <span>\r\n    You can also use the chat box on the right of the screen to directly speak to others participating. Select a username and \r\n    click ‘Join Room’ to engage. Be yourself, be someone else, be whomever you want to be!\r\n  </span>\r\n  <br />\r\n  <br />\r\n  <span className=\"ModalTextSmall\">\r\n    room2.fm was created by Patrick Hase and Anuraag Bhatia. We welcome your thoughts, feedback, or questions - please send them through to room2fm@gmail.com\r\n  </span>            \r\n</>\r\n\r\nexport const warningText = <>\r\n\r\n</>","import React, { useEffect, useState, Component } from 'react';\r\nimport A11yDialog from 'a11y-dialog';\r\nimport { acknowledgementOfCountryText, introText, instructionsText, /* warningText */ } from '../content/modalText';\r\nexport default function IntroModal(props) {\r\n  const [currentModalPage, setCurrentModalPage] = useState(1);\r\n  \r\n  // run init on load\r\n  useEffect(() => {\r\n    const container = document.getElementById(\"AOC-modal\");\r\n    const dialog = new A11yDialog(container);\r\n    dialog.show();\r\n  },[]);\r\n\r\n  let modalPages = [\r\n    //page 1 Logo - no continue button on this one if the site needs to get closed\r\n    <div id=\"logo-wrapper\">\r\n      <div id=\"text-logo\">\r\n        <pre id=\"pre-logo-wrapper\">\r\n          <div id=\"logo-line-1\">__________________________________________________________________<u className=\"text-gradient-1\">/\\\\\\\\\\\\\\\\\\</u>_____        <br/></div>\r\n          <div id=\"logo-line-2\">&nbsp;________________________________________________________________<u className=\"text-gradient-2\">/\\\\\\///////\\\\\\</u>___       <br/></div>\r\n          <div id=\"logo-line-3\">&nbsp;&nbsp;_______________________________________________________________<u className=\"text-gradient-3\">\\///</u>______<u className=\"text-gradient-3\">\\//\\\\\\</u>__      <br/></div>\r\n          <div id=\"logo-line-4\">&nbsp;&nbsp;&nbsp;__<u className=\"text-gradient-4\">/\\\\/\\\\\\\\\\\\\\</u>______<u className=\"text-gradient-4\">/\\\\\\\\\\</u>________<u className=\"text-gradient-4\">/\\\\\\\\\\</u>_______<u className=\"text-gradient-4\">/\\\\\\\\\\</u>__<u className=\"text-gradient-4\">/\\\\\\\\\\</u>_____________<u className=\"text-gradient-4\">/\\\\\\/</u>___     <br/></div>\r\n          <div id=\"logo-line-5\">&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-5\">\\/\\\\\\/////\\\\\\</u>___<u className=\"text-gradient-5\">/\\\\\\///\\\\\\</u>____<u className=\"text-gradient-5\">/\\\\\\///\\\\\\</u>___<u className=\"text-gradient-5\">/\\\\\\///\\\\\\\\\\///\\\\\\</u>________<u className=\"text-gradient-5\">/\\\\\\//</u>_____    <br/></div>\r\n          <div id=\"logo-line-6\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-6\">\\/\\\\\\</u>___<u className=\"text-gradient-6\">\\///</u>___<u className=\"text-gradient-6\">/\\\\\\</u>__<u className=\"text-gradient-6\">\\//\\\\\\</u>__<u className=\"text-gradient-6\">/\\\\\\</u>__<u className=\"text-gradient-6\">\\//\\\\\\</u>_<u className=\"text-gradient-6\">\\/\\\\\\</u>_<u className=\"text-gradient-6\">\\//\\\\\\</u>__<u className=\"text-gradient-6\">\\/\\\\\\</u>_____<u className=\"text-gradient-6\">/\\\\\\//</u>________   <br/></div>\r\n          <div id=\"logo-line-7\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-7\">\\/\\\\\\</u>_________<u className=\"text-gradient-7\">\\//\\\\\\</u>__<u className=\"text-gradient-7\">/\\\\\\</u>__<u className=\"text-gradient-7\">\\//\\\\\\</u>__<u className=\"text-gradient-7\">/\\\\\\</u>__<u className=\"text-gradient-7\">\\/\\\\\\</u>__<u className=\"text-gradient-7\">\\/\\\\\\</u>__<u className=\"text-gradient-7\">\\/\\\\\\</u>___<u className=\"text-gradient-7\">/\\\\\\/</u>___________  <br/></div>\r\n          <div id=\"logo-line-8\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-8\">\\/\\\\\\</u>__________<u className=\"text-gradient-8\">\\///\\\\\\\\\\/</u>____<u className=\"text-gradient-8\">\\///\\\\\\\\\\/</u>___<u className=\"text-gradient-8\">\\/\\\\\\</u>__<u className=\"text-gradient-8\">\\/\\\\\\</u>__<u className=\"text-gradient-8\">\\/\\\\\\</u>__<u className=\"text-gradient-8\">/\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\</u>_ <br/></div>\r\n          <div id=\"logo-line-9\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_<u className=\"text-gradient-9\">\\///</u>_____________<u className=\"text-gradient-9\">\\/////</u>________<u className=\"text-gradient-9\">\\/////</u>_____<u className=\"text-gradient-9\">\\///</u>___<u className=\"text-gradient-9\">\\///</u>___<u className=\"text-gradient-9\">\\///</u>__<u className=\"text-gradient-9\">\\///////////////</u>__<br/></div>\r\n        </pre>            \r\n      </div>\r\n    </div>,\r\n  \r\n    //page 2 AOC\r\n    <div id=\"modal-page-wrapper\">\r\n      <div id=\"modal-text-wrapper\" className=\"modal-text-wrapper-aoc\">\r\n          <div id=\"modal-text\" style={{fontSize: \"2.5rem\", justifyContent: \"space-around\"}}>\r\n            {acknowledgementOfCountryText}\r\n          </div>\r\n      </div>\r\n      <button id=\"modal-continue-button\" onClick={() => setCurrentModalPage(currentModalPage + 1)}> Continue </button>\r\n    </div>,\r\n\r\n    //'Where Are We' Native Land info TBA here\r\n    <div id=\"modal-page-wrapper\">\r\n      <div id=\"modal-title-wrapper\">\r\n        <div id=\"modal-title\">\r\n          Where are you?\r\n        </div>\r\n        <hr />\r\n      </div>\r\n      \r\n      <div id=\"modal-text-wrapper\">\r\n          <div id=\"modal-text\">\r\n            <p>Native Land info too go here</p>\r\n            <span className=\"ModalTextSmall\">Disclaimer text to go here</span>\r\n          </div>\r\n      </div>        \r\n      <button id=\"modal-continue-button\" onClick={() => setCurrentModalPage(currentModalPage + 1)}> Continue </button>\r\n    </div>,\r\n    \r\n    //page 3 Welcome\r\n    <div id=\"modal-page-wrapper\">\r\n      <div id=\"modal-title-wrapper\">\r\n        <div id=\"modal-title\">\r\n          Welcome to room2.fm async\r\n        </div>\r\n        <hr />\r\n      </div>\r\n      <div id=\"modal-text-wrapper\">\r\n          <div id=\"modal-text\">\r\n            {introText}\r\n          </div>\r\n      </div>        \r\n      <button id=\"modal-continue-button\" onClick={() => setCurrentModalPage(currentModalPage + 1)}> Continue </button>\r\n    </div>,\r\n  \r\n    //page 4 Instructions\r\n    <div id=\"modal-page-wrapper\">\r\n      <div id=\"modal-title-wrapper\">\r\n        <div id=\"modal-title\">\r\n          Welcome to room2.fm async\r\n        </div>\r\n        <hr />\r\n      </div>\r\n      <div id=\"modal-text-wrapper\">\r\n          <div id=\"modal-text\">\r\n            {instructionsText}\r\n          </div>\r\n      </div>        \r\n      <button id=\"modal-continue-button\" onClick={() => props.toggleModal()}> Continue </button>\r\n    </div>\r\n  ]\r\n\r\n  return (\r\n    <div id=\"AOC-modal\"\r\n         className=\"ModalWrapper\"\r\n         aria-labelledby=\"modal-title\"\r\n         aria-hidden=\"false\" >\r\n\r\n      <div data-a11y-dialog-hide className=\"ModalOverlay\" ></div>\r\n\r\n      <div role=\"document\" className=\"ModalBox\">\r\n        {currentModalPage === 1\r\n          ? <>{modalPages[currentModalPage]}</>\r\n          : <>\r\n            {modalPages[currentModalPage]}\r\n          </>}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function Marquee (props){\r\n  return (\r\n    <div id=\"top-banner-wrapper\">\r\n      <img id=\"cd-gif\" src={require('../content/media/slowdiscpixel.gif').default} alt=\"spinning cd gif\" />  \r\n      <div id=\"marquee-wrapper\">\r\n        <div style={{width: '100%'}}>\r\n          <div id=\"marquee-text-scroll\">\r\n              <span className=\"MarqueeEmoji\"> ~(˘▾˘~) </span>\r\n              ~ ~ ~ room2.fm is live \r\n              <span className=\"MarqueeEmoji\">(~˘▾˘)~</span> \r\n              {\"NOW PLAYING: \" + props.currentArtist} \r\n              <span className=\"MarqueeEmoji\"> ~(˘▾˘~) </span>\r\n              ~ ~ ~ room2.fm is live \r\n              <span className=\"MarqueeEmoji\">(~˘▾˘)~</span> \r\n              {\"NOW PLAYING: \" + props.currentArtist} \r\n              <span className=\"MarqueeEmoji\"> ~(˘▾˘~) </span>\r\n              ~ ~ ~ room2.fm is live \r\n              <span className=\"MarqueeEmoji\">(~˘▾˘)~</span> \r\n              {\"NOW PLAYING: \" + props.currentArtist}\r\n          </div>\r\n        </div>\r\n          \r\n      </div>            \r\n    </div>\r\n  )\r\n}","import React, { useEffect } from 'react';\r\n\r\nexport default function DrawingTools(props){\r\n  return (<>\r\n    {props.mobile\r\n      ?<div id=\"mobile-drawing-tools-wrapper\">\r\n        <div id=\"brush-size-wrapper\">\r\n          <span>Brush Size</span>\r\n          <div id=\"brush-size-slider-wrapper\">\r\n            <span style={{position: 'relative', top: '-0.1rem'}}>-</span>\r\n            <input type=\"range\" id=\"brush-size-slider\" name=\"brush-size-slider\" min=\"2\" max=\"60\" onInput={e => props.setBrushSize(e.target.value)} />\r\n            <span style={{position: 'relative', top: '-0.1rem'}}>+</span>\r\n          </div>\r\n        </div>\r\n        <div id=\"drawing-buttons-wrapper\">\r\n          <button id=\"erase-brush-button\" className=\"DrawingUIButton\" onClick={() => props.toggleEraser()}> ERASER <div id=\"eraser-icon\"><EraserIcon strokeColour=\"white\" /></div></button>\r\n          <button id=\"undo-button\" className=\"DrawingUIButton\" onClick={props.undoDrawing}> UNDO <div id=\"undo-icon\"><UndoIcon strokeColour=\"white\" /></div></button>\r\n          <button id=\"redo-button\" className=\"DrawingUIButton\" onClick={props.redoDrawing}> REDO <div id=\"redo-icon\"><RedoIcon strokeColour=\"white\" /></div></button>\r\n          <span id=\"brush-col-label\">Brush<br />Colour</span>\r\n          <input type=\"color\" id=\"mobile-col-select\" className=\"DrawingUIButton\" name=\"col1Select\" defaultValue={props.colours[0]} onInput={e => props.setCurrentColours([e.target.value], \"#000000\", \"#000000\")} />              \r\n        </div>        \r\n      </div>\r\n      :<>\r\n        <div id=\"drawing-buttons-wrapper\">\r\n          <button id=\"increase-brush-button\" className=\"DrawingUIButton\" onClick={() => {if(props.brushSize < 60){ props.setBrushSize(props.brushSize + 2 ) }}}> BRUSH + <div id=\"brush-up-icon\"><BrushUpIcon strokeColour=\"black\" /></div></button>\r\n          <button id=\"decrease-brush-button\" className=\"DrawingUIButton\" onClick={() => {if(props.brushSize > 2){ props.setBrushSize(props.brushSize - 2 ) }}}> BRUSH - <div id=\"brush-down-icon\"><BrushDownIcon strokeColour=\"black\" /></div></button>\r\n          <button id=\"erase-brush-button\" className=\"DrawingUIButton\" onClick={() => props.toggleEraser()}> ERASER <div id=\"eraser-icon\"><EraserIcon strokeColour=\"black\" /></div></button>\r\n          <button id=\"undo-button\" className=\"DrawingUIButton\" onClick={props.undoDrawing}> UNDO <div id=\"undo-icon\"><UndoIcon strokeColour=\"black\" /></div></button>\r\n          <button id=\"redo-button\" className=\"DrawingUIButton\" onClick={props.redoDrawing}> REDO <div id=\"redo-icon\"><RedoIcon strokeColour=\"black\" /></div></button>              \r\n        </div>\r\n      </>\r\n    }    \r\n    </>)\r\n}\r\nfunction UndoIcon(props){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      className=\"AudioPlayerIcon\">\r\n        <defs>\r\n          <marker id=\"arrowhead\" markerWidth=\"5\" markerHeight=\"5\" strokeWidth=\"0\" fill={props.strokeColour}\r\n          refX=\"0\" refY=\"2.5\" orient=\"auto\">\r\n            <polygon points=\"0 0, 5 2.5, 0 5\" />\r\n          </marker>\r\n        </defs>\r\n        <path fill=\"none\" strokeLinecap=\"round\" strokeWidth=\"6\" stroke={props.strokeColour} marker-end=\"url(#arrowhead)\"\r\n              d=\" M 30,80\r\n                  L 65,80\r\n                  A 15 15 0 1 0 65,28\r\n                  L 30,28\r\n                  \" />\r\n    </svg>\r\n  )\r\n}\r\nfunction RedoIcon(props){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      className=\"AudioPlayerIcon\">\r\n        <defs>\r\n          <marker id=\"arrowhead2\" markerWidth=\"5\" markerHeight=\"5\" strokeWidth=\"0\" fill={props.strokeColour}\r\n          refX=\"0\" refY=\"2.5\" orient=\"auto\">\r\n            <polygon points=\"0 0, 5 2.5, 0 5\" />\r\n          </marker>\r\n        </defs>\r\n        <path fill=\"none\" strokeLinecap=\"round\" strokeWidth=\"6\" stroke={props.strokeColour} marker-end=\"url(#arrowhead2)\"\r\n              d=\" M 70,80\r\n                  L 35,80\r\n                  A 15 15 0 0 1 35,28\r\n                  L 70,28\r\n                  \" />\r\n    </svg>\r\n  )\r\n}\r\nfunction EraserIcon(props){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      className=\"AudioPlayerIcon\"\r\n      fill='none'\r\n      stroke={props.strokeColour}\r\n      strokeWidth='3'\r\n      >\r\n        <rect x=\"10\" y=\"60\" width=\"40\" height=\"20\" />\r\n        <polygon points=\"10,60 50,60 85,20 45,20\" fill=\"yellow\" stroke-linejoin=\"bevel\" />\r\n        <polygon points=\"50,80 50,60 85,20 85,40\" fill=\"yellow\" stroke-linejoin=\"bevel\" />\r\n      \r\n    </svg>\r\n  )\r\n}\r\nfunction BrushUpIcon(props){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      className=\"AudioPlayerIcon\"\r\n      fill='none'\r\n      stroke={props.strokeColour}\r\n      strokeWidth='4'\r\n      stroke-linejoin=\"round\"\r\n      >\r\n        <path fill=\"none\" strokeLinecap=\"round\"\r\n              d=\"M 15,90 L 65,90 L 65,55 L 25,55 L 25,90 L 35,90 L 35,75 M 45,90 L 45,75\" />\r\n        <polygon points=\"25,55 35,45 35,15 40,10 50,10 55,15 55,45 65,55\" fill=\"yellow\" />\r\n        <path fill=\"none\" strokeLinecap=\"round\"\r\n              d=\"M 65,25 L 81,25 M 73,17 L 73,33\" />\r\n    </svg>\r\n  )\r\n}\r\nfunction BrushDownIcon(props){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      className=\"AudioPlayerIcon\"\r\n      fill='none'\r\n      stroke={props.strokeColour}\r\n      strokeWidth='4'\r\n      stroke-linejoin=\"round\"\r\n      >\r\n        <path fill=\"none\" strokeLinecap=\"round\"\r\n              d=\"M 15,90 L 65,90 L 65,55 L 25,55 L 25,90 L 35,90 L 35,75 M 45,90 L 45,75\" />\r\n        <polygon points=\"25,55 35,45 35,15 40,10 50,10 55,15 55,45 65,55\" fill=\"yellow\" />\r\n        <path fill=\"none\" strokeLinecap=\"round\"\r\n              d=\"M 65,25 L 81,25\" />\r\n    </svg>\r\n  )\r\n}\r\n\r\n","import React, { useEffect } from 'react'\r\n\r\nexport default function SettingsMenu(props) {\r\n\r\n  useEffect(() => {\r\n    document.getElementById(\"graphics-dropdown-wrapper\").addEventListener(\"mouseleave\", () => {\r\n      setDisplay(\"graphics-dropdown\", \"none\");\r\n    });\r\n    document.getElementById(\"settings-menu-wrapper\").addEventListener(\"mouseleave\", () => {\r\n      setDisplay(\"settings-dropdown\", \"none\");\r\n    });\r\n  },[]);\r\n\r\n  return (\r\n    <div id=\"settings-menu-wrapper\" className='Collider'>\r\n      <button className=\"SettingsMenuButton\" id=\"settings-menu-button\" onClick={() => {setDisplay(\"settings-dropdown\", \"flex\")}}>MENU</button>\r\n      <div id=\"settings-dropdown\">\r\n        <button className=\"SettingsMenuButton\" id=\"settings-info-button\" onClick={() => props.toggleModal()}>INFO</button>\r\n        <button className=\"SettingsMenuButton\" id=\"settings-focus-button\" onClick={() => props.toggleFocus()}>FOCUS MODE</button>   \r\n        <div id=\"graphics-dropdown-wrapper\">\r\n          <button className=\"SettingsMenuButton\" id=\"settings-graphics-button\" onClick={() => {setDisplay(\"graphics-dropdown\", \"flex\")}}>GRAPHICS SETTINGS</button>    \r\n          <div id=\"graphics-dropdown\">\r\n            <button className=\"SettingsMenuButton Active\" onClick={e => \r\n              {changeActiveButton(e);\r\n              props.setGraphicsSettings(1);}}\r\n            >HIGH</button>\r\n            <button className=\"SettingsMenuButton\" onClick={e => \r\n              {changeActiveButton(e)\r\n              props.setGraphicsSettings(10);}}\r\n            >MEDIUM</button>\r\n            <button className=\"SettingsMenuButton\" onClick={e => \r\n              {changeActiveButton(e)\r\n              props.setGraphicsSettings(20);}}\r\n            >LOW</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n    </div>\r\n  )\r\n  function setDisplay(id, displayMode){\r\n    document.getElementById(id).style.display = displayMode;\r\n  }\r\n  function changeActiveButton(e){\r\n    Array.from(document.getElementsByClassName(\"SettingsMenuButton\")).forEach(button => {\r\n      button.classList.remove(\"Active\");\r\n    });\r\n    e.target.classList.add(\"Active\");\r\n    setDisplay(\"graphics-dropdown\", \"none\");\r\n  }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { Shaders, Node, GLSL, NearestCopy} from \"gl-react\";\r\nimport { Surface } from \"gl-react-dom\";\r\n\r\nexport const shaders = Shaders.create({\r\n  onecolour: {\r\n    frag: GLSL`\r\n    // based on Inigo Quilez noise shader https://www.shadertoy.com/view/XdXGW8\r\n    precision highp float;\r\n    varying vec2 uv;\r\n    uniform float width;\r\n    uniform float height;\r\n    uniform float timer;\r\n    const vec3 ycol = vec3(.824,.953,.91);\r\n    const vec3 lcol = vec3(.961,.652,.266);\r\n    const vec3 rcol = vec3(.184,.219,.297);\r\n    \r\n    vec2 hash( vec2 x ) {\r\n      const vec2 k = vec2( 0.3183099, 0.3678794 );\r\n      x = x*k + k.yx;\r\n      return -1.0 + 2.0*fract( 16.0 * k*fract( x.x*x.y*(x.x+x.y)) );\r\n    }\r\n\r\n    float noise( in vec2 p ) {\r\n      vec2 i = floor( p );\r\n      vec2 f = fract( p );\t\r\n\t    vec2 u = f*f*(3.0-2.0*f);\r\n      return mix( mix( dot( hash( i + vec2(0.0,0.0) ), f - vec2(0.0,0.0) ), \r\n                       dot( hash( i + vec2(1.0,0.0) ), f - vec2(1.0,0.0) ), u.x),\r\n                  mix( dot( hash( i + vec2(0.0,1.0) ), f - vec2(0.0,1.0) ), \r\n                       dot( hash( i + vec2(1.0,1.0) ), f - vec2(1.0,1.0) ), u.x), u.y);\r\n    }\r\n\r\n    void main() {\r\n      vec2 res = vec2(width,height);\r\n      vec2 st = gl_FragCoord.xy / res;\r\n      vec2 translate = vec2(0.,0.5*timer);\r\n      if (fract( st.y * 0.5) > 0.4  || fract( st.y * 0.5) < 0.2){\r\n        st.x += translate.y*0.35; }\r\n      else {\r\n        if (fract( st.x * 0.5) > 0.2 || fract( st.x * 0.5) < 0.3){\r\n          st.x -= timer*0.5; }\r\n        else {\r\n          st.x += timer*0.35; }\r\n      }\r\n      if (fract( st.y * 0.5) > 0.8 || fract( st.y * 0.5) < 0.6){\r\n        st.x += translate.y*0.35; }\r\n      else {\r\n        if (fract( st.x * 0.5) < 0.4 || fract( st.x * 0.5) > 0.3){\r\n          st.x -= timer*0.5; }\r\n        else {\r\n          st.x += timer*0.35; }\r\n      }      \r\n      float f = noise( 2.0*st );\r\n      f = 1.-(0.6 + 0.2*f);\r\n      vec3 ycol = ycol * (0.5 * sin(timer));\r\n\r\n      gl_FragColor = vec4(min(mix(ycol,mix(rcol,lcol,uv.x-0.2),uv.y+0.2), vec3(f,f,f)), 1.0);\r\n    }`\r\n}});\r\n\r\nexport class GLVis extends Component {\r\n  render() {\r\n    return <>\r\n    <Surface width={this.props.width*0.75} height={this.props.height*0.68}>\r\n\r\n      <NearestCopy>\r\n        <Node shader={shaders.onecolour} ignoreUnusedUniforms uniforms={{timer: this.props.timer, width: this.props.width*0.075, height: this.props.width*0.068}} width={this.props.width*0.075} height={this.props.height*0.068} /> \r\n      </NearestCopy>\r\n                              \r\n    </Surface>\r\n    </>;\r\n  }\r\n}\r\n\r\nexport default GLVis;\r\n","import React, { useEffect, useRef, useState } from 'react'\r\n\r\nexport default function ResponseDisplay(props) {\r\n  \r\n  //length between displaying the responses\r\n  const responseLoopDelay = 1000;\r\n\r\n  // time for fade in/out and for how long the response is visible in ms\r\n  const responseFadeTime = 1500;\r\n  const responseHangTime = 15000;\r\n\r\n  const [responsesToDisplay, setResponsesToDisplay] = useState([]);\r\n  const responsesToDisplayRef = useRef();\r\n  const responsesDisplaying = useRef(false);\r\n\r\n  const displaysOnScreen = 3;\r\n\r\n  // useeffect to run only after the first time responses to display is updated to contain responses, not the following times it's order is updated\r\n  useEffect(() => {\r\n    if(responsesToDisplay.length > 0 && !responsesDisplaying.current){\r\n      console.log(responsesToDisplay);\r\n      for(let i = 0; i < displaysOnScreen; i++){\r\n        setTimeout(displayNextResponse, responseFadeTime*i);\r\n      }      \r\n      responsesDisplaying.current = true;\r\n    }\r\n    responsesToDisplayRef.current = responsesToDisplay;\r\n  }, [responsesToDisplay]);\r\n\r\n  // run loop once new response data arrives\r\n  useEffect(() => {\r\n    if(props.responseData.length > 0){\r\n      setResponsesToDisplay(props.responseData);\r\n      responsesToDisplayRef.current = props.responseData;\r\n    }\r\n  }, [props.responseData]);\r\n\r\n  return (\r\n    <div id=\"response-wrapper\"></div>\r\n  )\r\n\r\n  function displayNextResponse(){\r\n    let modOrderResponses = Array.from(responsesToDisplayRef.current);\r\n    let nextResponse = modOrderResponses.pop();\r\n    if(nextResponse[1] === 'image'){\r\n      createImageResponseDisplay(nextResponse[0]);\r\n    } else {\r\n      createTextResponseDisplay(nextResponse[0]);\r\n    }\r\n    setResponsesToDisplay([nextResponse].concat(modOrderResponses));\r\n  }\r\n\r\n  function createImageResponseDisplay(imageResponse){\r\n    let newResponseBox = document.createElement('img');\r\n    let collision = false;\r\n    newResponseBox.classList.add('ImageResponseBox');\r\n    let xRandom = Math.random();\r\n    let yRandom = Math.random();\r\n    newResponseBox.addEventListener(\"load\", (e) => {\r\n      // add to the page\r\n      document.getElementById('response-wrapper').appendChild(newResponseBox);\r\n      let responseBoxDimensions = newResponseBox.getBoundingClientRect();\r\n      newResponseBox.style.left = (80 * xRandom) + \"%\";\r\n      newResponseBox.style.top = ((100 - (props.height / responseBoxDimensions.height)) * yRandom) + \"%\";\r\n      let colliderArray = Array.from(document.getElementsByClassName(\"Collider\"));\r\n      for (let i = 0; i < colliderArray.length; i++) {\r\n        if(detect2DBoxCollision(newResponseBox.getBoundingClientRect(), colliderArray[i].getBoundingClientRect()) && !collision){\r\n          collision = true;\r\n        }\r\n      }\r\n      if(collision){\r\n        newResponseBox.remove();\r\n        window.requestAnimationFrame(() => createImageResponseDisplay(imageResponse));\r\n        console.log(\"loop\");\r\n      } else {\r\n        newResponseBox.classList.add(\"Collider\");\r\n        responseFadeInOut(newResponseBox);\r\n      } \r\n    });\r\n    newResponseBox.src = 'https://humstore.thelongesthum.world/'+imageResponse;\r\n  }\r\n\r\n  function createTextResponseDisplay(textResponse){\r\n    let newResponseBox = document.createElement('p');\r\n    let collision = false;\r\n    newResponseBox.innerHTML = textResponse;\r\n    newResponseBox.classList.add('TextResponseBox');\r\n    let xRandom = Math.random();\r\n    let yRandom = Math.random();\r\n    document.getElementById('response-wrapper').appendChild(newResponseBox);\r\n    let responseBoxDimensions = newResponseBox.getBoundingClientRect();\r\n    newResponseBox.style.left = (80 * xRandom) + \"%\";\r\n    newResponseBox.style.top = ((100 - (props.height / responseBoxDimensions.height)) * yRandom) + \"%\";\r\n    let colliderArray = Array.from(document.getElementsByClassName(\"Collider\"));\r\n    for (let i = 0; i < colliderArray.length; i++) {\r\n      if(detect2DBoxCollision(newResponseBox.getBoundingClientRect(), colliderArray[i].getBoundingClientRect()) && !collision){\r\n        collision = true;\r\n      }\r\n    }\r\n    if(collision){\r\n      newResponseBox.remove();\r\n      window.requestAnimationFrame(() => createTextResponseDisplay(textResponse));\r\n    } else {\r\n      newResponseBox.classList.add(\"Collider\");\r\n      responseFadeInOut(newResponseBox);\r\n    } \r\n  }\r\n\r\n  function responseFadeInOut(responseElement){\r\n    responseElement.style.transition = responseFadeTime + \"ms\";\r\n    setTimeout(() =>{\r\n      // responseElement.classList.add('FadeIn');\r\n      responseElement.style.opacity = 1;\r\n      setTimeout(() => {responseElement.style.opacity = 0;}, responseHangTime);\r\n      setTimeout(() => {responseElement.remove(); displayNextResponse();}, responseFadeTime + responseHangTime + 100);\r\n    }, 100);\r\n  }\r\n}\r\n\r\nfunction detect2DBoxCollision(box1, box2){\r\n  let collision = false;\r\n  if(box1.left < box2.right &&\r\n     box1.right > box2.left &&\r\n     box1.top < box2.bottom &&\r\n     box1.bottom > box2.top) {\r\n      collision = true;\r\n      console.log(\"hit\");\r\n    }\r\n  return collision;\r\n}\r\n","import React from 'react';\r\nimport Sketch from 'react-p5';\r\nimport 'p5/lib/addons/p5.sound';\r\n\r\nexport default function TextBG() {\r\n\r\n  let fft, mic;\r\n\r\n  let col1 = 0;\r\n\r\n  const setup = (p5, canvasParentRef) => {\r\n    p5.createCanvas(0, 0).parent(canvasParentRef);\r\n    mic = new p5.constructor.AudioIn();\r\n    mic.start();\r\n    fft = new p5.constructor.FFT();\r\n    fft.setInput(mic);\r\n  }\r\n  \r\n  const draw = p5 => {\r\n    p5.background(col1, 130, 20);\r\n    let spectrum = fft.analyze();\r\n    let mid = fft.getEnergy(\"mid\");\r\n    console.log(mid);\r\n    //console.log(fft.analyze());\r\n    //col1 = fft.getEnergy(\"mid\");\r\n    document.documentElement.style.setProperty(\"--font-var-one\", mid);\r\n  }\r\n  \r\n  return <>\r\n  <Sketch setup={setup} draw={draw} />\r\n  <span className='vfText'>Variable Test</span>\r\n  </>\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nexport default function ColourPicker(props){\r\n\r\n  useEffect(() => {\r\n    document.getElementById('col1Select').addEventListener(\"input\", colourInputChange, false);\r\n    document.getElementById('col2Select').addEventListener(\"input\", colourInputChange, false);\r\n    document.getElementById('col3Select').addEventListener(\"input\", colourInputChange, false);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div id=\"col-select-wrapper\">\r\n        <input type=\"color\" id=\"col1Select\" className=\"col-select first\" name=\"col1Select\" defaultValue={props.colours[0]} />\r\n        <input type=\"color\" id=\"col2Select\" className=\"col-select second\" name=\"col23Select\" defaultValue={props.colours[1]} />\r\n        <input type=\"color\" id=\"col3Select\" className=\"col-select third\" name=\"col33Select\" defaultValue={props.colours[2]} />\r\n      </div>\r\n      <div id=\"col-swap-wrapper\">\r\n        <span id=\"word-change\">CHANGE</span>\r\n        <button id=\"col-swap-button\" onClick={() => colourSwap()}>\r\n          <SwapIcon />\r\n        </button>        \r\n        <span id=\"word-colour\">COLOUR</span>\r\n      </div>\r\n    </>      \r\n  )\r\n\r\n  function colourSwap(e){\r\n    let selectors = document.getElementsByClassName(\"col-select\");\r\n    for (let i = 0; i < 3; i++){\r\n      let cl = selectors[i].classList;\r\n      switch(true){\r\n        case cl.contains('first'):\r\n        cl.remove('first');\r\n        cl.add('third');\r\n        break;\r\n        case cl.contains('second'):\r\n        cl.remove('second');\r\n        cl.add('first');\r\n        break;\r\n        case cl.contains('third'):\r\n        cl.remove('third');\r\n        cl.add('second');\r\n        break;\r\n        default:\r\n        break;\r\n      }\r\n    }\r\n    props.setSelectedColour(oldCol => {\r\n      if(oldCol < 2){ return oldCol +1; }\r\n      else { return 0; }\r\n    });\r\n  }\r\n  function colourInputChange(e){    \r\n    let colNum = parseInt(e.target.id.charAt(3));\r\n    document.documentElement.style.setProperty('--comp-col-0'+colNum, e.target.value);\r\n    let newColours = props.colours;\r\n    newColours[colNum - 1] = e.target.value;\r\n    props.setCurrentColours(newColours);\r\n    props.updateCanvasBrush();\r\n  }\r\n}\r\n\r\n/* expecting a 5:1 aspect ratio */\r\nfunction SwapIcon(){\r\n  return (\r\n    <svg\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 100 100\"\r\n      stroke-linejoin=\"round\"\r\n      xmlns=\"http://www.w3.org/2000/svg\" >\r\n        {/* Arrow Head */}\r\n        <marker id=\"arrowhead\" markerWidth=\"10\" markerHeight=\"6\" refX=\"7\" refY=\"3\" orient=\"auto\">\r\n          <polygon points=\"0 0, 8 3.5, 0 6\" />\r\n        </marker>\r\n        <path fill=\"none\" strokeWidth=\"6\" markerEnd=\"url(#arrowhead)\" \r\n              d=\" M 25, 50\r\n                  L 5,18.4 95,18.4 50,76.6\r\n                  \" />\r\n    </svg>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport videojs from 'video.js'\r\nimport 'video.js/dist/video-js.css'\r\n\r\nexport default class VideoPlayer extends React.Component {\r\n  componentDidMount() {\r\n    // instantiate Video.js\r\n    this.player = videojs(this.videoNode, this.props, function onPlayerReady() {\r\n      console.log('onPlayerReady', this)\r\n    });\r\n  }\r\n\r\n  // destroy player on unmount\r\n  componentWillUnmount() {\r\n    if (this.player) {\r\n      this.player.dispose()\r\n    }\r\n  }\r\n\r\n  // wrap the player in a div with a `data-vjs-player` attribute\r\n  // so videojs won't create additional wrapper in the DOM\r\n  // see https://github.com/videojs/video.js/pull/3856\r\n  render() {\r\n    return (\r\n      <div id=\"video-stream-wrapper\">\r\n        <div data-vjs-player>\r\n          <video ref={ node => this.videoNode = node } className=\"video-js vjs-fill\" id=\"video-stream-player\"></video>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component, useState, useEffect, useRef } from 'react';\r\nimport AudioControls from './audioControls';\r\nimport DrawingCanvas from './drawingCanvas';\r\nimport IntroModal from './introModal';\r\nimport Marquee from './marquee';\r\nimport DrawingTools from './drawingTools';\r\nimport SettingsMenu from './settingsMenu';\r\nimport GLVis from './glVis';\r\nimport ResponseDisplay from './responseDisplay';\r\nimport TextBG from './textBG';\r\nimport { InfoOverlay } from './infoOverlay';\r\nimport ColourPicker from './colourPicker';\r\nimport VideoStreamPlayer from './videoStreamPlayer';\r\n\r\nexport default function DesktopApp(props){\r\n\r\n  const [currentModalPage, setCurrentModalPage] = useState(1);\r\n\r\n  // graphics settings  - 1 high 10 medium 20 low\r\n  const[graphicsSettings, setGraphicsSettings] = useState(1);\r\n\r\n  return (\r\n    <div id=\"desktop-wrapper\">\r\n      {props.modalIsOpen\r\n        ? <IntroModal \r\n            currentModalPage={currentModalPage}\r\n            setCurrentModalPage={setCurrentModalPage}\r\n            toggleModal={props.toggleModal} />\r\n        : <>\r\n            <div id=\"room2-wrapper\">\r\n\r\n              {/* Top Banner */}\r\n              <Marquee\r\n                currentArtist={props.currentArtist} />\r\n\r\n              {/* Visuals */} \r\n              <div id=\"vis-wrapper\">\r\n                {/* Background Visuals */} \r\n                <div id=\"bg-vis-wrapper\" style={{\r\n                  display: \"flex\",\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  fontSize: '4vw',\r\n                  textAlign: 'center'\r\n                }}>\r\n                  {/* {props.currentPrompt} */}\r\n                  {/* <VideoStreamPlayer /> */}\r\n                  <TextBG />\r\n                </div>\r\n                {/* Response Overlay */}\r\n                <ResponseDisplay \r\n                  responseData={props.responseData}\r\n                  height={props.height}\r\n                  width={props.width} />\r\n                {/* Menu and Prompt Overlay */}\r\n                <div id=\"menu-prompt-wrapper\">\r\n                  {/* Settings Menu Overlay */}\r\n                  <SettingsMenu\r\n                    toggleFocus={props.toggleFocus} \r\n                    overlayToggle={props.toggleModal} />\r\n                  {/* Prompt and Input Selection */}\r\n                  <div id=\"current-prompt-wrapper\" className=\"Collider\">\r\n                    <div id=\"prompt-end-timer-wrapper\">\r\n                      <div id=\"prompt-end-timer\" />\r\n                      <div id=\"prompt-end-timer-overlay\" />\r\n                    </div>           \r\n                    <div id=\"current-prompt\">\r\n                      {props.currentPrompt}\r\n                    </div>           \r\n                    <div id=\"input-select-wrapper\">\r\n                      <span id=\"input-select\">I would like to&nbsp;\r\n                      <button id=\"draw-input-select\" className=\"InputSelectButton\" onClick={() => props.setInput(true)}>draw</button>&nbsp;/&nbsp;\r\n                      <button id=\"text-input-select\" className=\"InputSelectButton ActiveInputButton\" onClick={() => props.setInput(false)}>write</button>\r\n                      &nbsp;a response</span>\r\n                    </div>\r\n                  </div>\r\n                </div>                \r\n              </div>\r\n\r\n              {/* Interface */}\r\n              <div id=\"interface-wrapper\">\r\n                {/* Left Side Drawing Tools */}\r\n                <DrawingTools\r\n                  undoDrawing={props.undoDrawing}\r\n                  redoDrawing={props.redoDrawing}\r\n                  toggleEraser={props.toggleEraser}\r\n                  colours={props.colours}\r\n                  changeColourOrder={props.changeColourOrder}\r\n                  changeColours={props.changeColours}\r\n                  brushSize={props.brushSize}\r\n                  setBrushSize={props.setBrushSize} /> \r\n                {/* Input Section */}\r\n                <div id=\"input-wrapper\">\r\n                  {/* Writing Section */}            \r\n                  <textarea id=\"text-input\" name=\"text based prompt response\" placeholder=\"Please type your response here...\" />\r\n                  {/* Drawing Section */} \r\n                  <DrawingCanvas \r\n                    brushColour={props.colours[0]}\r\n                    brushSize={props.brushSize}\r\n                    setDrawingCanvas={props.setDrawingCanvas}\r\n                    setCurrentCanvasState={props.setCurrentCanvasState}\r\n                    setIsDrawing={props.setIsDrawing} />\r\n                </div>             \r\n                {/* Right UI Panel */}\r\n                <div id=\"right-ui-wrapper\">\r\n                  {/* Colour Picker */}\r\n                  <div id=\"col-pick-wrapper\">                \r\n                    <ColourPicker \r\n                      colours={props.colours}\r\n                      updateCanvasBrush={props.updateCanvasBrush}\r\n                      setSelectedColour={props.setSelectedColour}\r\n                      setCurrentColours={props.setCurrentColours} />              \r\n                  </div>\r\n                  {/* Submit Response Button */}             \r\n                  <button id=\"response-submit-button\" onClick={props.submitResponse}>\r\n                    <span>SUBMIT RESPONSE</span>                \r\n                  </button>\r\n                  {/* Audio Settings */}\r\n                  <AudioControls />            \r\n                </div>\r\n              </div>\r\n            {/* Info Overlay */}\r\n            {/* {this.state.infoOverlay &&\r\n              <InfoOverlay overlayToggle={this.toggleInfoOverlay.bind(this)} /> } */}\r\n          </div>\r\n          {/* dead simple text chat */}\r\n          <iframe title=\"text chat\" id=\"chat\" src='https://deadsimplechat.com/34MeFCATo'></iframe>        \r\n        </>}\r\n    </div>\r\n  )  \r\n}\r\n","import React, {useEffect} from 'react';\r\nimport IntroModal from './introModal';\r\nimport DrawingCanvas from './drawingCanvas';\r\nimport DrawingTools from './drawingTools';\r\n\r\n\r\nexport default function MobileApp(props){\r\n  useEffect(() => {\r\n    console.log(props.responseTime) \r\n  }, [props.responseTime]);\r\n  return (\r\n    <div id=\"mobile-wrapper\">\r\n      {props.modalIsOpen\r\n        ? <IntroModal mobile={props.mobile} toggleModal={props.toggleModal} />\r\n        : <>\r\n\r\n        {/* prompt */}\r\n        <div id=\"current-prompt-wrapper\">          \r\n          <div id=\"current-prompt\">\r\n            {props.currentPrompt}\r\n            <span>{props.responseTime}</span>\r\n          </div>\r\n        </div>\r\n        {/* Submit Button */}\r\n        <button id=\"mobile-response-submit-button\" className=\"InputSelectButton\" onClick={props.submitResponse}>\r\n          <span>SUBMIT RESPONSE</span>                \r\n        </button>\r\n        {/* input select */}\r\n        <div id=\"input-select-wrapper\">\r\n          <button id=\"draw-input-select\" className=\"InputSelectButton\" onClick={() => props.setInput(true)}>draw</button>\r\n          <button id=\"text-input-select\" className=\"InputSelectButton ActiveInputButton\" onClick={() => props.setInput(false)}>write</button>\r\n        </div>\r\n        {/* end timer */}\r\n        {/* <div id=\"prompt-end-timer-wrapper\">\r\n          <div id=\"prompt-end-timer\">this prompt will change in 60 seconds...</div>\r\n          <div id=\"prompt-end-timer-overlay\" />\r\n        </div> */}\r\n        {/* input section */}\r\n        <div style={{flexGrow: 1, display: 'flex', flexDirection: 'column', overflow: 'hidden'}}>\r\n          <div id=\"input-wrapper\"> \r\n            <DrawingCanvas \r\n                brushColour={props.colours[0]}\r\n                brushSize={props.brushSize}\r\n                setDrawingCanvas={props.setDrawingCanvas}\r\n                setCurrentCanvasState={props.setCurrentCanvasState}\r\n                setIsDrawing={props.setIsDrawing} />             \r\n            <textarea id=\"text-input\" name=\"text based prompt response\" placeholder=\"Please type your response here...\" />\r\n          </div>\r\n          <DrawingTools\r\n            undoDrawing={props.undoDrawing}\r\n            redoDrawing={props.redoDrawing}\r\n            toggleEraser={props.toggleEraser}\r\n            colours={props.colours}\r\n            setCurrentColours={props.setCurrentColours}\r\n            setBrushSize={props.setBrushSize}\r\n            mobile={props.mobile} />\r\n        </div>\r\n        \r\n        </>}\r\n    </div>\r\n  )\r\n}\r\n","//What food would pair well with this track\r\nexport const artistPresets = [\r\n  { \"artistname\": \"Izabel ~ WORDS BY: Emile Frankel ~ VISUALS BY: Mohamed Chamas\",\r\n    \"emoji01\": require(\"./emojis/desert.png\").default,\r\n    \"emoji01width\": \"1.6vw\",\r\n    \"emoji01alt\": \"desert emoji\",\r\n    \"emoji02\": require(\"./emojis/blossoming-flower.png\").default,\r\n    \"emoji02width\": \"1.6vw\",    \r\n    \"emoji02alt\": \"blooming flower emoji\",\r\n    \"emoji03\": require(\"./emojis/mushroom.png\").default,\r\n    \"emoji03width\": \"1.6vw\",\r\n    \"emoji03alt\": \"mushroom emoji\" \r\n  },\r\n  { \"artistname\": \"Hani Hanbali ~ WORDS BY: Emile Frankel ~ VISUALS BY: Mohamed Chamas\",\r\n    \"emoji01\": require(\"./emojis/alien.png\").default,\r\n    \"emoji01width\": \"1.6vw\",\r\n    \"emoji01alt\": \"alien face emoji\",\r\n    \"emoji02\": require(\"./emojis/woozy.png\").default,\r\n    \"emoji02width\": \"1.6vw\",\r\n    \"emoji02alt\": \"woozy emoji\",\r\n    \"emoji03\": require(\"./emojis/teddy-bear.png\").default,\r\n    \"emoji03width\": \"1.6vw\",    \r\n    \"emoji03alt\": \"teddy bear emoji\"   \r\n  },\r\n  { \"artistname\": \"Hannah Wu ~ WORDS BY: Panda Wong ~ VISUALS BY: Mohamed Chamas\",\r\n    \"emoji01\": require(\"./emojis/butterfly.png\").default,\r\n    \"emoji01width\": \"1.6vw\",\r\n    \"emoji01alt\": \"butterfly emoji\",\r\n    \"emoji02\": require(\"./emojis/leaf-in-wind.png\").default,\r\n    \"emoji02width\": \"1.6vw\",\r\n    \"emoji02alt\": \"leaf in wind emoji\",\r\n    \"emoji03\": require(\"./emojis/spiral-shell.png\").default,\r\n    \"emoji03width\": \"1.6vw\",    \r\n    \"emoji03alt\": \"spiral shell emoji\" \r\n  },\r\n]","import React, { useEffect, useState, useRef } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nimport './App.css';\r\n\r\nimport DesktopApp from './components/desktopApp';\r\nimport MobileApp from './components/mobileApp';\r\nimport {artistPresets} from './content/preloadArrays.js';\r\n\r\n\r\nexport default function App(){\r\n  // is accessed on mobile\r\n  const onMobile = window.matchMedia('all and (any-hover: none)').matches;\r\n  //const onMobile = false;\r\n  // current window size\r\n  const [windowSize, setWindowSize] = useState([window.innerWidth, window.innerHeight]);\r\n  // is the intro modal open\r\n  //const [modalIsOpen, setModalIsOpen] = useState(true);\r\n  const [modalIsOpen, setModalIsOpen] = useState(false);\r\n  // current artist\r\n  const [currentArtist, setCurrentArtist] = useState(<>Take a deep breath, then continue to breathe along with the rhythm of the track.<br/>Draw or write your interpretation of the textures you hear.</>);\r\n  // current text prompt\r\n  const [currentPrompt, setCurrentPrompt] = useState(<>Take a deep breath, then continue to breathe along with the rhythm of the track.<br/>Draw or write your interpretation of the textures you hear.</>);\r\n  // if false it's assumed to be text instead\r\n  const[inputIsDraw, setInputIsDraw] = useState(false);\r\n  // other responses from database\r\n  const [responseData, setResponseData] = useState([]);\r\n  // last response id from database\r\n  const [lastResponseID, setLastResponseID] = useState(0);\r\n  // response update loop timing\r\n  const liveUpdateTime = 5000;\r\n  // current drawing colours\r\n  const [currentColours, setCurrentColours] = useState([\r\n    \"#222323\",\r\n    \"#5252ff\",\r\n    \"#b5e877\"\r\n  ]);\r\n  const[selectedColour, setSelectedColour] = useState(0);\r\n  var selectedColourRef = useRef(selectedColour);\r\n  useEffect(() => {selectedColourRef.current = selectedColour}, [selectedColour]);\r\n  // drawing settings\r\n  const [brushSize, setBrushSize] = useState(8);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  var isDrawingRef = useRef(isDrawing);\r\n  useEffect(() => {isDrawingRef.current = isDrawing}, [isDrawing]);\r\n  const [isEraser, setIsEraser] = useState(false);\r\n  const [savedBrush, setSavedBrush] = useState(null);\r\n  // undo/redo settings\r\n  const maxUndo = 10;\r\n  const [drawingCanvas, setDrawingCanvas] = useState(null);\r\n  var drawingCanvasRef = useRef(drawingCanvas);\r\n  useEffect(() => {drawingCanvasRef.current = drawingCanvas}, [drawingCanvas]);\r\n  const [currentCanvasState, setCurrentCanvasState] = useState(null);\r\n  var currentCanvasStateRef = useRef(currentCanvasState);\r\n  useEffect(() => {currentCanvasStateRef.current = currentCanvasState}, [currentCanvasState]);\r\n  const [undoStack, setUndoStack] = useState([]);\r\n  const [redoStack, setRedoStack] = useState([]);\r\n  var undoStackRef = useRef(undoStack);\r\n  var redoStackRef = useRef(redoStack);\r\n  useEffect(() => {undoStackRef.current = undoStack}, [undoStack]);\r\n  useEffect(() => {redoStackRef.current = redoStack}, [redoStack]);\r\n  // is focus mode active\r\n  const [focusMode, setFocusMode] = useState(false);\r\n\r\n  // handle prompt change\r\n  const[isCountdown, setIsCountdown] = useState(false);\r\n\r\n  const [responseTime, setResponseTime] = useState(0);\r\n\r\n  // my init function to run on app load\r\n  useEffect(() => {\r\n    // set up to update window dimensions on resize event\r\n    setWindowSize([window.innerWidth, window.innerHeight]);\r\n    window.addEventListener('resize', () => {\r\n      setWindowSize([window.innerWidth, window.innerHeight])});\r\n/* !!! Remove for modal trigger */\r\n    document.addEventListener('mouseup', saveCanvasState);\r\n    document.addEventListener('touchend', saveCanvasState);\r\n    document.addEventListener('touchcancel', saveCanvasState);\r\n    if(!onMobile){\r\n      liveUpdate();\r\n    }\r\n  }, []);\r\n\r\n  // update brush colour and cursor on colour change\r\n  useEffect(() => {\r\n    if(drawingCanvasRef.current && !isEraser){\r\n      updateCanvasBrush();\r\n    }    \r\n  }, [selectedColour]);\r\n\r\n  useEffect(() => {\r\n    if(drawingCanvasRef.current){\r\n      updateCanvasBrush();      \r\n    }    \r\n  }, [brushSize]);\r\n\r\n  return (\r\n    <div id=\"global-wrapper\">\r\n      {onMobile\r\n      ? \r\n        <MobileApp\r\n          responseTime={responseTime}\r\n          mobile={onMobile}  \r\n          modalIsOpen={modalIsOpen}\r\n          toggleModal={toggleModal}\r\n          currentPrompt={currentPrompt}\r\n          currentArtist={currentArtist}\r\n          submitResponse={submitResponse}\r\n          setInput={setInput}\r\n          setIsDrawing={setIsDrawing}\r\n          colours={currentColours}\r\n          setCurrentColours={setCurrentColours}\r\n          brushSize={brushSize}\r\n          setBrushSize={setBrushSize}\r\n          toggleEraser={toggleEraser}\r\n          setDrawingCanvas={setDrawingCanvas}\r\n          setCurrentCanvasState={setCurrentCanvasState}\r\n          undoDrawing={undoDrawing}\r\n          redoDrawing={redoDrawing} />\r\n      : \r\n        <DesktopApp \r\n          mobile={onMobile}\r\n          modalIsOpen={modalIsOpen}\r\n          toggleModal={toggleModal}\r\n          toggleFocus={toggleFocus}\r\n          currentPrompt={currentPrompt}\r\n          currentArtist={currentArtist}\r\n          width={windowSize[0]}\r\n          height={windowSize[1]}\r\n          submitResponse={submitResponse}\r\n          responseData={responseData}\r\n          setInput={setInput}\r\n          setIsDrawing={setIsDrawing}\r\n          colours={currentColours}\r\n          selectedColour={selectedColour}\r\n          setSelectedColour={setSelectedColour}\r\n          setCurrentColours={setCurrentColours}\r\n          brushSize={brushSize}\r\n          setBrushSize={setBrushSize}\r\n          toggleEraser={toggleEraser}\r\n          updateCanvasBrush={updateCanvasBrush}\r\n          setDrawingCanvas={setDrawingCanvas}\r\n          setCurrentCanvasState={setCurrentCanvasState}\r\n          undoDrawing={undoDrawing}\r\n          redoDrawing={redoDrawing} />\r\n      }\r\n    </div>\r\n  )\r\n\r\n  // gets triggered when either the intro or info modal are brought up\r\n  function toggleModal(){\r\n    // add and remove event listener that triggers after drawing to save canvas to undo stack\r\n    if(modalIsOpen){\r\n      document.addEventListener('mouseup', saveCanvasState);\r\n    } else {\r\n      document.removeEventListener('mouseup', saveCanvasState);\r\n    }\r\n    // toggle state\r\n    setModalIsOpen(!modalIsOpen);\r\n  }\r\n\r\n  function toggleFocus(){\r\n    let textResponseRule = getCSSRule('.TextResponseBox');\r\n    let imageResponseRule = getCSSRule('.ImageResponseBox');\r\n    if(!focusMode){\r\n      setFocusMode(true);\r\n      textResponseRule.style.backgroundColor = \"rgb(31, 33, 28)\";\r\n      textResponseRule.style.border = \"solid white 1px\";\r\n      imageResponseRule.style.backgroundColor = \"white\";\r\n      imageResponseRule.style.border = \"solid rgb(31, 33, 28) 1px\";\r\n    } else {\r\n      setFocusMode(false);\r\n      textResponseRule.style.backgroundColor = \"\";\r\n      textResponseRule.style.border = \"\";\r\n      imageResponseRule.style.backgroundColor = \"\";\r\n      imageResponseRule.style.border = \"\";\r\n    }\r\n  }\r\n\r\n  // get latest info from server\r\n  function liveUpdate(){\r\n    fetch(`https://room2.fm/api/getLiveUpdate`, {\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      method: 'POST',\r\n      mode: 'cors',\r\n      body: JSON.stringify({ lastResponseID: lastResponseID})\r\n    })\r\n      .then(res => res.json())\r\n      .then(res => updateFromServerResponse(res.data));\r\n    setTimeout(liveUpdate, liveUpdateTime)\r\n  }\r\n\r\n  //update state from latest server info\r\n  function updateFromServerResponse(serverResponse){\r\n    // set up array to push other responses to\r\n    let returnedResponses = [];\r\n    setCurrentArtist(serverResponse[0][0].currentArtist);\r\n    setCurrentPrompt(serverResponse[0][0].currentPrompt);\r\n    if(serverResponse[1].length){\r\n      serverResponse[1].forEach(response => {\r\n        returnedResponses.push([response.RESPONSE, response.RESPONSE_TYPE]);\r\n        //setLastResponseID(response.id);\r\n      });\r\n      setResponseData(returnedResponses);\r\n    }    \r\n  }\r\n\r\n  function submitResponse(){\r\n    let responseTimer;\r\n    // check if a text or an image response\r\n    if(inputIsDraw){\r\n      //image input\r\n      let imageInput = document.getElementById('drawing-canvas');\r\n      var dataURL = imageInput.toDataURL({\r\n        format: 'png',\r\n        left: 0,\r\n        top: 0,\r\n        width: imageInput.width,\r\n        height: imageInput.height\r\n      });\r\n      const formData = new FormData();\r\n      let imageFile = dataURLtoFile(dataURL, 'response.png');\r\n      drawingCanvas.clear();\r\n      formData.append('upload', imageFile);\r\n      responseTimer = Date.now();\r\n      fetch(`https://room2.fm/api/insertLiveImageReflection`, {\r\n        method: 'PUT',\r\n        body: formData\r\n      })\r\n      .then(res => res.json())\r\n      .then(() => {setResponseTime(responseTimer - Date.now())});\r\n    } else {\r\n      // text input\r\n      let textInput = document.getElementById('text-input');\r\n      let responseText = textInput.value;\r\n      if(responseText.length > 0){\r\n        textInput.value = '';\r\n        responseTimer = Date.now();\r\n        fetch(`https://room2.fm/api/insertLiveTextReflection`, {\r\n          headers: { 'Content-type': 'application/json' },\r\n          method: 'POST',\r\n          mode: 'cors',\r\n          body: JSON.stringify({reflection: responseText})\r\n        })\r\n      .then(res => res.json())\r\n      .then(() => {setResponseTime(responseTimer - Date.now())});   \r\n      }\r\n    }\r\n  }\r\n\r\n  // to change between draw and write - true = draw - false = text\r\n  function setInput(changeToDraw){\r\n    if(changeToDraw){\r\n      setInputIsDraw(true);\r\n      if(onMobile){\r\n        document.getElementById(\"input-wrapper\").style.left= \"0%\";\r\n        document.getElementById(\"mobile-wrapper\").style.height= \"100%\";\r\n      }\r\n      else{\r\n        document.getElementById(\"input-wrapper\").style.top= \"-100%\";\r\n        getCSSRule('#input-wrapper::after').style.top = \"calc(50% + 4px)\";\r\n      }\r\n      document.getElementById(\"draw-input-select\").classList.add(\"ActiveInputButton\");\r\n      document.getElementById(\"text-input-select\").classList.remove(\"ActiveInputButton\");\r\n    } else {\r\n      setInputIsDraw(false);\r\n      if(onMobile){\r\n        document.getElementById(\"input-wrapper\").style.left= \"-100%\";\r\n        document.getElementById(\"mobile-wrapper\").style.height= \"calc(100% + 33vw)\";\r\n      }\r\n      else{\r\n        document.getElementById(\"input-wrapper\").style.top= \"0%\";\r\n        getCSSRule('#input-wrapper::after').style.top = \"4px\";\r\n      }\r\n      document.getElementById(\"draw-input-select\").classList.remove(\"ActiveInputButton\");\r\n      document.getElementById(\"text-input-select\").classList.add(\"ActiveInputButton\");\r\n    }\r\n  }\r\n\r\n  function updateCanvasBrush(){\r\n    drawingCanvasRef.current.freeDrawingBrush.color = currentColours[selectedColourRef.current];\r\n    drawingCanvasRef.current.freeDrawingBrush.width = brushSize;\r\n    if(isEraser){\r\n      drawingCanvasRef.current.freeDrawingCursor = getCustomEraserCursor();\r\n    } else {\r\n      drawingCanvasRef.current.freeDrawingCursor = getCustomCursor();\r\n    }\r\n  }\r\n\r\n  // toggle eraser on/off - save brush if toggled on - reset old brush if toggled off\r\n  function toggleEraser(){\r\n    if(isEraser){\r\n      drawingCanvasRef.current.freeDrawingBrush = savedBrush;\r\n      drawingCanvasRef.current.freeDrawingBrush.width = brushSize;\r\n      drawingCanvasRef.current.freeDrawingBrush.color = currentColours[selectedColour];\r\n      drawingCanvasRef.current.freeDrawingCursor = getCustomCursor();\r\n      document.getElementById(\"erase-brush-button\").classList.remove(\"Active\");\r\n    } else {\r\n      setSavedBrush(drawingCanvasRef.current.freeDrawingBrush);\r\n      drawingCanvasRef.current.freeDrawingBrush = new fabric.EraserBrush(drawingCanvasRef.current);\r\n      drawingCanvasRef.current.freeDrawingBrush.width = brushSize;\r\n      drawingCanvasRef.current.freeDrawingCursor = getCustomEraserCursor();\r\n      document.getElementById(\"erase-brush-button\").classList.add(\"Active\");\r\n    }\r\n    setIsEraser(!isEraser);\r\n  }\r\n  // undo/redo functions\r\n  // run on mouse up to save current canvas state to undo stack and then toggle isDrawing off\r\n  function saveCanvasState(){\r\n    // only run if mouse up is occuring after a drawing action\r\n    if(isDrawingRef.current){\r\n      // get version of undo stack to change\r\n      let newUndoStack = undoStackRef.current;\r\n      // drop oldest undo if over max undo count\r\n      if(newUndoStack.length === maxUndo){ newUndoStack.shift(); }\r\n      // add last current state stored before updating it to store the new state\r\n      newUndoStack.push(currentCanvasStateRef.current);\r\n      setCurrentCanvasState(drawingCanvasRef.current.toDatalessJSON());\r\n      // update undo stack into state, remove redo stack and then toggle isDrawing off\r\n      setUndoStack(newUndoStack);\r\n      setRedoStack([]);\r\n      setIsDrawing(false);\r\n    }\r\n  }\r\n  function undoDrawing(){\r\n    // if states left to undo\r\n    console.log(undoStack);\r\n    if(undoStack.length > 0){\r\n      // store state to come back to\r\n      let newCanvasState = currentCanvasState;\r\n      // push current state to redo stack\r\n      let newRedoStack = redoStackRef.current;\r\n      newRedoStack.splice(newRedoStack.length, 0, drawingCanvasRef.current.toDatalessJSON());\r\n      setRedoStack(newRedoStack);\r\n      // pop previous state from state stack\r\n      let newUndoStack = undoStackRef.current;\r\n      let newState = newUndoStack.pop();\r\n      // update to previous states and both stacks\r\n      setCurrentCanvasState(newState);\r\n      setUndoStack(newUndoStack);\r\n      // update actual canvas\r\n      drawingCanvas.loadFromJSON(newCanvasState);\r\n    }\r\n  }\r\n  function redoDrawing(){\r\n    // if states left to redo\r\n    if(redoStack.length > 0){\r\n      // pop new state from redo stack\r\n      let newRedoStack = redoStackRef.current;\r\n      let newCanvasState = newRedoStack.pop();\r\n      // push current state to undo stack\r\n      let newUndoStack = undoStackRef.current;\r\n      newUndoStack.push(currentCanvasStateRef.current);\r\n      setUndoStack(newUndoStack);\r\n      // update current state\r\n      setCurrentCanvasState(drawingCanvas.toDatalessJSON());\r\n      setRedoStack(newRedoStack);\r\n      // update actual canvas\r\n      drawingCanvas.loadFromJSON(newCanvasState);      \r\n    }\r\n  }\r\n  // on prompt update give a timer\r\n  function startPromptCountdown(newPrompt){\r\n    if(!isCountdown){\r\n      setIsCountdown(true);\r\n      let promptTimer = document.getElementById(\"prompt-end-timer-wrapper\").children[0];\r\n      let promptTimerOverlay = document.getElementById(\"prompt-end-timer-wrapper\").children[1];\r\n      promptTimerOverlay.style.transition = \"60s linear\";\r\n      promptTimerOverlay.style.width = \"100%\";\r\n      let countdown = 60;\r\n      promptTimer.innerHTML = \"this prompt will change in \" + countdown + \" seconds...\";\r\n      let x = setInterval(() => {    \r\n        countdown -= 1;\r\n        promptTimer.innerHTML = \"this prompt will change in \" + countdown + \" seconds...\";\r\n        if (countdown < 1) {\r\n          clearInterval(x);\r\n          promptTimerOverlay.style.transition = \"0s linear\";\r\n          promptTimerOverlay.style.width = \"0%\";\r\n          promptTimer.innerHTML = \"\";\r\n          setCurrentPrompt(newPrompt);\r\n          setIsCountdown(false);   \r\n        }\r\n      }, 1000);\r\n    }    \r\n  }\r\n\r\n  function dataURLtoFile(dataurl, filename){\r\n    var arr = dataurl.split(','),\r\n      mime = arr[0].match(/:(.*?);/)[1],\r\n      bstr = atob(arr[1]),\r\n      n = bstr.length,\r\n      u8arr = new Uint8Array(n);\r\n    while (n--) {\r\n      u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    return new File([u8arr], filename, {\r\n      type: mime\r\n    });\r\n  }\r\n\r\n  function getCSSRule(ruleName) {\r\n    ruleName = ruleName.toLowerCase();\r\n    var result = null;\r\n    var find = Array.prototype.find;\r\n\r\n    find.call(document.styleSheets, styleSheet => {\r\n        result = find.call(styleSheet.cssRules, cssRule => {\r\n            return cssRule instanceof CSSStyleRule \r\n                && cssRule.selectorText.toLowerCase() === ruleName;\r\n        });\r\n        return result != null;\r\n    });\r\n    return result;\r\n  }\r\n\r\n  function getCustomEraserCursor() {\r\n    const circle = \r\n      `<svg height=\"${brushSize}\"\r\n            viewBox=\"0 0 ${brushSize * 2} ${brushSize * 2}\"\r\n            width=\"${brushSize}\"\r\n            xmlns=\"http://www.w3.org/2000/svg\">\r\n        <circle cx=\"50%\"\r\n                cy=\"50%\"\r\n                fill=\"#000000\"\r\n                r=\"${brushSize}\" />\r\n        <circle cx=\"50%\"\r\n                cy=\"50%\"\r\n                fill=\"#ffffff\"\r\n                r=\"${brushSize-2}\" />\r\n      </svg>`;      \r\n    return `url(data:image/svg+xml;base64,${window.btoa(circle)}) ${brushSize / 2} ${brushSize / 2}, move`;\r\n  }\r\n\r\n  function getCustomCursor() {\r\n    const circle = \r\n      `<svg height=\"${brushSize}\"\r\n            fill=\"${currentColours[selectedColourRef.current]}\"\r\n            viewBox=\"0 0 ${brushSize * 2} ${brushSize * 2}\"\r\n            width=\"${brushSize}\"\r\n            xmlns=\"http://www.w3.org/2000/svg\">\r\n        <circle cx=\"50%\"\r\n                cy=\"50%\"\r\n                r=\"${brushSize}\" />\r\n      </svg>`;      \r\n    return `url(data:image/svg+xml;base64,${window.btoa(circle)}) ${brushSize / 2} ${brushSize / 2}, move`;\r\n  }\r\n}\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","export default __webpack_public_path__ + \"static/media/slowdiscpixel.685ade7f.gif\";"],"sourceRoot":""}